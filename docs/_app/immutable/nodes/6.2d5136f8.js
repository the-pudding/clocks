import{s as le,G as ce,Q as me,r as ye,u as be,v as $e,w as we,f as k,g as E,B as oe,j as b,J as Me,k as _e,i as D,R as Ne,y as W,d as m,N as De,o as Ve,p as ue,a as Y,h as S,c as z,E as he,x as v,H as ke,A as Ee,l as ee,m as te,n as Pe,O as Ae,z as Te,D as Ye,e as ge,C as ze,L as Le}from"../chunks/scheduler.d2971820.js";import{S as re,i as ie,b as G,d as F,m as X,a as P,t as T,e as q,h as Oe,c as Ce,g as Ie}from"../chunks/index.ca79f6f8.js";import{c as K,M as je,v as Re,e as Be}from"../chunks/version.2545f05b.js";import{I as He,g as We,b as Ue,H as Ge,F as Fe,M as Xe,a as qe,c as Qe}from"../chunks/clock.1eae6843.js";const Je=!0,Ke=Je;function Ze(a,e,s){a=+a,e=+e,s=(t=arguments.length)<2?(e=a,a=0,1):t<3?1:+s;for(var l=-1,t=Math.max(0,Math.ceil((e-a)/s))|0,n=new Array(t);++l<t;)n[l]=a+l*s;return n}function xe(a){let e;const s=a[2].default,l=ye(s,a,a[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8)&&be(l,s,t,t[3],e?we(s,t[3],n,null):$e(t[3]),null)},i(t){e||(P(l,t),e=!0)},o(t){T(l,t),e=!1},d(t){l&&l.d(t)}}}function et(a){let e,s;const l=[{name:"youtube"},a[1],{iconNode:a[0]}];let t={$$slots:{default:[xe]},$$scope:{ctx:a}};for(let n=0;n<l.length;n+=1)t=ce(t,l[n]);return e=new He({props:t}),{c(){G(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,o){X(e,n,o),s=!0},p(n,[o]){const p=o&3?We(l,[l[0],o&2&&Ue(n[1]),o&1&&{iconNode:n[0]}]):{};o&8&&(p.$$scope={dirty:o,ctx:n}),e.$set(p)},i(n){s||(P(e.$$.fragment,n),s=!0)},o(n){T(e.$$.fragment,n),s=!1},d(n){q(e,n)}}}function tt(a,e,s){let{$$slots:l={},$$scope:t}=e;const n=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}],["path",{d:"m10 15 5-3-5-3z"}]];return a.$$set=o=>{s(1,e=ce(ce({},e),me(o))),"$$scope"in o&&s(3,t=o.$$scope)},e=me(e),[n,e,l,t]}let st=class extends re{constructor(e){super(),ie(this,e,tt,et,le,{})}};const nt=st;function at(a){let e,s='<div id="player-yt" class="svelte-vwdx08"></div>',l;return{c(){e=k("div"),e.innerHTML=s,this.h()},l(t){e=E(t,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-pt8bag"&&(e.innerHTML=s),this.h()},h(){b(e,"class","wrapper svelte-vwdx08"),Me(()=>a[10].call(e)),_e(e,"height",a[2])},m(t,n){D(t,e,n),a[9](e),l=Ne(e,a[10].bind(e))},p(t,[n]){n&4&&_e(e,"height",t[2])},i:W,o:W,d(t){t&&m(e),a[9](null),l()}}}function lt(){const a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(a,e):document.body.appendChild(a)}function rt(a,e,s){let l,{timestamp:t}=e,{id:n}=e,{ready:o=!1}=e;const p=16/9,d=De();let r=null,c=-1,f,u=0,_=0,$;const w=()=>{s(8,$=!0),r.playVideo()};function L(){const y=u,Q=y/p;s(2,_=`${Q}px`),r.setSize(y,Q)}function g({data:y}){c=y}function C(){s(3,o=!0),document.addEventListener("visibilitychange",H)}function V(y){[2,100,101,150].includes(y==null?void 0:y.data)&&d("error",n)}function N(){if(n)r.loadVideoById({videoId:n,startSeconds:l}),$&&w();else return}function H(){const y=document.hidden;y&&(c===1||c===3)?r.pauseVideo():y||w()}Ve(()=>{lt(),window.onYouTubeIframeAPIReady=function(){s(7,r=new YT.Player("player-yt",{host:"https://www.youtube-nocookie.com",playerVars:{controls:1,cc_load_policy:0,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1,color:"white",autoplay:0},events:{onReady:C,onStateChange:g,onError:V}}))}});function Z(y){ue[y?"unshift":"push"](()=>{f=y,s(1,f)})}function A(){u=this.clientWidth,s(0,u)}return a.$$set=y=>{"timestamp"in y&&s(4,t=y.timestamp),"id"in y&&s(5,n=y.id),"ready"in y&&s(3,o=y.ready)},a.$$.update=()=>{a.$$.dirty&16&&(l=isNaN(t)?void 0:t-5),a.$$.dirty&296&&o&&$&&N(),a.$$.dirty&129&&r&&L()},[u,f,_,o,t,n,w,r,$,Z,A]}class it extends re{constructor(e){super(),ie(this,e,rt,at,le,{timestamp:4,id:5,ready:3,play:6})}get play(){return this.$$.ctx[6]}}function ot(a){let e,s,l,t,n;const o=a[2].default,p=ye(o,a,a[1],null);return{c(){e=k("section"),s=k("div"),l=Y(),t=k("div"),p&&p.c(),this.h()},l(d){e=E(d,"SECTION",{id:!0,class:!0});var r=S(e);s=E(r,"DIV",{class:!0}),S(s).forEach(m),l=z(r),t=E(r,"DIV",{class:!0});var c=S(t);p&&p.l(c),c.forEach(m),r.forEach(m),this.h()},h(){b(s,"class","bg svelte-1acws08"),b(t,"class","fg svelte-1acws08"),b(e,"id","gate"),b(e,"class","svelte-1acws08"),he(e,"visible",a[0])},m(d,r){D(d,e,r),v(e,s),v(e,l),v(e,t),p&&p.m(t,null),n=!0},p(d,[r]){p&&p.p&&(!n||r&2)&&be(p,o,d,d[1],n?we(o,d[1],r,null):$e(d[1]),null),(!n||r&1)&&he(e,"visible",d[0])},i(d){n||(P(p,d),n=!0)},o(d){T(p,d),n=!1},d(d){d&&m(e),p&&p.d(d)}}}function ct(a,e,s){let{$$slots:l={},$$scope:t}=e,{visible:n}=e;return a.$$set=o=>{"visible"in o&&s(0,n=o.visible),"$$scope"in o&&s(1,t=o.$$scope)},[n,t,l]}class ut extends re{constructor(e){super(),ie(this,e,ct,ot,le,{visible:0})}}function ft(a){let e,s,l;return{c(){e=k("div"),s=k("p"),l=new ke(!1),this.h()},l(t){e=E(t,"DIV",{class:!0});var n=S(e);s=E(n,"P",{class:!0});var o=S(s);l=Ee(o,!1),o.forEach(m),n.forEach(m),this.h()},h(){l.a=null,b(s,"class","svelte-1xva6zt"),b(e,"class","c svelte-1xva6zt")},m(t,n){D(t,e,n),v(e,s),l.m(a[0],s)},p(t,[n]){n&1&&l.p(t[0])},i:W,o:W,d(t){t&&m(e)}}}function dt(a){return` <mark>${a.map(s=>s===":"?`<span class="colon">${s}</span>`:s).join("")}</mark> `}function pt(a,e,s){const l=e.includes(":")?":":" ",t=e.toLowerCase(),o=a.toLowerCase().indexOf(t);if(o===-1)return{text:a};const p=o+t.length,d=a.slice(0,o),c=a.slice(o,p).split(l),f=c.shift(),u=c.join(" "),_=a.slice(p);return[{state:"before",text:d},{state:"mark",text:[f,":",u]},{state:"after",text:_}]}function mt(a,e,s){let l,t,{video:n}=e;function o(r,c,f,u){const _=Ze(.05,1,.05),$=u?c:f-1-c;return $<_.length?_[$]:1}function p(r,c){const f=r.split("");return f.map((_,$)=>({char:_,opacity:o(_,$,f.length,c)})).map(({char:_,opacity:$})=>$===1?_:`<span style="opacity: ${$}">${_}</span>`).join("")}function d(r){const c=[].concat(...r);let f="before",u="",_="",$;return c.forEach(({text:L,state:g})=>{g==="before"||!g&&f==="before"?u=`${u} ${L}`:g==="mark"?($=L,f="after"):(g==="after"||!g&&f==="after")&&(_=`${_} ${L}`)}),[p(u.trim(),!0),dt($),p(_.trim(),!1)].join("")}return a.$$set=r=>{"video"in r&&s(1,n=r.video)},a.$$.update=()=>{a.$$.dirty&2&&s(2,l=n.lines.map((r,c)=>pt(r,n.token))),a.$$.dirty&4&&s(0,t=d(l))},[t,n,l]}class _t extends re{constructor(e){super(),ie(this,e,mt,ft,le,{video:1})}}const ht=[{id:"VCNqrZHM5EI"},{id:"1XtajX96SwE"},{id:"5LcbUQdOXuY"},{id:"gcl_4nRmoDA"},{id:"bhaWEo8wpYU"},{id:"CzlPooOnO8o"},{id:"rq3Dw15xby0"},{id:"UpCYYYL6oU4"},{id:"1N2ylxYNU_w"},{id:"P-SWXbSVfsM"}];function gt(a,e,s){const l=a.slice();return l[23]=e[s].type,l[24]=e[s].value,l}function ve(a){let e,s,l;return s=new _t({props:{video:a[0]}}),{c(){e=k("div"),G(s.$$.fragment),this.h()},l(t){e=E(t,"DIV",{class:!0});var n=S(e);F(s.$$.fragment,n),n.forEach(m),this.h()},h(){b(e,"class","caption")},m(t,n){D(t,e,n),X(s,e,null),l=!0},p(t,n){const o={};n&1&&(o.video=t[0]),s.$set(o)},i(t){l||(P(s.$$.fragment,t),l=!0)},o(t){T(s.$$.fragment,t),l=!1},d(t){t&&m(e),q(s)}}}function vt(a){let e,s,l;return{c(){e=k("p"),s=new ke(!1),l=Y(),this.h()},l(t){e=E(t,"P",{});var n=S(e);s=Ee(n,!1),l=z(n),n.forEach(m),this.h()},h(){s.a=l},m(t,n){D(t,e,n),s.m(a[24],e),v(e,l)},p:W,d(t){t&&m(e)}}}function yt(a){let e,s=Be(K.videosMethod),l=[];for(let t=0;t<s.length;t+=1)l[t]=vt(gt(a,s,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=ge()},l(t){for(let n=0;n<l.length;n+=1)l[n].l(t);e=ge()},m(t,n){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,n);D(t,e,n)},p:W,d(t){t&&m(e),ze(l,t)}}}function bt(a){let e,s="Loading...";return{c(){e=k("span"),e.textContent=s,this.h()},l(l){e=E(l,"SPAN",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-omrbt4"&&(e.textContent=s),this.h()},h(){b(e,"class","svelte-1e4nats")},m(l,t){D(l,e,t)},p:W,i:W,o:W,d(l){l&&m(e)}}}function $t(a){let e,s,l="Watch",t,n,o,p,d;return n=new nt({}),{c(){e=k("button"),s=k("span"),s.textContent=l,t=Y(),G(n.$$.fragment),this.h()},l(r){e=E(r,"BUTTON",{class:!0});var c=S(e);s=E(c,"SPAN",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-1gohb1r"&&(s.textContent=l),t=z(c),F(n.$$.fragment,c),c.forEach(m),this.h()},h(){b(s,"class","svelte-1e4nats"),b(e,"class","svelte-1e4nats")},m(r,c){D(r,e,c),v(e,s),v(e,t),X(n,e,null),o=!0,p||(d=Le(e,"click",a[12]),p=!0)},p:W,i(r){o||(P(n.$$.fragment,r),o=!0)},o(r){T(n.$$.fragment,r),o=!1},d(r){r&&m(e),q(n),p=!1,d()}}}function wt(a){let e,s,l=K.videosWarning+"",t,n,o,p=K.videosIntro+"",d,r,c,f,u,_;const $=[$t,bt],w=[];function L(g,C){return g[3]?0:1}return f=L(a),u=w[f]=$[f](a),{c(){e=k("div"),s=k("p"),t=ee(l),n=Y(),o=k("p"),d=ee(p),r=Y(),c=k("p"),u.c(),this.h()},l(g){e=E(g,"DIV",{class:!0});var C=S(e);s=E(C,"P",{class:!0});var V=S(s);t=te(V,l),V.forEach(m),n=z(C),o=E(C,"P",{class:!0});var N=S(o);d=te(N,p),N.forEach(m),r=z(C),c=E(C,"P",{class:!0});var H=S(c);u.l(H),H.forEach(m),C.forEach(m),this.h()},h(){b(s,"class","warning svelte-1e4nats"),b(o,"class","description"),b(c,"class","begin svelte-1e4nats"),b(e,"class","intro svelte-1e4nats")},m(g,C){D(g,e,C),v(e,s),v(s,t),v(e,n),v(e,o),v(o,d),v(e,r),v(e,c),w[f].m(c,null),_=!0},p(g,C){let V=f;f=L(g),f===V?w[f].p(g,C):(Ie(),T(w[V],1,1,()=>{w[V]=null}),Ce(),u=w[f],u?u.p(g,C):(u=w[f]=$[f](g),u.c()),P(u,1),u.m(c,null))},i(g){_||(P(u),_=!0)},o(g){T(u),_=!1},d(g){g&&m(e),w[f].d()}}}function kt(a){let e,s,l,t,n,o=K.videosTitle+"",p,d,r,c,f,u,_,$,w,L="time",g,C,V,N,H,Z,A,y,Q,M,R,O,j,se,B,ne;e=new je({props:{title:a[9],description:a[10],url:a[8],keywords:a[11]}}),l=new Ge({});function Se(i){a[17](i)}let fe={id:a[7],timestamp:a[6]};a[3]!==void 0&&(fe.ready=a[3]),A=new it({props:fe}),ue.push(()=>Oe(A,"ready",Se)),a[18](A),A.$on("error",a[13]);let I=a[0]&&ve(a);return R=new Fe({props:{text:K.videosTitle,warning:!1,tease:"check out the <a href='../songs'>song</a> or <a href='../news'>news</a> clock"}}),j=new Xe({props:{$$slots:{default:[yt]},$$scope:{ctx:a}}}),B=new ut({props:{visible:!a[1],$$slots:{default:[wt]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment),s=Y(),G(l.$$.fragment),t=Y(),n=k("h1"),p=ee(o),d=Y(),r=k("section"),c=k("div"),f=k("div"),u=k("p"),_=ee(a[5]),$=ee(" with the "),w=k("mark"),w.textContent=L,g=ee(" mentioned"),C=Y(),V=k("p"),N=k("a"),H=ee("report video"),Z=Y(),G(A.$$.fragment),Q=Y(),I&&I.c(),M=Y(),G(R.$$.fragment),O=Y(),G(j.$$.fragment),se=Y(),G(B.$$.fragment),this.h()},l(i){F(e.$$.fragment,i),s=z(i),F(l.$$.fragment,i),t=z(i),n=E(i,"H1",{class:!0});var h=S(n);p=te(h,o),h.forEach(m),d=z(i),r=E(i,"SECTION",{class:!0});var U=S(r);c=E(U,"DIV",{class:!0});var x=S(c);f=E(x,"DIV",{class:!0});var J=S(f);u=E(J,"P",{class:!0});var ae=S(u);_=te(ae,a[5]),$=te(ae," with the "),w=E(ae,"MARK",{class:!0,"data-svelte-h":!0}),oe(w)!=="svelte-y4uz01"&&(w.textContent=L),g=te(ae," mentioned"),ae.forEach(m),C=z(J),V=E(J,"P",{class:!0});var de=S(V);N=E(de,"A",{href:!0,target:!0,rel:!0});var pe=S(N);H=te(pe,"report video"),pe.forEach(m),de.forEach(m),J.forEach(m),Z=z(x),F(A.$$.fragment,x),x.forEach(m),Q=z(U),I&&I.l(U),U.forEach(m),M=z(i),F(R.$$.fragment,i),O=z(i),F(j.$$.fragment,i),se=z(i),F(B.$$.fragment,i),this.h()},h(){b(n,"class","sr-only"),b(w,"class","svelte-1e4nats"),b(u,"class","playing svelte-1e4nats"),b(N,"href",a[4]),b(N,"target","_blank"),b(N,"rel","noreferrer"),b(V,"class","report svelte-1e4nats"),b(f,"class","eyebrow svelte-1e4nats"),b(c,"class","video"),b(r,"class","svelte-1e4nats")},m(i,h){X(e,i,h),D(i,s,h),X(l,i,h),D(i,t,h),D(i,n,h),v(n,p),D(i,d,h),D(i,r,h),v(r,c),v(c,f),v(f,u),v(u,_),v(u,$),v(u,w),v(u,g),v(f,C),v(f,V),v(V,N),v(N,H),v(c,Z),X(A,c,null),v(r,Q),I&&I.m(r,null),D(i,M,h),X(R,i,h),D(i,O,h),X(j,i,h),D(i,se,h),X(B,i,h),ne=!0},p(i,[h]){(!ne||h&32)&&Pe(_,i[5]),(!ne||h&16)&&b(N,"href",i[4]);const U={};h&128&&(U.id=i[7]),h&64&&(U.timestamp=i[6]),!y&&h&8&&(y=!0,U.ready=i[3],Ae(()=>y=!1)),A.$set(U),i[0]?I?(I.p(i,h),h&1&&P(I,1)):(I=ve(i),I.c(),P(I,1),I.m(r,null)):I&&(Ie(),T(I,1,1,()=>{I=null}),Ce());const x={};h&134217728&&(x.$$scope={dirty:h,ctx:i}),j.$set(x);const J={};h&2&&(J.visible=!i[1]),h&134217736&&(J.$$scope={dirty:h,ctx:i}),B.$set(J)},i(i){ne||(P(e.$$.fragment,i),P(l.$$.fragment,i),P(A.$$.fragment,i),P(I),P(R.$$.fragment,i),P(j.$$.fragment,i),P(B.$$.fragment,i),ne=!0)},o(i){T(e.$$.fragment,i),T(l.$$.fragment,i),T(A.$$.fragment,i),T(I),T(R.$$.fragment,i),T(j.$$.fragment,i),T(B.$$.fragment,i),ne=!1},d(i){i&&(m(s),m(t),m(n),m(d),m(r),m(M),m(O),m(se)),q(e,i),q(l,i),a[18](null),q(A),I&&I.d(),q(R,i),q(j,i),q(B,i)}}}function Et(a,e,s){let l,t,n,o,p,d;Te(a,qe,M=>s(16,d=M)),Re();let r,c,f,u,_;const $=ht.map(M=>M.id),{url:w}=K,{title:L,description:g,keywords:C,path:V}=K.videosMeta;Ye("copy",K);async function N(M,R){const j=(await A()).filter(B=>!(R&&B.views<R||B.category==="25"));s(14,c=j.length);const se=Math.floor(Math.random()*j.length);s(0,r={...j[se]})}function H(){s(1,f=!0),u.play()}function Z({detail:M}){$.push(M),N()}async function A(){const M=l.replace(":","-");return(await Qe(`../assets/videos/${M}.csv`)).filter(O=>!$.includes(O.id)).map(O=>({...O,views:+O.views,style:O.manual==="true"?"manual":"auto",lines:O.lines.split("||")}))}function y(M){_=M,s(3,_)}function Q(M){ue[M?"unshift":"push"](()=>{u=M,s(2,u)})}return a.$$.update=()=>{a.$$.dirty&65536&&s(15,l=`${d.time}${d.period}`.toLowerCase()),a.$$.dirty&32770&&f&&Ke&&N(),a.$$.dirty&1&&s(7,t=r==null?void 0:r.id),a.$$.dirty&1&&s(6,n=r==null?void 0:r.timestamp),a.$$.dirty&16384&&s(5,o=c?`${c} video${c===1?"":"s"}`:"No videos"),a.$$.dirty&32769&&s(4,p=`https://docs.google.com/forms/d/e/1FAIpQLSeIbDnB265gfhnjGfw6S1zu-rOgx-2DDjrUlM_f67Fo5eS9GA/viewform?usp=pp_url&entry.2046651731=${r==null?void 0:r.id}&entry.1762409617=${l}`)},[r,f,u,_,p,o,n,t,w,L,g,C,H,Z,c,l,d,y,Q]}class Dt extends re{constructor(e){super(),ie(this,e,Et,kt,le,{})}}export{Dt as component};
