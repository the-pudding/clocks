import{s as J,G as ee,Q as ne,r as oe,u as ce,v as ue,w as fe,f as E,g as C,B as x,j as w,J as he,k as ae,i as T,R as ge,y as j,d as v,N as ve,o as ye,p as te,a as P,h as S,c as z,E as le,x as $,H as de,A as pe,l as F,m as Q,z as be,D as $e,n as we,O as ke,e as re,C as Ee,L as Ce}from"../chunks/scheduler.d2971820.js";import{S as K,i as X,b as H,d as O,m as R,a as D,t as V,e as Y,c as me,h as Ie,g as _e}from"../chunks/index.ca79f6f8.js";import{c as W,M as Me,v as Se,e as Ne}from"../chunks/version.2e3af60b.js";import{I as De,g as Te,b as Ve,H as Ae,F as Pe,M as ze,c as Le,a as je}from"../chunks/clock.edb10607.js";function Be(n,e,s){n=+n,e=+e,s=(t=arguments.length)<2?(e=n,n=0,1):t<3?1:+s;for(var l=-1,t=Math.max(0,Math.ceil((e-n)/s))|0,a=new Array(t);++l<t;)a[l]=n+l*s;return a}function He(n){let e;const s=n[2].default,l=oe(s,n,n[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,a){l&&l.p&&(!e||a&8)&&ce(l,s,t,t[3],e?fe(s,t[3],a,null):ue(t[3]),null)},i(t){e||(D(l,t),e=!0)},o(t){V(l,t),e=!1},d(t){l&&l.d(t)}}}function Oe(n){let e,s;const l=[{name:"youtube"},n[1],{iconNode:n[0]}];let t={$$slots:{default:[He]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)t=ee(t,l[a]);return e=new De({props:t}),{c(){H(e.$$.fragment)},l(a){O(e.$$.fragment,a)},m(a,o){R(e,a,o),s=!0},p(a,[o]){const d=o&3?Te(l,[l[0],o&2&&Ve(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(d.$$scope={dirty:o,ctx:a}),e.$set(d)},i(a){s||(D(e.$$.fragment,a),s=!0)},o(a){V(e.$$.fragment,a),s=!1},d(a){Y(e,a)}}}function Re(n,e,s){let{$$slots:l={},$$scope:t}=e;const a=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}],["path",{d:"m10 15 5-3-5-3z"}]];return n.$$set=o=>{s(1,e=ee(ee({},e),ne(o))),"$$scope"in o&&s(3,t=o.$$scope)},e=ne(e),[a,e,l,t]}let Ye=class extends K{constructor(e){super(),X(this,e,Re,Oe,J,{})}};const Ge=Ye;function We(n){let e,s='<div id="player-yt" class="svelte-vwdx08"></div>',l;return{c(){e=E("div"),e.innerHTML=s,this.h()},l(t){e=C(t,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-pt8bag"&&(e.innerHTML=s),this.h()},h(){w(e,"class","wrapper svelte-vwdx08"),he(()=>n[10].call(e)),ae(e,"height",n[2])},m(t,a){T(t,e,a),n[9](e),l=ge(e,n[10].bind(e))},p(t,[a]){a&4&&ae(e,"height",t[2])},i:j,o:j,d(t){t&&v(e),n[9](null),l()}}}function Fe(){const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(n,e):document.body.appendChild(n)}function Qe(n,e,s){let l,{timestamp:t}=e,{id:a}=e,{ready:o=!1}=e;const d=16/9,p=ve();let i=null,c=-1,m,u=0,h=0,y;const b=()=>{s(8,y=!0),i.playVideo()};function g(){const _=u,A=_/d;s(2,h=`${A}px`),i.setSize(_,A)}function r({data:_}){c=_}function f(){s(3,o=!0),document.addEventListener("visibilitychange",G)}function I(_){[2,100,101,150].includes(_==null?void 0:_.data)&&p("error",a)}function N(){if(a)i.loadVideoById({videoId:a,startSeconds:l}),y&&b();else return}function G(){const _=document.hidden;_&&(c===1||c===3)?i.pauseVideo():_||b()}ye(()=>{Fe(),window.onYouTubeIframeAPIReady=function(){s(7,i=new YT.Player("player-yt",{host:"https://www.youtube-nocookie.com",playerVars:{controls:1,cc_load_policy:0,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1,color:"white",autoplay:0},events:{onReady:f,onStateChange:r,onError:I}}))}});function U(_){te[_?"unshift":"push"](()=>{m=_,s(1,m)})}function k(){u=this.clientWidth,s(0,u)}return n.$$set=_=>{"timestamp"in _&&s(4,t=_.timestamp),"id"in _&&s(5,a=_.id),"ready"in _&&s(3,o=_.ready)},n.$$.update=()=>{n.$$.dirty&16&&(l=isNaN(t)?void 0:t-5),n.$$.dirty&296&&o&&y&&N(),n.$$.dirty&129&&i&&g()},[u,m,h,o,t,a,b,i,y,U,k]}class Ue extends K{constructor(e){super(),X(this,e,Qe,We,J,{timestamp:4,id:5,ready:3,play:6})}get play(){return this.$$.ctx[6]}}function qe(n){let e,s,l,t,a;const o=n[2].default,d=oe(o,n,n[1],null);return{c(){e=E("section"),s=E("div"),l=P(),t=E("div"),d&&d.c(),this.h()},l(p){e=C(p,"SECTION",{id:!0,class:!0});var i=S(e);s=C(i,"DIV",{class:!0}),S(s).forEach(v),l=z(i),t=C(i,"DIV",{class:!0});var c=S(t);d&&d.l(c),c.forEach(v),i.forEach(v),this.h()},h(){w(s,"class","bg svelte-1acws08"),w(t,"class","fg svelte-1acws08"),w(e,"id","gate"),w(e,"class","svelte-1acws08"),le(e,"visible",n[0])},m(p,i){T(p,e,i),$(e,s),$(e,l),$(e,t),d&&d.m(t,null),a=!0},p(p,[i]){d&&d.p&&(!a||i&2)&&ce(d,o,p,p[1],a?fe(o,p[1],i,null):ue(p[1]),null),(!a||i&1)&&le(e,"visible",p[0])},i(p){a||(D(d,p),a=!0)},o(p){V(d,p),a=!1},d(p){p&&v(e),d&&d.d(p)}}}function Je(n,e,s){let{$$slots:l={},$$scope:t}=e,{visible:a}=e;return n.$$set=o=>{"visible"in o&&s(0,a=o.visible),"$$scope"in o&&s(1,t=o.$$scope)},[a,t,l]}class Ke extends K{constructor(e){super(),X(this,e,Je,qe,J,{visible:0})}}function Xe(n){let e,s,l;return{c(){e=E("div"),s=E("p"),l=new de(!1),this.h()},l(t){e=C(t,"DIV",{class:!0});var a=S(e);s=C(a,"P",{class:!0});var o=S(s);l=pe(o,!1),o.forEach(v),a.forEach(v),this.h()},h(){l.a=null,w(s,"class","svelte-1xva6zt"),w(e,"class","c svelte-1xva6zt")},m(t,a){T(t,e,a),$(e,s),l.m(n[0],s)},p(t,[a]){a&1&&l.p(t[0])},i:j,o:j,d(t){t&&v(e)}}}function Ze(n){return` <mark>${n.map(s=>s===":"?`<span class="colon">${s}</span>`:s).join("")}</mark> `}function xe(n,e,s){const l=e.includes(":")?":":" ",t=e.toLowerCase(),o=n.toLowerCase().indexOf(t);if(o===-1)return{text:n};const d=o+t.length,p=n.slice(0,o),c=n.slice(o,d).split(l),m=c.shift(),u=c.join(" "),h=n.slice(d);return[{state:"before",text:p},{state:"mark",text:[m,":",u]},{state:"after",text:h}]}function et(n,e,s){let l,t,{video:a}=e;function o(i,c,m,u){const h=Be(.05,1,.05),y=u?c:m-1-c;return y<h.length?h[y]:1}function d(i,c){const m=i.split("");return m.map((h,y)=>({char:h,opacity:o(h,y,m.length,c)})).map(({char:h,opacity:y})=>y===1?h:`<span style="opacity: ${y}">${h}</span>`).join("")}function p(i){const c=[].concat(...i);let m="before",u="",h="",y;return c.forEach(({text:g,state:r})=>{r==="before"||!r&&m==="before"?u=`${u} ${g}`:r==="mark"?(y=g,m="after"):(r==="after"||!r&&m==="after")&&(h=`${h} ${g}`)}),[d(u.trim(),!0),Ze(y),d(h.trim(),!1)].join("")}return n.$$set=i=>{"video"in i&&s(1,a=i.video)},n.$$.update=()=>{n.$$.dirty&2&&s(2,l=a.lines.map((i,c)=>xe(i,a.token))),n.$$.dirty&4&&s(0,t=p(l))},[t,a,l]}class tt extends K{constructor(e){super(),X(this,e,et,Xe,J,{video:1})}}function st(n,e,s){const l=n.slice();return l[23]=e[s].type,l[24]=e[s].value,l}function ie(n){let e,s,l,t,a,o,d,p="time",i,c,m,u,h,y,b,g,r,f,I,N;function G(k){n[17](k)}let U={id:n[7],timestamp:n[6]};return n[3]!==void 0&&(U.ready=n[3]),b=new Ue({props:U}),te.push(()=>Ie(b,"ready",G)),n[18](b),b.$on("error",n[13]),I=new tt({props:{video:n[0]}}),{c(){e=E("section"),s=E("div"),l=E("div"),t=E("p"),a=F(n[5]),o=F(" with the "),d=E("mark"),d.textContent=p,i=F(" mentioned"),c=P(),m=E("p"),u=E("a"),h=F("report video"),y=P(),H(b.$$.fragment),r=P(),f=E("div"),H(I.$$.fragment),this.h()},l(k){e=C(k,"SECTION",{class:!0});var _=S(e);s=C(_,"DIV",{class:!0});var A=S(s);l=C(A,"DIV",{class:!0});var M=S(l);t=C(M,"P",{class:!0});var B=S(t);a=Q(B,n[5]),o=Q(B," with the "),d=C(B,"MARK",{class:!0,"data-svelte-h":!0}),x(d)!=="svelte-y4uz01"&&(d.textContent=p),i=Q(B," mentioned"),B.forEach(v),c=z(M),m=C(M,"P",{class:!0});var L=S(m);u=C(L,"A",{href:!0,target:!0,rel:!0});var q=S(u);h=Q(q,"report video"),q.forEach(v),L.forEach(v),M.forEach(v),y=z(A),O(b.$$.fragment,A),A.forEach(v),r=z(_),f=C(_,"DIV",{class:!0});var Z=S(f);O(I.$$.fragment,Z),Z.forEach(v),_.forEach(v),this.h()},h(){w(d,"class","svelte-1e4nats"),w(t,"class","playing svelte-1e4nats"),w(u,"href",n[4]),w(u,"target","_blank"),w(u,"rel","noreferrer"),w(m,"class","report svelte-1e4nats"),w(l,"class","eyebrow svelte-1e4nats"),w(s,"class","video"),w(f,"class","caption"),w(e,"class","svelte-1e4nats")},m(k,_){T(k,e,_),$(e,s),$(s,l),$(l,t),$(t,a),$(t,o),$(t,d),$(t,i),$(l,c),$(l,m),$(m,u),$(u,h),$(s,y),R(b,s,null),$(e,r),$(e,f),R(I,f,null),N=!0},p(k,_){(!N||_&32)&&we(a,k[5]),(!N||_&16)&&w(u,"href",k[4]);const A={};_&128&&(A.id=k[7]),_&64&&(A.timestamp=k[6]),!g&&_&8&&(g=!0,A.ready=k[3],ke(()=>g=!1)),b.$set(A);const M={};_&1&&(M.video=k[0]),I.$set(M)},i(k){N||(D(b.$$.fragment,k),D(I.$$.fragment,k),N=!0)},o(k){V(b.$$.fragment,k),V(I.$$.fragment,k),N=!1},d(k){k&&v(e),n[18](null),Y(b),Y(I)}}}function nt(n){let e,s,l;return{c(){e=E("p"),s=new de(!1),l=P(),this.h()},l(t){e=C(t,"P",{});var a=S(e);s=pe(a,!1),l=z(a),a.forEach(v),this.h()},h(){s.a=l},m(t,a){T(t,e,a),s.m(n[24],e),$(e,l)},p:j,d(t){t&&v(e)}}}function at(n){let e,s=Ne(W.videosMethod),l=[];for(let t=0;t<s.length;t+=1)l[t]=nt(st(n,s,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=re()},l(t){for(let a=0;a<l.length;a+=1)l[a].l(t);e=re()},m(t,a){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,a);T(t,e,a)},p:j,d(t){t&&v(e),Ee(l,t)}}}function lt(n){let e,s="Loading...";return{c(){e=E("span"),e.textContent=s,this.h()},l(l){e=C(l,"SPAN",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-omrbt4"&&(e.textContent=s),this.h()},h(){w(e,"class","svelte-1e4nats")},m(l,t){T(l,e,t)},p:j,i:j,o:j,d(l){l&&v(e)}}}function rt(n){let e,s,l="Watch",t,a,o,d,p;return a=new Ge({}),{c(){e=E("button"),s=E("span"),s.textContent=l,t=P(),H(a.$$.fragment),this.h()},l(i){e=C(i,"BUTTON",{class:!0});var c=S(e);s=C(c,"SPAN",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1gohb1r"&&(s.textContent=l),t=z(c),O(a.$$.fragment,c),c.forEach(v),this.h()},h(){w(s,"class","svelte-1e4nats"),w(e,"class","svelte-1e4nats")},m(i,c){T(i,e,c),$(e,s),$(e,t),R(a,e,null),o=!0,d||(p=Ce(e,"click",n[12]),d=!0)},p:j,i(i){o||(D(a.$$.fragment,i),o=!0)},o(i){V(a.$$.fragment,i),o=!1},d(i){i&&v(e),Y(a),d=!1,p()}}}function it(n){let e,s,l=W.videosWarning+"",t,a,o,d=W.videosIntro+"",p,i,c,m,u,h;const y=[rt,lt],b=[];function g(r,f){return r[3]?0:1}return m=g(n),u=b[m]=y[m](n),{c(){e=E("div"),s=E("p"),t=F(l),a=P(),o=E("p"),p=F(d),i=P(),c=E("p"),u.c(),this.h()},l(r){e=C(r,"DIV",{class:!0});var f=S(e);s=C(f,"P",{class:!0});var I=S(s);t=Q(I,l),I.forEach(v),a=z(f),o=C(f,"P",{class:!0});var N=S(o);p=Q(N,d),N.forEach(v),i=z(f),c=C(f,"P",{class:!0});var G=S(c);u.l(G),G.forEach(v),f.forEach(v),this.h()},h(){w(s,"class","warning svelte-1e4nats"),w(o,"class","description"),w(c,"class","begin svelte-1e4nats"),w(e,"class","intro svelte-1e4nats")},m(r,f){T(r,e,f),$(e,s),$(s,t),$(e,a),$(e,o),$(o,p),$(e,i),$(e,c),b[m].m(c,null),h=!0},p(r,f){let I=m;m=g(r),m===I?b[m].p(r,f):(_e(),V(b[I],1,1,()=>{b[I]=null}),me(),u=b[m],u?u.p(r,f):(u=b[m]=y[m](r),u.c()),D(u,1),u.m(c,null))},i(r){h||(D(u),h=!0)},o(r){V(u),h=!1},d(r){r&&v(e),b[m].d()}}}function ot(n){let e,s,l,t,a,o=W.videosTitle+"",d,p,i,c,m,u,h,y,b;e=new Me({props:{title:n[9],description:n[10],url:n[8],keywords:n[11]}}),l=new Ae({});let g=n[0]&&ie(n);return c=new Pe({props:{text:W.videosTitle,warning:!1,tease:"check out the song clock",teaseLink:"../songs"}}),u=new ze({props:{$$slots:{default:[at]},$$scope:{ctx:n}}}),y=new Ke({props:{visible:!n[1],$$slots:{default:[it]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment),s=P(),H(l.$$.fragment),t=P(),a=E("h1"),d=F(o),p=P(),g&&g.c(),i=P(),H(c.$$.fragment),m=P(),H(u.$$.fragment),h=P(),H(y.$$.fragment),this.h()},l(r){O(e.$$.fragment,r),s=z(r),O(l.$$.fragment,r),t=z(r),a=C(r,"H1",{class:!0});var f=S(a);d=Q(f,o),f.forEach(v),p=z(r),g&&g.l(r),i=z(r),O(c.$$.fragment,r),m=z(r),O(u.$$.fragment,r),h=z(r),O(y.$$.fragment,r),this.h()},h(){w(a,"class","sr-only")},m(r,f){R(e,r,f),T(r,s,f),R(l,r,f),T(r,t,f),T(r,a,f),$(a,d),T(r,p,f),g&&g.m(r,f),T(r,i,f),R(c,r,f),T(r,m,f),R(u,r,f),T(r,h,f),R(y,r,f),b=!0},p(r,[f]){r[0]?g?(g.p(r,f),f&1&&D(g,1)):(g=ie(r),g.c(),D(g,1),g.m(i.parentNode,i)):g&&(_e(),V(g,1,1,()=>{g=null}),me());const I={};f&134217728&&(I.$$scope={dirty:f,ctx:r}),u.$set(I);const N={};f&2&&(N.visible=!r[1]),f&134217736&&(N.$$scope={dirty:f,ctx:r}),y.$set(N)},i(r){b||(D(e.$$.fragment,r),D(l.$$.fragment,r),D(g),D(c.$$.fragment,r),D(u.$$.fragment,r),D(y.$$.fragment,r),b=!0)},o(r){V(e.$$.fragment,r),V(l.$$.fragment,r),V(g),V(c.$$.fragment,r),V(u.$$.fragment,r),V(y.$$.fragment,r),b=!1},d(r){r&&(v(s),v(t),v(a),v(p),v(i),v(m),v(h)),Y(e,r),Y(l,r),g&&g.d(r),Y(c,r),Y(u,r),Y(y,r)}}}function ct(n,e,s){let l,t,a,o,d,p;be(n,je,M=>s(16,p=M)),Se();let i,c,m,u,h;const y=[],{url:b}=W,{title:g,description:r,keywords:f,path:I}=W.videosMeta;$e("copy",W);async function N(M,B){const q=(await k()).filter(se=>!(B&&se.views<B||se.category==="25"));s(14,c=q.length);const Z=Math.floor(Math.random()*q.length);s(0,i={...q[Z]})}function G(){s(1,m=!0),u.play()}function U({detail:M}){y.push(M),N()}async function k(){const M=l.replace(":","-");return(await Le(`../assets/videos/${M}.csv`)).filter(L=>!y.includes(L.id)).map(L=>({...L,views:+L.views,style:L.manual==="true"?"manual":"auto",lines:L.lines.split("||")}))}function _(M){h=M,s(3,h)}function A(M){te[M?"unshift":"push"](()=>{u=M,s(2,u)})}return n.$$.update=()=>{n.$$.dirty&65536&&s(15,l=`${p.time}${p.period}`.toLowerCase()),n.$$.dirty&32768&&N(),n.$$.dirty&1&&s(7,t=i==null?void 0:i.id),n.$$.dirty&1&&s(6,a=i==null?void 0:i.timestamp),n.$$.dirty&16384&&s(5,o=c?`${c} video${c===1?"":"s"}`:"No videos"),n.$$.dirty&32769&&s(4,d=`https://docs.google.com/forms/d/e/1FAIpQLSeIbDnB265gfhnjGfw6S1zu-rOgx-2DDjrUlM_f67Fo5eS9GA/viewform?usp=pp_url&entry.2046651731=${i==null?void 0:i.id}&entry.1762409617=${l}`)},[i,m,u,h,d,o,a,t,b,g,r,f,G,U,c,l,p,_,A]}class _t extends K{constructor(e){super(),X(this,e,ct,ot,J,{})}}export{_t as component};
