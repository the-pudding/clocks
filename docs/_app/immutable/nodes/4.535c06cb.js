import{s as ge,f as A,a as j,l as Y,g as C,h as S,d as h,c as F,m as Q,j as b,k as pe,i as z,x as _,n as le,y as ne,C as ye,e as fe,E as ae,G as Te,K as He,J as de,L as Z,M as Be,z as re,N as Ke,o as Re,t as Ue,p as ve,O as Ge,D as Je,B as Ae,P as Ye,H as Qe,A as We}from"../chunks/scheduler.d2971820.js";import{S as be,i as ke,n as Xe,l as Ze,r as $e,h as xe,b as $,d as x,m as ee,a as B,t as J,c as Ie,e as te,g as Ve}from"../chunks/index.ca79f6f8.js";import{e as oe,c as se,M as et,v as tt}from"../chunks/version.60bb68a2.js";import{i as _e,H as st,F as nt,M as rt,V as lt,c as at,a as it,m as ot,t as ut}from"../chunks/clock.c138ca69.js";import{w as ft}from"../chunks/singletons.6fbc9319.js";const ct=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ce(t,e,s){const l=t.slice();return l[8]=e[s].text,l[9]=e[s].mark,l}function Me(t,e,s){const l=t.slice();l[12]=e[s];const n=l[12]===":";return l[13]=n,l}function dt(t){let e,s=t[8]+"",l;return{c(){e=A("span"),l=Y(s),this.h()},l(n){e=C(n,"SPAN",{class:!0});var r=S(e);l=Q(r,s),r.forEach(h),this.h()},h(){b(e,"class","other svelte-11u3eut")},m(n,r){z(n,e,r),_(e,l)},p(n,r){r&1&&s!==(s=n[8]+"")&&le(l,s)},d(n){n&&h(e)}}}function ht(t){let e,s,l=oe(t[8]),n=[];for(let r=0;r<l.length;r+=1)n[r]=Se(Me(t,l,r));return{c(){e=A("mark");for(let r=0;r<n.length;r+=1)n[r].c();s=j(),this.h()},l(r){e=C(r,"MARK",{class:!0});var a=S(e);for(let i=0;i<n.length;i+=1)n[i].l(a);s=F(a),a.forEach(h),this.h()},h(){b(e,"class","svelte-11u3eut")},m(r,a){z(r,e,a);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);_(e,s)},p(r,a){if(a&1){l=oe(r[8]);let i;for(i=0;i<l.length;i+=1){const o=Me(r,l,i);n[i]?n[i].p(o,a):(n[i]=Se(o),n[i].c(),n[i].m(e,s))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(r){r&&h(e),ye(n,r)}}}function Se(t){let e,s=t[12]+"",l;return{c(){e=A("span"),l=Y(s),this.h()},l(n){e=C(n,"SPAN",{class:!0});var r=S(e);l=Q(r,s),r.forEach(h),this.h()},h(){b(e,"class","svelte-11u3eut"),ae(e,"colon",t[13])},m(n,r){z(n,e,r),_(e,l)},p(n,r){r&1&&s!==(s=n[12]+"")&&le(l,s),r&1&&ae(e,"colon",n[13])},d(n){n&&h(e)}}}function De(t){let e;function s(r,a){return r[9]?ht:dt}let l=s(t),n=l(t);return{c(){n.c(),e=fe()},l(r){n.l(r),e=fe()},m(r,a){n.m(r,a),z(r,e,a)},p(r,a){l===(l=s(r))&&n?n.p(r,a):(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){r&&h(e),n.d(r)}}}function pt(t){let e,s,l,n,r,a,i=oe(t[0]),o=[];for(let u=0;u<i.length;u+=1)o[u]=De(Ce(t,i,u));return{c(){e=A("p"),s=A("a");for(let u=0;u<o.length;u+=1)o[u].c();l=j(),n=A("span"),r=Y("by "),a=Y(t[1]),this.h()},l(u){e=C(u,"P",{class:!0,style:!0});var d=S(e);s=C(d,"A",{href:!0,target:!0,rel:!0,class:!0});var c=S(s);for(let T=0;T<o.length;T+=1)o[T].l(c);c.forEach(h),l=F(d),n=C(d,"SPAN",{class:!0});var k=S(n);r=Q(k,"by "),a=Q(k,t[1]),k.forEach(h),d.forEach(h),this.h()},h(){b(s,"href",t[2]),b(s,"target","_blank"),b(s,"rel","noreferrer"),b(s,"class","svelte-11u3eut"),b(n,"class","artist svelte-11u3eut"),b(e,"class","clock text-outline svelte-11u3eut"),pe(e,"--font-size",t[3])},m(u,d){z(u,e,d),_(e,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null);_(e,l),_(e,n),_(n,r),_(n,a)},p(u,[d]){if(d&1){i=oe(u[0]);let c;for(c=0;c<i.length;c+=1){const k=Ce(u,i,c);o[c]?o[c].p(k,d):(o[c]=De(k),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}d&4&&b(s,"href",u[2]),d&2&&le(a,u[1])},i:ne,o:ne,d(u){u&&h(e),ye(o,u)}}}function _t(t,e,s){let l,{title:n}=e,{artist:r}=e,{id:a}=e,o=`${[4,5,6][0]}vw`;return t.$$set=u=>{"title"in u&&s(0,n=u.title),"artist"in u&&s(1,r=u.artist),"id"in u&&s(4,a=u.id)},t.$$.update=()=>{t.$$.dirty&16&&s(2,l=`https://open.spotify.com/track/${a}`)},[n,r,l,o,a]}class mt extends be{constructor(e){super(),ke(this,e,_t,pt,ge,{title:0,artist:1,id:4})}}function Pe(t){return Object.prototype.toString.call(t)==="[object Date]"}function me(t,e){if(t===e||t!==t)return()=>t;const s=typeof t;if(s!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const l=e.map((n,r)=>me(t[r],n));return n=>l.map(r=>r(n))}if(s==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Pe(t)&&Pe(e)){t=t.getTime(),e=e.getTime();const r=e-t;return a=>new Date(t+a*r)}const l=Object.keys(e),n={};return l.forEach(r=>{n[r]=me(t[r],e[r])}),r=>{const a={};return l.forEach(i=>{a[i]=n[i](r)}),a}}if(s==="number"){const l=e-t;return n=>t+n*l}throw new Error(`Cannot interpolate ${s} values`)}function gt(t,e={}){const s=ft(t);let l,n=t;function r(a,i){if(t==null)return s.set(t=a),Promise.resolve();n=a;let o=l,u=!1,{delay:d=0,duration:c=400,easing:k=He,interpolate:T=me}=Te(Te({},e),i);if(c===0)return o&&(o.abort(),o=null),s.set(t=n),Promise.resolve();const D=Xe()+d;let P;return l=Ze(m=>{if(m<D)return!0;u||(P=T(t,a),typeof c=="function"&&(c=c(t,a)),u=!0),o&&(o.abort(),o=null);const V=m-D;return V>c?(s.set(t=a),!1):(s.set(t=P(k(V/c))),!0)}),l.promise}return{set:r,update:(a,i)=>r(a(n,t),i),subscribe:s.subscribe}}const{isNaN:he}=ct;function yt(t){let e,s=!1,l,n=!0,r,a;function i(){cancelAnimationFrame(l),e.paused||(l=$e(i),s=!0),t[14].call(e)}return{c(){e=A("audio"),this.h()},l(o){e=C(o,"AUDIO",{preload:!0}),S(e).forEach(h),this.h()},h(){b(e,"preload",""),(t[0]===void 0||t[1]===void 0)&&de(i),t[0]===void 0&&de(()=>t[15].call(e)),t[4]===void 0&&de(()=>t[18].call(e))},m(o,u){z(o,e,u),he(t[3])||(e.volume=t[3]),e.muted=t[6],t[19](e),r||(a=[Z(e,"timeupdate",i),Z(e,"ended",t[15]),Z(e,"volumechange",t[16]),Z(e,"play",t[17]),Z(e,"pause",t[17]),Z(e,"durationchange",t[18])],r=!0)},p(o,u){!s&&u[0]&2&&!he(o[1])&&(e.currentTime=o[1]),s=!1,u[0]&8&&!he(o[3])&&(e.volume=o[3]),u[0]&64&&(e.muted=o[6]),u[0]&32&&n!==(n=o[5])&&e[n?"pause":"play"]()},i:ne,o:ne,d(o){o&&h(e),t[19](null),r=!1,Be(a)}}}function vt(t,e,s){let l,n,r;re(t,_e,N=>s(13,r=N));let{preview:a}=e,{ready:i}=e,o=new Date,u,d,c,k,T,D,P,m,V,M=!0;const H=Ke(),q=gt(0);re(t,q,N=>s(12,n=N));function O(){d&&!M&&(s(1,T=0),d.play(),s(3,k=0),q.set(0),q.set(1,{duration:500}))}function w(){d&&P===!1&&d.pause()}function p(N){m=!0,q.set(0,{duration:500}).then(()=>{m=!1,N?d.pause():(s(2,d.currentTime=0,d),H("ended"))})}function E(){m||P===!1&&l===59&&p(!0)}function g(){if(m||isNaN(D))return;const N=D-T<1;if(P===!1&&N){const X=l>55;p(X)}}function L(){a&&(V=!1,u=`https://p.scdn.co/mp3-preview/${a}?cid=635a94c846854eb29813825c79d704a2`,s(2,d.src=u,d),d.load())}function R(){s(6,M=r),P!==!1&&O()}function U(){const N=document.hidden;N&&P===!1?w():N||O()}function f(){d.addEventListener("canplay",()=>{V||(V=!0,O())}),document.addEventListener("visibilitychange",U),s(8,i=!0)}Re(async()=>{setInterval(()=>{s(10,o=new Date)},500),await Ue(),f()});function y(){c=this.ended,T=this.currentTime,s(0,c),s(1,T)}function K(){c=this.ended,s(0,c)}function G(){k=this.volume,M=this.muted,s(3,k),s(12,n),s(6,M)}function v(){P=this.paused,s(5,P)}function I(){D=this.duration,s(4,D)}function W(N){ve[N?"unshift":"push"](()=>{d=N,s(2,d)})}return t.$$set=N=>{"preview"in N&&s(9,a=N.preview),"ready"in N&&s(8,i=N.ready)},t.$$.update=()=>{t.$$.dirty[0]&512&&L(),t.$$.dirty[0]&8192&&R(),t.$$.dirty[0]&1&&c&&H("ended"),t.$$.dirty[0]&1024&&s(11,l=o.getSeconds()),t.$$.dirty[0]&2048&&E(),t.$$.dirty[0]&2&&g(),t.$$.dirty[0]&4096&&s(3,k=n)},[c,T,d,k,D,P,M,q,i,a,o,l,n,r,y,K,G,v,I,W]}class bt extends be{constructor(e){super(),ke(this,e,vt,yt,ge,{preview:9,ready:8},null,[-1,-1])}}function kt(t,e,s){const l=t.slice();return l[30]=e[s].type,l[31]=e[s].value,l}function qe(t){let e,s,l,n,r,a,i,o,u,d,c,k,T="time",D,P,m,V="Now playing:",M,H,q,O,w=t[1]&&!t[5]&&Oe(t);return q=new mt({props:{title:t[7],artist:t[0].artist,id:t[0].id}}),{c(){e=A("div"),s=A("div"),l=A("div"),n=j(),r=A("div"),a=A("div"),w&&w.c(),i=j(),o=A("p"),u=A("span"),d=Y(t[6]),c=Y(" with the "),k=A("mark"),k.textContent=T,D=Y(" in the title."),P=j(),m=A("span"),m.textContent=V,M=j(),H=A("div"),$(q.$$.fragment),this.h()},l(p){e=C(p,"DIV",{class:!0});var E=S(e);s=C(E,"DIV",{class:!0});var g=S(s);l=C(g,"DIV",{class:!0,style:!0}),S(l).forEach(h),g.forEach(h),n=F(E),r=C(E,"DIV",{class:!0});var L=S(r);a=C(L,"DIV",{class:!0});var R=S(a);w&&w.l(R),i=F(R),o=C(R,"P",{class:!0});var U=S(o);u=C(U,"SPAN",{class:!0});var f=S(u);d=Q(f,t[6]),c=Q(f," with the "),k=C(f,"MARK",{class:!0,"data-svelte-h":!0}),Ae(k)!=="svelte-y4uz01"&&(k.textContent=T),D=Q(f," in the title."),f.forEach(h),P=F(U),m=C(U,"SPAN",{class:!0,"data-svelte-h":!0}),Ae(m)!=="svelte-1fu7dfx"&&(m.textContent=V),U.forEach(h),R.forEach(h),M=F(L),H=C(L,"DIV",{class:!0});var y=S(H);x(q.$$.fragment,y),y.forEach(h),L.forEach(h),E.forEach(h),this.h()},h(){var p;b(l,"class","img svelte-qg8uu5"),pe(l,"background-image","url('https://i.scdn.co/image/"+((p=t[0])==null?void 0:p.artist_img)+"')"),b(s,"class","sidebar svelte-qg8uu5"),ae(s,"reveal",t[5]),b(k,"class","svelte-qg8uu5"),b(u,"class","total svelte-qg8uu5"),b(m,"class","now"),b(o,"class","playing svelte-qg8uu5"),b(a,"class","eyebrow"),b(H,"class","song"),b(r,"class","mainbar"),b(e,"class","clock svelte-qg8uu5")},m(p,E){z(p,e,E),_(e,s),_(s,l),_(e,n),_(e,r),_(r,a),w&&w.m(a,null),_(a,i),_(a,o),_(o,u),_(u,d),_(u,c),_(u,k),_(u,D),_(o,P),_(o,m),_(r,M),_(r,H),ee(q,H,null),O=!0},p(p,E){var L;(!O||E[0]&1)&&pe(l,"background-image","url('https://i.scdn.co/image/"+((L=p[0])==null?void 0:L.artist_img)+"')"),(!O||E[0]&32)&&ae(s,"reveal",p[5]),p[1]&&!p[5]?w?(w.p(p,E),E[0]&34&&B(w,1)):(w=Oe(p),w.c(),B(w,1),w.m(a,i)):w&&(Ve(),J(w,1,1,()=>{w=null}),Ie()),(!O||E[0]&64)&&le(d,p[6]);const g={};E[0]&128&&(g.title=p[7]),E[0]&1&&(g.artist=p[0].artist),E[0]&1&&(g.id=p[0].id),q.$set(g)},i(p){O||(B(w),B(q.$$.fragment,p),O=!0)},o(p){J(w),J(q.$$.fragment,p),O=!1},d(p){p&&h(e),w&&w.d(),te(q)}}}function Oe(t){let e,s,l,n,r,a;return l=new lt({props:{size:"28"}}),{c(){e=A("p"),s=A("button"),$(l.$$.fragment),this.h()},l(i){e=C(i,"P",{class:!0});var o=S(e);s=C(o,"BUTTON",{class:!0,"data-after":!0,"aria-label":!0});var u=S(s);x(l.$$.fragment,u),u.forEach(h),o.forEach(h),this.h()},h(){b(s,"class","icon"),b(s,"data-after","play audio"),b(s,"aria-label","play audio"),b(e,"class","firstclick svelte-qg8uu5")},m(i,o){z(i,e,o),_(e,s),ee(l,s,null),n=!0,r||(a=Z(s,"click",t[18]),r=!0)},p:ne,i(i){n||(B(l.$$.fragment,i),n=!0)},o(i){J(l.$$.fragment,i),n=!1},d(i){i&&h(e),te(l),r=!1,a()}}}function wt(t){let e,s,l;return{c(){e=A("p"),s=new Qe(!1),l=j(),this.h()},l(n){e=C(n,"P",{});var r=S(e);s=We(r,!1),l=F(r),r.forEach(h),this.h()},h(){s.a=l},m(n,r){z(n,e,r),s.m(t[31],e),_(e,l)},p:ne,d(n){n&&h(e)}}}function Et(t){let e,s=oe(se.songsMethod),l=[];for(let n=0;n<s.length;n+=1)l[n]=wt(kt(t,s,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=fe()},l(n){for(let r=0;r<l.length;r+=1)l[r].l(n);e=fe()},m(n,r){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(n,r);z(n,e,r)},p:ne,d(n){n&&h(e),ye(l,n)}}}function Nt(t){var U;let e,s,l,n,r,a=se.songsTitle+"",i,o,u,d,c,k,T,D,P,m,V,M,H,q,O,w,p,E;e=new et({props:{title:se.songsTitle,description:t[11],url:t[10],keywords:t[12],path:t[13]}}),l=new st({props:{options:["mute","turntable"]}});let g=t[0]&&qe(t);function L(f){t[19](f)}let R={preview:(U=t[0])==null?void 0:U.preview};return t[1]!==void 0&&(R.ready=t[1]),M=new bt({props:R}),ve.push(()=>xe(M,"ready",L)),t[20](M),M.$on("ended",t[21]),O=new nt({props:{text:se.songsTitle,warning:!0,tease:"check out the YouTube clock",teaseLink:"../videos"}}),p=new rt({props:{$$slots:{default:[Et]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),s=j(),$(l.$$.fragment),n=j(),r=A("h1"),i=Y(a),o=j(),u=A("div"),d=A("p"),c=Y(t[2]),k=j(),T=A("span"),D=Y(t[8]),P=j(),m=A("section"),g&&g.c(),V=j(),$(M.$$.fragment),q=j(),$(O.$$.fragment),w=j(),$(p.$$.fragment),this.h()},l(f){x(e.$$.fragment,f),s=F(f),x(l.$$.fragment,f),n=F(f),r=C(f,"H1",{class:!0});var y=S(r);i=Q(y,a),y.forEach(h),o=F(f),u=C(f,"DIV",{class:!0});var K=S(u);d=C(K,"P",{class:!0,"aria-hidden":!0});var G=S(d);c=Q(G,t[2]),k=F(G),T=C(G,"SPAN",{class:!0});var v=S(T);D=Q(v,t[8]),v.forEach(h),G.forEach(h),P=F(K),m=C(K,"SECTION",{class:!0});var I=S(m);g&&g.l(I),V=F(I),x(M.$$.fragment,I),I.forEach(h),K.forEach(h),q=F(f),x(O.$$.fragment,f),w=F(f),x(p.$$.fragment,f),this.h()},h(){b(r,"class","sr-only"),b(T,"class","svelte-qg8uu5"),b(d,"class","bg svelte-qg8uu5"),b(d,"aria-hidden","true"),b(m,"class","svelte-qg8uu5"),b(u,"class","container svelte-qg8uu5"),ae(u,"turntable",t[9])},m(f,y){ee(e,f,y),z(f,s,y),ee(l,f,y),z(f,n,y),z(f,r,y),_(r,i),z(f,o,y),z(f,u,y),_(u,d),_(d,c),_(d,k),_(d,T),_(T,D),_(u,P),_(u,m),g&&g.m(m,null),_(m,V),ee(M,m,null),z(f,q,y),ee(O,f,y),z(f,w,y),ee(p,f,y),E=!0},p(f,y){var v;(!E||y[0]&4)&&le(c,f[2]),(!E||y[0]&256)&&le(D,f[8]),f[0]?g?(g.p(f,y),y[0]&1&&B(g,1)):(g=qe(f),g.c(),B(g,1),g.m(m,V)):g&&(Ve(),J(g,1,1,()=>{g=null}),Ie());const K={};y[0]&1&&(K.preview=(v=f[0])==null?void 0:v.preview),!H&&y[0]&2&&(H=!0,K.ready=f[1],Ge(()=>H=!1)),M.$set(K),(!E||y[0]&512)&&ae(u,"turntable",f[9]);const G={};y[1]&8&&(G.$$scope={dirty:y,ctx:f}),p.$set(G)},i(f){E||(B(e.$$.fragment,f),B(l.$$.fragment,f),B(g),B(M.$$.fragment,f),B(O.$$.fragment,f),B(p.$$.fragment,f),E=!0)},o(f){J(e.$$.fragment,f),J(l.$$.fragment,f),J(g),J(M.$$.fragment,f),J(O.$$.fragment,f),J(p.$$.fragment,f),E=!1},d(f){f&&(h(s),h(n),h(r),h(o),h(u),h(q),h(w)),te(e,f),te(l,f),g&&g.d(),t[20](null),te(M),te(O,f),te(p,f)}}}function Tt(t,e,s){let l,n,r,a,i,o,u;re(t,_e,v=>s(3,a=v)),re(t,it,v=>s(17,i=v)),re(t,ot,v=>s(23,o=v)),re(t,ut,v=>s(9,u=v)),tt();let d,c,k,T,D,P,m,V;const{url:M}=se,{title:H,description:q,keywords:O,path:w}=se.songsMeta;Je("copy",se);function p(v){if(!v)return;const I=v.toLowerCase(),W=n.toLowerCase(),N=I.indexOf(`${l} ${W}`),X=I.indexOf(`${l}${W}`),ue=N>-1,ie=X>-1,we=ue?`${l} ${W}`:ie?`${l}${W}`:l,ce=I.indexOf(we),Ee=ce+we.length,ze=v.slice(0,ce),Ne=v.slice(ce,Ee),Le=Ne.split(":")[0],je=Ne.split(":")[1],Fe=v.slice(Ee);return[{text:ze},{mark:!0,text:[Le,":",je]},{text:Fe}]}function E(){s(16,m=void 0),s(0,c={name:l,artist:"No Track Found",href:""}),audioEl&&(audioEl.pause(),audioEl.currentTime=0)}function g(v){const I=v.filter(ie=>o["50rem"]?!0:ie.name.length<20),N=n.toLowerCase()==="am"?"pm":"am",X=I.filter(ie=>ie.suffix!==N);return X.length>1?X:I}function L(){const v=d.filter(I=>I.time===l);if(!v.length)E();else{const I=g(v),W=I.length>1,N=I.filter(ue=>W?!k.includes(ue.id):!0);s(16,m=N.length);const X=Math.floor(Math.random()*N.length);s(0,c={...N[X]}),k.push(c.id)}}function R(){k=[],L()}async function U(){s(15,d=await at("../assets/songs.csv"))}const f=()=>Ye(_e,a=!1,a);function y(v){D=v,s(1,D)}function K(v){ve[v?"unshift":"push"](()=>{T=v,s(4,T)})}const G=()=>L();return t.$$.update=()=>{t.$$.dirty[0]&131072&&s(2,l=i.time),t.$$.dirty[0]&131072&&s(8,n=i.period),t.$$.dirty[0]&32774&&d&&D&&R(),t.$$.dirty[0]&1&&s(7,r=p(c==null?void 0:c.name)),t.$$.dirty[0]&8&&(a||s(5,P=!0)),t.$$.dirty[0]&65536&&s(6,V=m?`${m} song${m===1?"":"s"}`:"No songs")},U(),[c,D,l,a,T,P,V,r,n,u,M,q,O,w,L,d,m,i,f,y,K,G]}class Pt extends be{constructor(e){super(),ke(this,e,Tt,Nt,ge,{},null,[-1,-1])}}export{Pt as component};
