import{s as O,f as $,a as w,e as V,g as T,B as F,c as g,j as P,K as D,i as y,O as U,v as N,d as u,o as G,h as B,u as k,L as J,p as Q,A as X,C as Z,l as R,m as Y,n as A}from"../chunks/scheduler.4c2085d6.js";import{S as H,i as K,b as E,d as I,m as S,a as v,t as b,c as x,e as M,g as ee}from"../chunks/index.3764b306.js";import{c as te,a as ie}from"../chunks/clock.6996aad5.js";import{T as se}from"../chunks/Title.a6c8101c.js";import{M as ne,W as oe,v as ae,c as L}from"../chunks/version.5d4a1ba8.js";function W(s){let e,o,r="Enable Video",c,f;return{c(){e=$("p"),o=$("button"),o.textContent=r,this.h()},l(i){e=T(i,"P",{class:!0});var n=B(e);o=T(n,"BUTTON",{"data-svelte-h":!0}),F(o)!=="svelte-17ja6a2"&&(o.textContent=r),n.forEach(u),this.h()},h(){P(e,"class","svelte-173wwg8")},m(i,n){y(i,e,n),k(e,o),c||(f=J(o,"click",s[3]),c=!0)},p:N,d(i){i&&u(e),c=!1,f()}}}function le(s){let e,o='<div id="player-yt" class="svelte-173wwg8"></div>',r,c,f,i=s[0]&&W(s);return{c(){e=$("div"),e.innerHTML=o,c=w(),i&&i.c(),f=V(),this.h()},l(n){e=T(n,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-34vwxe"&&(e.innerHTML=o),c=g(n),i&&i.l(n),f=V(),this.h()},h(){P(e,"class","player-wrapper svelte-173wwg8"),D(()=>s[8].call(e))},m(n,m){y(n,e,m),s[7](e),r=U(e,s[8].bind(e)),y(n,c,m),i&&i.m(n,m),y(n,f,m)},p(n,[m]){n[0]?i?i.p(n,m):(i=W(n),i.c(),i.m(f.parentNode,f)):i&&(i.d(1),i=null)},i:N,o:N,d(n){n&&(u(e),u(c),u(f)),s[7](null),r(),i&&i.d(n)}}}function re(){const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(s,e):document.body.appendChild(s)}function fe(s){}function ce(s,e,o){let r=null,c=!1,f,i=0,{timestamp:n}=e,{id:m}=e;const l=16/9;function t(){console.log(i);const _=i,q=_/l;r.setSize(_,q)}function a({data:_}){}function p(){o(0,c=!0),console.log({ready:c})}function d(){if(console.log("load",c,m),m)r.loadVideoById({videoId:m,startSeconds:n}),r.playVideo();else return}function h(){r.playVideo()}G(()=>{re(),window.onYouTubeIframeAPIReady=function(){o(6,r=new YT.Player("player-yt",{playerVars:{controls:1,cc_load_policy:0,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1,color:"white"},events:{onReady:p,onStateChange:a,onError:fe}}))}});function C(_){Q[_?"unshift":"push"](()=>{f=_,o(2,f)})}function z(){i=this.clientWidth,o(1,i)}return s.$$set=_=>{"timestamp"in _&&o(4,n=_.timestamp),"id"in _&&o(5,m=_.id)},s.$$.update=()=>{s.$$.dirty&33&&c&&d(),s.$$.dirty&66&&r&&t(),s.$$.dirty&16&&console.log({timestamp:n})},[c,i,f,h,n,m,r,C,z]}class me extends H{constructor(e){super(),K(this,e,ce,le,O,{timestamp:4,id:5})}}function j(s){let e,o,r=s[0].time+"",c,f,i=s[0].period+"",n,m,l,t;return l=new me({props:{id:s[1].vid,timestamp:+s[1].start}}),{c(){e=$("time"),o=$("mark"),c=R(r),f=w(),n=R(i),m=w(),E(l.$$.fragment),this.h()},l(a){e=T(a,"TIME",{class:!0});var p=B(e);o=T(p,"MARK",{});var d=B(o);c=Y(d,r),f=g(d),n=Y(d,i),d.forEach(u),p.forEach(u),m=g(a),I(l.$$.fragment,a),this.h()},h(){P(e,"class","svelte-1bcbzx8")},m(a,p){y(a,e,p),k(e,o),k(o,c),k(o,f),k(o,n),y(a,m,p),S(l,a,p),t=!0},p(a,p){(!t||p&1)&&r!==(r=a[0].time+"")&&A(c,r),(!t||p&1)&&i!==(i=a[0].period+"")&&A(n,i);const d={};p&2&&(d.id=a[1].vid),p&2&&(d.timestamp=+a[1].start),l.$set(d)},i(a){t||(v(l.$$.fragment,a),t=!0)},o(a){b(l.$$.fragment,a),t=!1},d(a){a&&(u(e),u(m)),M(l,a)}}}function pe(s){let e,o,r,c,f,i,n,m;e=new ne({props:{title:s[3],description:s[4],url:s[5],preloadFont:s[2],keywords:s[6]}}),r=new oe({}),f=new se({props:{text:"a clock where the time is said in a YouTube video"}});let l=s[1]&&j(s);return{c(){E(e.$$.fragment),o=w(),E(r.$$.fragment),c=w(),E(f.$$.fragment),i=w(),l&&l.c(),n=V()},l(t){I(e.$$.fragment,t),o=g(t),I(r.$$.fragment,t),c=g(t),I(f.$$.fragment,t),i=g(t),l&&l.l(t),n=V()},m(t,a){S(e,t,a),y(t,o,a),S(r,t,a),y(t,c,a),S(f,t,a),y(t,i,a),l&&l.m(t,a),y(t,n,a),m=!0},p(t,[a]){t[1]?l?(l.p(t,a),a&2&&v(l,1)):(l=j(t),l.c(),v(l,1),l.m(n.parentNode,n)):l&&(ee(),b(l,1,1,()=>{l=null}),x())},i(t){m||(v(e.$$.fragment,t),v(r.$$.fragment,t),v(f.$$.fragment,t),v(l),m=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),b(f.$$.fragment,t),b(l),m=!1},d(t){t&&(u(o),u(c),u(i),u(n)),M(e,t),M(r,t),M(f,t),l&&l.d(t)}}}function ue(s,e,o){let r,c;X(s,ie,h=>o(0,c=h)),ae();let f,i;const n=[],{title:m,description:l,url:t,keywords:a}=L;Z("copy",L);function p(){const h=f.filter(z=>z.time===r);o(1,i={...h[0]})}async function d(){const h=await te("../assets/videos.csv");o(7,f=h.map(C=>({...C})))}return s.$$.update=()=>{s.$$.dirty&1&&o(8,r=`${c.time}${c.period}`.toLowerCase()),s.$$.dirty&384&&f&&p()},d(),[c,i,n,m,l,t,a,f,r]}class be extends H{constructor(e){super(),K(this,e,ue,pe,O,{})}}export{be as component};
