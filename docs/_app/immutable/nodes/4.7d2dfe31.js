import{s as Q,F as te,O as se,r as oe,u as ce,v as ue,w as fe,f as E,g as C,B as ee,j as w,I as he,k as ae,i as N,P as ge,y as F,d as v,L as ve,o as ye,p as ne,a as V,h as A,c as z,E as ie,x as $,H as de,A as me,l as W,m as U,z as be,D as $e,n as we,M as ke,e as le,C as Ee,J as Ce}from"../chunks/scheduler.b06385fc.js";import{S as X,i as Z,b as L,d as B,m as O,a as T,t as P,e as Y,c as pe,f as Se,g as _e}from"../chunks/index.71976bfe.js";import{c as G,M as Me,v as Ae,e as Ie}from"../chunks/version.09a01607.js";import{I as Te,g as Ne,b as Pe,H as De,F as Ve,M as ze,c as je,a as Fe}from"../chunks/clock.e1f52c7b.js";function He(s,e,n){s=+s,e=+e,n=(t=arguments.length)<2?(e=s,s=0,1):t<3?1:+n;for(var i=-1,t=Math.max(0,Math.ceil((e-s)/n))|0,a=new Array(t);++i<t;)a[i]=s+i*n;return a}function Le(s){let e;const n=s[2].default,i=oe(n,s,s[3],null);return{c(){i&&i.c()},l(t){i&&i.l(t)},m(t,a){i&&i.m(t,a),e=!0},p(t,a){i&&i.p&&(!e||a&8)&&ce(i,n,t,t[3],e?fe(n,t[3],a,null):ue(t[3]),null)},i(t){e||(T(i,t),e=!0)},o(t){P(i,t),e=!1},d(t){i&&i.d(t)}}}function Be(s){let e,n;const i=[{name:"youtube"},s[1],{iconNode:s[0]}];let t={$$slots:{default:[Le]},$$scope:{ctx:s}};for(let a=0;a<i.length;a+=1)t=te(t,i[a]);return e=new Te({props:t}),{c(){L(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,o){O(e,a,o),n=!0},p(a,[o]){const d=o&3?Ne(i,[i[0],o&2&&Pe(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(d.$$scope={dirty:o,ctx:a}),e.$set(d)},i(a){n||(T(e.$$.fragment,a),n=!0)},o(a){P(e.$$.fragment,a),n=!1},d(a){Y(e,a)}}}function Oe(s,e,n){let{$$slots:i={},$$scope:t}=e;const a=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}],["path",{d:"m10 15 5-3-5-3z"}]];return s.$$set=o=>{n(1,e=te(te({},e),se(o))),"$$scope"in o&&n(3,t=o.$$scope)},e=se(e),[a,e,i,t]}let Ye=class extends X{constructor(e){super(),Z(this,e,Oe,Be,Q,{})}};const Re=Ye;function Ge(s){let e,n='<div id="player-yt" class="svelte-vwdx08"></div>',i;return{c(){e=E("div"),e.innerHTML=n,this.h()},l(t){e=C(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-pt8bag"&&(e.innerHTML=n),this.h()},h(){w(e,"class","wrapper svelte-vwdx08"),he(()=>s[9].call(e)),ae(e,"height",s[2])},m(t,a){N(t,e,a),s[8](e),i=ge(e,s[9].bind(e))},p(t,[a]){a&4&&ae(e,"height",t[2])},i:F,o:F,d(t){t&&v(e),s[8](null),i()}}}function We(){const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(s,e):document.body.appendChild(s)}function Ue(s,e,n){let i,{timestamp:t}=e,{id:a}=e,{ready:o=!1}=e;const d=16/9,m=ve();let r=null,c=-1,p,u=0,h=0,y;const b=()=>{y=!0,r.playVideo()};function g(){const _=u,D=_/d;n(2,h=`${D}px`),r.setSize(_,D)}function l({data:_}){c=_}function f(){n(3,o=!0),document.addEventListener("visibilitychange",R)}function S(_){[2,100,101,150].includes(_==null?void 0:_.data)&&m("error",a)}function I(){if(a)r.loadVideoById({videoId:a,startSeconds:i}),y&&b();else return}function R(){const _=document.hidden;_&&(c===1||c===3)?r.pauseVideo():_||b()}ye(()=>{We(),window.onYouTubeIframeAPIReady=function(){n(7,r=new YT.Player("player-yt",{playerVars:{controls:1,cc_load_policy:0,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1,color:"white"},events:{onReady:f,onStateChange:l,onError:S}}))}});function q(_){ne[_?"unshift":"push"](()=>{p=_,n(1,p)})}function k(){u=this.clientWidth,n(0,u)}return s.$$set=_=>{"timestamp"in _&&n(4,t=_.timestamp),"id"in _&&n(5,a=_.id),"ready"in _&&n(3,o=_.ready)},s.$$.update=()=>{s.$$.dirty&16&&(i=isNaN(t)?void 0:t-5),s.$$.dirty&40&&o&&I(),s.$$.dirty&129&&r&&g()},[u,p,h,o,t,a,b,r,q,k]}class qe extends X{constructor(e){super(),Z(this,e,Ue,Ge,Q,{timestamp:4,id:5,ready:3,play:6})}get play(){return this.$$.ctx[6]}}function Je(s){let e,n,i,t,a;const o=s[2].default,d=oe(o,s,s[1],null);return{c(){e=E("section"),n=E("div"),i=V(),t=E("div"),d&&d.c(),this.h()},l(m){e=C(m,"SECTION",{id:!0,class:!0});var r=A(e);n=C(r,"DIV",{class:!0}),A(n).forEach(v),i=z(r),t=C(r,"DIV",{class:!0});var c=A(t);d&&d.l(c),c.forEach(v),r.forEach(v),this.h()},h(){w(n,"class","bg svelte-1acws08"),w(t,"class","fg svelte-1acws08"),w(e,"id","gate"),w(e,"class","svelte-1acws08"),ie(e,"visible",s[0])},m(m,r){N(m,e,r),$(e,n),$(e,i),$(e,t),d&&d.m(t,null),a=!0},p(m,[r]){d&&d.p&&(!a||r&2)&&ce(d,o,m,m[1],a?fe(o,m[1],r,null):ue(m[1]),null),(!a||r&1)&&ie(e,"visible",m[0])},i(m){a||(T(d,m),a=!0)},o(m){P(d,m),a=!1},d(m){m&&v(e),d&&d.d(m)}}}function Ke(s,e,n){let{$$slots:i={},$$scope:t}=e,{visible:a}=e;return s.$$set=o=>{"visible"in o&&n(0,a=o.visible),"$$scope"in o&&n(1,t=o.$$scope)},[a,t,i]}class Qe extends X{constructor(e){super(),Z(this,e,Ke,Je,Q,{visible:0})}}function Xe(s){let e,n,i;return{c(){e=E("div"),n=E("p"),i=new de(!1),this.h()},l(t){e=C(t,"DIV",{class:!0});var a=A(e);n=C(a,"P",{class:!0});var o=A(n);i=me(o,!1),o.forEach(v),a.forEach(v),this.h()},h(){i.a=null,w(n,"class","svelte-1xva6zt"),w(e,"class","c svelte-1xva6zt")},m(t,a){N(t,e,a),$(e,n),i.m(s[0],n)},p(t,[a]){a&1&&i.p(t[0])},i:F,o:F,d(t){t&&v(e)}}}function Ze(s){return` <mark>${s.map(n=>n===":"?`<span class="colon">${n}</span>`:n).join("")}</mark> `}function xe(s,e,n){const i=e.includes(":")?":":" ",t=e.toLowerCase(),o=s.toLowerCase().indexOf(t);if(o===-1)return{text:s};const d=o+t.length,m=s.slice(0,o),c=s.slice(o,d).split(i),p=c.shift(),u=c.join(" "),h=s.slice(d);return[{state:"before",text:m},{state:"mark",text:[p,":",u]},{state:"after",text:h}]}function et(s,e,n){let i,t,{video:a}=e;function o(r,c,p,u){const h=He(.05,1,.05),y=u?c:p-1-c;return y<h.length?h[y]:1}function d(r,c){const p=r.split("");return p.map((h,y)=>({char:h,opacity:o(h,y,p.length,c)})).map(({char:h,opacity:y})=>y===1?h:`<span style="opacity: ${y}">${h}</span>`).join("")}function m(r){const c=[].concat(...r);let p="before",u="",h="",y;return c.forEach(({text:g,state:l})=>{l==="before"||!l&&p==="before"?u=`${u} ${g}`:l==="mark"?(y=g,p="after"):(l==="after"||!l&&p==="after")&&(h=`${h} ${g}`)}),[d(u.trim(),!0),Ze(y),d(h.trim(),!1)].join("")}return s.$$set=r=>{"video"in r&&n(1,a=r.video)},s.$$.update=()=>{s.$$.dirty&2&&n(2,i=a.lines.map((r,c)=>xe(r,a.token))),s.$$.dirty&4&&n(0,t=m(i))},[t,a,i]}class tt extends X{constructor(e){super(),Z(this,e,et,Xe,Q,{video:1})}}const nt=[{id:"1",name:"Film & Animation"},{id:"2",name:"Autos & Vehicles"},{id:"10",name:"Music"},{id:"15",name:"Pets & Animals"},{id:"17",name:"Sports"},{id:"18",name:"Short Movies"},{id:"19",name:"Travel & Events"},{id:"20",name:"Gaming"},{id:"21",name:"Videoblogging"},{id:"22",name:"People & Blogs"},{id:"23",name:"Comedy"},{id:"24",name:"Entertainment"},{id:"25",name:"News & Politics"},{id:"26",name:"Howto & Style"},{id:"27",name:"Education"},{id:"28",name:"Science & Technology"},{id:"29",name:"Nonprofits & Activism"},{id:"30",name:"Movies"},{id:"31",name:"Anime/Animation"},{id:"32",name:"Action/Adventure"},{id:"33",name:"Classics"},{id:"34",name:"Comedy"},{id:"35",name:"Documentary"},{id:"36",name:"Drama"},{id:"37",name:"Family"},{id:"38",name:"Foreign"},{id:"39",name:"Horror"},{id:"40",name:"Sci-Fi/Fantasy"},{id:"41",name:"Thriller"},{id:"42",name:"Shorts"},{id:"43",name:"Shows"},{id:"44",name:"Trailers"}];function st(s,e,n){const i=s.slice();return i[26]=e[n].type,i[27]=e[n].value,i}function re(s){let e,n,i,t,a,o,d,m="time",r,c,p,u,h,y,b,g,l,f,S,I;function R(k){s[17](k)}let q={id:s[7],timestamp:s[6]};return s[3]!==void 0&&(q.ready=s[3]),b=new qe({props:q}),ne.push(()=>Se(b,"ready",R)),s[18](b),b.$on("error",s[13]),S=new tt({props:{video:s[0]}}),{c(){e=E("section"),n=E("div"),i=E("div"),t=E("p"),a=W(s[5]),o=W(" with the "),d=E("mark"),d.textContent=m,r=W(" mentioned"),c=V(),p=E("p"),u=E("a"),h=W("report video"),y=V(),L(b.$$.fragment),l=V(),f=E("div"),L(S.$$.fragment),this.h()},l(k){e=C(k,"SECTION",{class:!0});var _=A(e);n=C(_,"DIV",{class:!0});var D=A(n);i=C(D,"DIV",{class:!0});var M=A(i);t=C(M,"P",{class:!0});var H=A(t);a=U(H,s[5]),o=U(H," with the "),d=C(H,"MARK",{class:!0,"data-svelte-h":!0}),ee(d)!=="svelte-y4uz01"&&(d.textContent=m),r=U(H," mentioned"),H.forEach(v),c=z(M),p=C(M,"P",{class:!0});var j=A(p);u=C(j,"A",{href:!0,target:!0,rel:!0});var J=A(u);h=U(J,"report video"),J.forEach(v),j.forEach(v),M.forEach(v),y=z(D),B(b.$$.fragment,D),D.forEach(v),l=z(_),f=C(_,"DIV",{class:!0});var x=A(f);B(S.$$.fragment,x),x.forEach(v),_.forEach(v),this.h()},h(){w(d,"class","svelte-1e4nats"),w(t,"class","playing svelte-1e4nats"),w(u,"href",s[4]),w(u,"target","_blank"),w(u,"rel","noreferrer"),w(p,"class","report svelte-1e4nats"),w(i,"class","eyebrow svelte-1e4nats"),w(n,"class","video"),w(f,"class","caption"),w(e,"class","svelte-1e4nats")},m(k,_){N(k,e,_),$(e,n),$(n,i),$(i,t),$(t,a),$(t,o),$(t,d),$(t,r),$(i,c),$(i,p),$(p,u),$(u,h),$(n,y),O(b,n,null),$(e,l),$(e,f),O(S,f,null),I=!0},p(k,_){(!I||_&32)&&we(a,k[5]),(!I||_&16)&&w(u,"href",k[4]);const D={};_&128&&(D.id=k[7]),_&64&&(D.timestamp=k[6]),!g&&_&8&&(g=!0,D.ready=k[3],ke(()=>g=!1)),b.$set(D);const M={};_&1&&(M.video=k[0]),S.$set(M)},i(k){I||(T(b.$$.fragment,k),T(S.$$.fragment,k),I=!0)},o(k){P(b.$$.fragment,k),P(S.$$.fragment,k),I=!1},d(k){k&&v(e),s[18](null),Y(b),Y(S)}}}function at(s){let e,n,i;return{c(){e=E("p"),n=new de(!1),i=V(),this.h()},l(t){e=C(t,"P",{});var a=A(e);n=me(a,!1),i=z(a),a.forEach(v),this.h()},h(){n.a=i},m(t,a){N(t,e,a),n.m(s[27],e),$(e,i)},p:F,d(t){t&&v(e)}}}function it(s){let e,n=Ie(G.videosMethod),i=[];for(let t=0;t<n.length;t+=1)i[t]=at(st(s,n,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=le()},l(t){for(let a=0;a<i.length;a+=1)i[a].l(t);e=le()},m(t,a){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,a);N(t,e,a)},p:F,d(t){t&&v(e),Ee(i,t)}}}function lt(s){let e,n="Loading...";return{c(){e=E("span"),e.textContent=n,this.h()},l(i){e=C(i,"SPAN",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-omrbt4"&&(e.textContent=n),this.h()},h(){w(e,"class","svelte-1e4nats")},m(i,t){N(i,e,t)},p:F,i:F,o:F,d(i){i&&v(e)}}}function rt(s){let e,n,i="Watch",t,a,o,d,m;return a=new Re({}),{c(){e=E("button"),n=E("span"),n.textContent=i,t=V(),L(a.$$.fragment),this.h()},l(r){e=C(r,"BUTTON",{class:!0});var c=A(e);n=C(c,"SPAN",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-1gohb1r"&&(n.textContent=i),t=z(c),B(a.$$.fragment,c),c.forEach(v),this.h()},h(){w(n,"class","svelte-1e4nats"),w(e,"class","svelte-1e4nats")},m(r,c){N(r,e,c),$(e,n),$(e,t),O(a,e,null),o=!0,d||(m=Ce(e,"click",s[12]),d=!0)},p:F,i(r){o||(T(a.$$.fragment,r),o=!0)},o(r){P(a.$$.fragment,r),o=!1},d(r){r&&v(e),Y(a),d=!1,m()}}}function ot(s){let e,n,i=G.videosWarning+"",t,a,o,d=G.videosIntro+"",m,r,c,p,u,h;const y=[rt,lt],b=[];function g(l,f){return l[3]?0:1}return p=g(s),u=b[p]=y[p](s),{c(){e=E("div"),n=E("p"),t=W(i),a=V(),o=E("p"),m=W(d),r=V(),c=E("p"),u.c(),this.h()},l(l){e=C(l,"DIV",{class:!0});var f=A(e);n=C(f,"P",{class:!0});var S=A(n);t=U(S,i),S.forEach(v),a=z(f),o=C(f,"P",{class:!0});var I=A(o);m=U(I,d),I.forEach(v),r=z(f),c=C(f,"P",{class:!0});var R=A(c);u.l(R),R.forEach(v),f.forEach(v),this.h()},h(){w(n,"class","warning svelte-1e4nats"),w(o,"class","description"),w(c,"class","begin svelte-1e4nats"),w(e,"class","intro svelte-1e4nats")},m(l,f){N(l,e,f),$(e,n),$(n,t),$(e,a),$(e,o),$(o,m),$(e,r),$(e,c),b[p].m(c,null),h=!0},p(l,f){let S=p;p=g(l),p===S?b[p].p(l,f):(_e(),P(b[S],1,1,()=>{b[S]=null}),pe(),u=b[p],u?u.p(l,f):(u=b[p]=y[p](l),u.c()),T(u,1),u.m(c,null))},i(l){h||(T(u),h=!0)},o(l){P(u),h=!1},d(l){l&&v(e),b[p].d()}}}function ct(s){let e,n,i,t,a,o=G.videosTitle+"",d,m,r,c,p,u,h,y,b;e=new Me({props:{title:s[9],description:s[10],url:s[8],keywords:s[11]}}),i=new De({});let g=s[0]&&re(s);return c=new Ve({props:{text:G.videosTitle,warning:!1}}),u=new ze({props:{$$slots:{default:[it]},$$scope:{ctx:s}}}),y=new Qe({props:{visible:!s[1],$$slots:{default:[ot]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment),n=V(),L(i.$$.fragment),t=V(),a=E("h1"),d=W(o),m=V(),g&&g.c(),r=V(),L(c.$$.fragment),p=V(),L(u.$$.fragment),h=V(),L(y.$$.fragment),this.h()},l(l){B(e.$$.fragment,l),n=z(l),B(i.$$.fragment,l),t=z(l),a=C(l,"H1",{class:!0});var f=A(a);d=U(f,o),f.forEach(v),m=z(l),g&&g.l(l),r=z(l),B(c.$$.fragment,l),p=z(l),B(u.$$.fragment,l),h=z(l),B(y.$$.fragment,l),this.h()},h(){w(a,"class","sr-only")},m(l,f){O(e,l,f),N(l,n,f),O(i,l,f),N(l,t,f),N(l,a,f),$(a,d),N(l,m,f),g&&g.m(l,f),N(l,r,f),O(c,l,f),N(l,p,f),O(u,l,f),N(l,h,f),O(y,l,f),b=!0},p(l,[f]){l[0]?g?(g.p(l,f),f&1&&T(g,1)):(g=re(l),g.c(),T(g,1),g.m(r.parentNode,r)):g&&(_e(),P(g,1,1,()=>{g=null}),pe());const S={};f&1073741824&&(S.$$scope={dirty:f,ctx:l}),u.$set(S);const I={};f&2&&(I.visible=!l[1]),f&1073741832&&(I.$$scope={dirty:f,ctx:l}),y.$set(I)},i(l){b||(T(e.$$.fragment,l),T(i.$$.fragment,l),T(g),T(c.$$.fragment,l),T(u.$$.fragment,l),T(y.$$.fragment,l),b=!0)},o(l){P(e.$$.fragment,l),P(i.$$.fragment,l),P(g),P(c.$$.fragment,l),P(u.$$.fragment,l),P(y.$$.fragment,l),b=!1},d(l){l&&(v(n),v(t),v(a),v(m),v(r),v(p),v(h)),Y(e,l),Y(i,l),g&&g.d(l),Y(c,l),Y(u,l),Y(y,l)}}}function ut(s,e,n){let i,t,a,o,d,m;be(s,Fe,M=>n(16,m=M)),Ae();let r,c,p,u,h;const y=[],{url:b}=G,{title:g,description:l,keywords:f,path:S}=G.videosMeta;$e("copy",G);async function I(M,H){const j=await k(),J=j.filter(K=>!(H&&K.views<H));j.filter(K=>K.category==="25").length,n(14,c=J.length);const x=Math.floor(Math.random()*J.length);n(0,r={...J[x]}),nt.find(K=>K.id===r.category).name}function R(){n(1,p=!0),u.play()}function q({detail:M}){y.push(M),I()}async function k(){const M=i.replace(":","-");return(await je(`../assets/videos/${M}.csv`)).filter(j=>!y.includes(j.id)).map(j=>({...j,views:+j.views,style:j.manual==="true"?"manual":"auto",lines:j.lines.split("||")}))}function _(M){h=M,n(3,h)}function D(M){ne[M?"unshift":"push"](()=>{u=M,n(2,u)})}return s.$$.update=()=>{s.$$.dirty&65536&&n(15,i=`${m.time}${m.period}`.toLowerCase()),s.$$.dirty&32768&&I(),s.$$.dirty&1&&n(7,t=r==null?void 0:r.id),s.$$.dirty&1&&n(6,a=r==null?void 0:r.timestamp),s.$$.dirty&16384&&n(5,o=c?`${c} video${c===1?"":"s"}`:"No videos"),s.$$.dirty&32769&&n(4,d=`https://docs.google.com/forms/d/e/1FAIpQLSeIbDnB265gfhnjGfw6S1zu-rOgx-2DDjrUlM_f67Fo5eS9GA/viewform?usp=pp_url&entry.2046651731=${r==null?void 0:r.id}&entry.1762409617=${i}`)},[r,p,u,h,d,o,a,t,b,g,l,f,R,q,c,i,m,_,D]}class ht extends X{constructor(e){super(),Z(this,e,ut,ct,Q,{})}}export{ht as component};
