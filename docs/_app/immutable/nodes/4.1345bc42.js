import{y as G,s as W,E as J,F as de,r as Oe,u as Pe,v as je,w as Fe,f as T,l as Q,a as q,g as A,h as S,m as Z,d as _,c as D,j as m,i as C,x as N,n as te,C as Ne,e as pe,G as _e,H as qe,I as he,J as le,K as B,L as De,z as x,M as He,o as Ie,p as ce,N as ze,B as Be,A as $e,O as Ue,P as Ke,Q as Le}from"../chunks/scheduler.ab5e122d.js";import{S as X,i as Y,b as $,d as U,m as K,a as O,t as j,e as L,f as Re,c as Ve,g as Ge}from"../chunks/index.e35f7b0f.js";import{c as Je,a as Qe}from"../chunks/clock.c7ee0e7d.js";import{e as ee,M as Ze,v as We,c as me}from"../chunks/version.b25f93e3.js";import{I as Xe,g as Ye,a as xe,i as ie,H as et}from"../chunks/Header.fa58d9ac.js";import{w as tt}from"../chunks/index.26e4be98.js";const Te=typeof window<"u";let nt=Te?()=>window.performance.now():()=>Date.now(),ue=Te?n=>requestAnimationFrame(n):G;const V=new Set;function Ae(n){V.forEach(e=>{e.c(n)||(V.delete(e),e.f())}),V.size!==0&&ue(Ae)}function st(n){let e;return V.size===0&&ue(Ae),{promise:new Promise(r=>{V.add(e={c:n,f:r})}),abort(){V.delete(e)}}}const rt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ot(n){let e;const r=n[2].default,o=Oe(r,n,n[3],null);return{c(){o&&o.c()},l(s){o&&o.l(s)},m(s,t){o&&o.m(s,t),e=!0},p(s,t){o&&o.p&&(!e||t&8)&&Pe(o,r,s,s[3],e?Fe(r,s[3],t,null):je(s[3]),null)},i(s){e||(O(o,s),e=!0)},o(s){j(o,s),e=!1},d(s){o&&o.d(s)}}}function lt(n){let e,r;const o=[{name:"help-circle"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[ot]},$$scope:{ctx:n}};for(let t=0;t<o.length;t+=1)s=J(s,o[t]);return e=new Xe({props:s}),{c(){$(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,l){K(e,t,l),r=!0},p(t,[l]){const a=l&3?Ye(o,[o[0],l&2&&xe(t[1]),l&1&&{iconNode:t[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(O(e.$$.fragment,t),r=!0)},o(t){j(e.$$.fragment,t),r=!1},d(t){L(e,t)}}}function at(n,e,r){let{$$slots:o={},$$scope:s}=e;const t=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];return n.$$set=l=>{r(1,e=J(J({},e),de(l))),"$$scope"in l&&r(3,s=l.$$scope)},e=de(e),[t,e,o,s]}class it extends X{constructor(e){super(),Y(this,e,at,lt,W,{})}}const ft=it;function ct(n){let e,r,o,s,t,l,a;return l=new ft({props:{size:"28"}}),{c(){e=T("footer"),r=T("h1"),o=Q(n[0]),s=q(),t=T("button"),$(l.$$.fragment),this.h()},l(f){e=A(f,"FOOTER",{class:!0});var c=S(e);r=A(c,"H1",{class:!0});var p=S(r);o=Z(p,n[0]),p.forEach(_),s=D(c),t=A(c,"BUTTON",{class:!0,"aria-label":!0});var h=S(t);U(l.$$.fragment,h),h.forEach(_),c.forEach(_),this.h()},h(){m(r,"class","svelte-2pd0x1"),m(t,"class","icon svelte-2pd0x1"),m(t,"aria-label","about"),m(e,"class","svelte-2pd0x1")},m(f,c){C(f,e,c),N(e,r),N(r,o),N(e,s),N(e,t),K(l,t,null),a=!0},p(f,[c]){(!a||c&1)&&te(o,f[0])},i(f){a||(O(l.$$.fragment,f),a=!0)},o(f){j(l.$$.fragment,f),a=!1},d(f){f&&_(e),L(l)}}}function ut(n,e,r){let{text:o}=e;return n.$$set=s=>{"text"in s&&r(0,o=s.text)},[o]}class dt extends X{constructor(e){super(),Y(this,e,ut,ct,W,{text:0})}}function ge(n,e,r){const o=n.slice();return o[1]=e[r].text,o[2]=e[r].mark,o}function ye(n,e,r){const o=n.slice();o[5]=e[r];const s=o[5]===":";return o[6]=s,o}function pt(n){let e,r=n[1]+"",o;return{c(){e=T("span"),o=Q(r),this.h()},l(s){e=A(s,"SPAN",{class:!0});var t=S(e);o=Z(t,r),t.forEach(_),this.h()},h(){m(e,"class","svelte-jw2tih")},m(s,t){C(s,e,t),N(e,o)},p(s,t){t&1&&r!==(r=s[1]+"")&&te(o,r)},d(s){s&&_(e)}}}function _t(n){let e,r,o=ee(n[1]),s=[];for(let t=0;t<o.length;t+=1)s[t]=be(ye(n,o,t));return{c(){e=T("mark");for(let t=0;t<s.length;t+=1)s[t].c();r=q(),this.h()},l(t){e=A(t,"MARK",{class:!0});var l=S(e);for(let a=0;a<s.length;a+=1)s[a].l(l);r=D(l),l.forEach(_),this.h()},h(){m(e,"class","svelte-jw2tih")},m(t,l){C(t,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);N(e,r)},p(t,l){if(l&1){o=ee(t[1]);let a;for(a=0;a<o.length;a+=1){const f=ye(t,o,a);s[a]?s[a].p(f,l):(s[a]=be(f),s[a].c(),s[a].m(e,r))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}},d(t){t&&_(e),Ne(s,t)}}}function be(n){let e,r=n[5]+"",o;return{c(){e=T("span"),o=Q(r),this.h()},l(s){e=A(s,"SPAN",{class:!0});var t=S(e);o=Z(t,r),t.forEach(_),this.h()},h(){m(e,"class","svelte-jw2tih"),_e(e,"colon",n[6])},m(s,t){C(s,e,t),N(e,o)},p(s,t){t&1&&r!==(r=s[5]+"")&&te(o,r),t&1&&_e(e,"colon",s[6])},d(s){s&&_(e)}}}function we(n){let e;function r(t,l){return t[2]?_t:pt}let o=r(n),s=o(n);return{c(){s.c(),e=pe()},l(t){s.l(t),e=pe()},m(t,l){s.m(t,l),C(t,e,l)},p(t,l){o===(o=r(t))&&s?s.p(t,l):(s.d(1),s=o(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){t&&_(e),s.d(t)}}}function ht(n){let e,r=ee(n[0]),o=[];for(let s=0;s<r.length;s+=1)o[s]=we(ge(n,r,s));return{c(){e=T("p");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=A(s,"P",{class:!0});var t=S(e);for(let l=0;l<o.length;l+=1)o[l].l(t);t.forEach(_),this.h()},h(){m(e,"class","svelte-jw2tih")},m(s,t){C(s,e,t);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(s,[t]){if(t&1){r=ee(s[0]);let l;for(l=0;l<r.length;l+=1){const a=ge(s,r,l);o[l]?o[l].p(a,t):(o[l]=we(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:G,o:G,d(s){s&&_(e),Ne(o,s)}}}function mt(n,e,r){let{data:o}=e;return n.$$set=s=>{"data"in s&&r(0,o=s.data)},[o]}class gt extends X{constructor(e){super(),Y(this,e,mt,ht,W,{data:0})}}function ke(n){return Object.prototype.toString.call(n)==="[object Date]"}function fe(n,e){if(n===e||n!==n)return()=>n;const r=typeof n;if(r!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const o=e.map((s,t)=>fe(n[t],s));return s=>o.map(t=>t(s))}if(r==="object"){if(!n||!e)throw new Error("Object cannot be null");if(ke(n)&&ke(e)){n=n.getTime(),e=e.getTime();const t=e-n;return l=>new Date(n+l*t)}const o=Object.keys(e),s={};return o.forEach(t=>{s[t]=fe(n[t],e[t])}),t=>{const l={};return o.forEach(a=>{l[a]=s[a](t)}),l}}if(r==="number"){const o=e-n;return s=>n+s*o}throw new Error(`Cannot interpolate ${r} values`)}function yt(n,e={}){const r=tt(n);let o,s=n;function t(l,a){if(n==null)return r.set(n=l),Promise.resolve();s=l;let f=o,c=!1,{delay:p=0,duration:h=400,easing:g=qe,interpolate:b=fe}=J(J({},e),a);if(h===0)return f&&(f.abort(),f=null),r.set(n=s),Promise.resolve();const u=nt()+p;let d;return o=st(E=>{if(E<u)return!0;c||(d=b(n,l),typeof h=="function"&&(h=h(n,l)),c=!0),f&&(f.abort(),f=null);const k=E-u;return k>h?(r.set(n=l),!1):(r.set(n=d(g(k/h))),!0)}),o.promise}return{set:t,update:(l,a)=>t(l(s,n),a),subscribe:r.subscribe}}const{isNaN:ae}=rt;function bt(n){let e,r,o=!1,s,t=!0,l,a;function f(){cancelAnimationFrame(s),e.paused||(s=ue(f),o=!0),n[16].call(e)}return{c(){e=T("audio"),this.h()},l(c){e=A(c,"AUDIO",{src:!0,preload:!0}),S(e).forEach(_),this.h()},h(){he(e.src,r=n[2])||m(e,"src",r),m(e,"preload",""),e.autoplay=!0,(n[0]===void 0||n[1]===void 0)&&le(f),n[0]===void 0&&le(()=>n[17].call(e)),n[5]===void 0&&le(()=>n[20].call(e))},m(c,p){C(c,e,p),ae(n[4])||(e.volume=n[4]),e.muted=n[7],n[21](e),l||(a=[B(e,"timeupdate",f),B(e,"ended",n[17]),B(e,"volumechange",n[18]),B(e,"play",n[19]),B(e,"pause",n[19]),B(e,"durationchange",n[20])],l=!0)},p(c,[p]){p&4&&!he(e.src,r=c[2])&&m(e,"src",r),!o&&p&2&&!ae(c[1])&&(e.currentTime=c[1]),o=!1,p&16&&!ae(c[4])&&(e.volume=c[4]),p&128&&(e.muted=c[7]),p&64&&t!==(t=c[6])&&e[t?"pause":"play"]()},i:G,o:G,d(c){c&&_(e),n[21](null),l=!1,De(a)}}}function wt(n,e,r){let o,s,t;x(n,ie,v=>r(15,t=v));let{preview:l}=e,{ready:a}=e,f=new Date,c,p,h,g,b,u,d,E,k=!0;const F=He(),i=yt(0);x(n,i,v=>r(14,s=v));const w=()=>{p&&!k&&(r(1,b=0),p.play(),r(4,g=0),console.log("fade in"),i.set(0),i.set(1,{duration:500}))};function M(v){E=!0,console.log("fade out",v),i.set(0,{duration:500}).then(()=>{E=!1,v&&p.pause()})}function R(){E||d===!1&&o===59&&M(!0)}function ne(){if(E||isNaN(u))return;const v=u-b<1;d===!1&&v&&M()}function se(){l&&r(2,c=`https://p.scdn.co/mp3-preview/${l}?cid=635a94c846854eb29813825c79d704a2`)}function re(){r(7,k=t),d!==!1&&w()}Ie(()=>{setInterval(()=>{r(12,f=new Date)},500),r(9,a=!0)});function y(){h=this.ended,b=this.currentTime,r(0,h),r(1,b)}function P(){h=this.ended,r(0,h)}function I(){g=this.volume,k=this.muted,r(4,g),r(14,s),r(7,k)}function z(){d=this.paused,r(6,d)}function H(){u=this.duration,r(5,u)}function oe(v){ce[v?"unshift":"push"](()=>{p=v,r(3,p)})}return n.$$set=v=>{"preview"in v&&r(10,l=v.preview),"ready"in v&&r(9,a=v.ready)},n.$$.update=()=>{n.$$.dirty&1024&&se(),n.$$.dirty&32768&&re(),n.$$.dirty&1&&h&&F("ended"),n.$$.dirty&4096&&r(13,o=f.getSeconds()),n.$$.dirty&8192&&R(),n.$$.dirty&2&&ne(),n.$$.dirty&16384&&r(4,g=s)},[h,b,c,p,g,u,d,k,i,a,l,w,f,o,s,t,y,P,I,z,H,oe]}class kt extends X{constructor(e){super(),Y(this,e,wt,bt,W,{preview:10,ready:9,play:11})}get play(){return this.$$.ctx[11]}}const vt=`
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
  <path fill="#000" d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"/>
  <path fill="#fff" d="M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"/>
</svg>`;function ve(n){let e,r,o="Turn Sound On",s,t;return{c(){e=T("p"),r=T("button"),r.textContent=o,this.h()},l(l){e=A(l,"P",{class:!0});var a=S(e);r=A(a,"BUTTON",{"data-svelte-h":!0}),$e(r)!=="svelte-1umiux3"&&(r.textContent=o),a.forEach(_),this.h()},h(){m(e,"class","enable svelte-18iqf6l")},m(l,a){C(l,e,a),N(e,r),s||(t=B(r,"click",n[15]),s=!0)},p:G,d(l){l&&_(e),s=!1,t()}}}function Ee(n){let e,r,o,s,t,l,a=n[0].artist+"",f,c,p,h,g,b;return r=new gt({props:{data:n[5]}}),{c(){e=T("div"),$(r.$$.fragment),o=q(),s=T("p"),t=T("a"),l=Q("By "),f=Q(a),c=q(),p=T("span"),h=new Ue(!1),this.h()},l(u){e=A(u,"DIV",{class:!0});var d=S(e);U(r.$$.fragment,d),d.forEach(_),o=D(u),s=A(u,"P",{class:!0});var E=S(s);t=A(E,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,class:!0});var k=S(t);l=Z(k,"By "),f=Z(k,a),c=D(k),p=A(k,"SPAN",{class:!0});var F=S(p);h=Ke(F,!1),F.forEach(_),k.forEach(_),E.forEach(_),this.h()},h(){m(e,"class","clock"),h.a=null,m(p,"class","svelte-18iqf6l"),m(t,"href",g=`https://open.spotify.com/tracks/${n[0].id}`),m(t,"target","_blank"),m(t,"rel","noreferrer"),m(t,"aria-label","Spotify"),m(t,"class","svelte-18iqf6l"),m(s,"class","artist svelte-18iqf6l")},m(u,d){C(u,e,d),K(r,e,null),C(u,o,d),C(u,s,d),N(s,t),N(t,l),N(t,f),N(t,c),N(t,p),h.m(vt,p),b=!0},p(u,d){const E={};d&32&&(E.data=u[5]),r.$set(E),(!b||d&1)&&a!==(a=u[0].artist+"")&&te(f,a),(!b||d&1&&g!==(g=`https://open.spotify.com/tracks/${u[0].id}`))&&m(t,"href",g)},i(u){b||(O(r.$$.fragment,u),b=!0)},o(u){j(r.$$.fragment,u),b=!1},d(u){u&&(_(e),_(o),_(s)),L(r)}}}function Et(n){var F;let e,r,o,s,t,l,a,f,c,p,h,g,b;e=new Ze({props:{title:n[7],description:n[8],url:n[9],preloadFont:n[6],keywords:n[10]}}),o=new et({});let u=n[1]&&!n[4]&&ve(n),d=n[0]&&Ee(n);function E(i){n[16](i)}let k={preview:(F=n[0])==null?void 0:F.preview};return n[1]!==void 0&&(k.ready=n[1]),c=new kt({props:k}),ce.push(()=>Re(c,"ready",E)),n[17](c),c.$on("ended",n[18]),g=new dt({props:{text:"a clock where the time appears in a song title"}}),{c(){$(e.$$.fragment),r=q(),$(o.$$.fragment),s=q(),t=T("div"),l=T("section"),u&&u.c(),a=q(),d&&d.c(),f=q(),$(c.$$.fragment),h=q(),$(g.$$.fragment),this.h()},l(i){U(e.$$.fragment,i),r=D(i),U(o.$$.fragment,i),s=D(i),t=A(i,"DIV",{class:!0});var w=S(t);l=A(w,"SECTION",{class:!0});var M=S(l);u&&u.l(M),a=D(M),d&&d.l(M),f=D(M),U(c.$$.fragment,M),M.forEach(_),w.forEach(_),h=D(i),U(g.$$.fragment,i),this.h()},h(){m(l,"class","svelte-18iqf6l"),m(t,"class","container svelte-18iqf6l")},m(i,w){K(e,i,w),C(i,r,w),K(o,i,w),C(i,s,w),C(i,t,w),N(t,l),u&&u.m(l,null),N(l,a),d&&d.m(l,null),N(l,f),K(c,l,null),C(i,h,w),K(g,i,w),b=!0},p(i,[w]){var R;i[1]&&!i[4]?u?u.p(i,w):(u=ve(i),u.c(),u.m(l,a)):u&&(u.d(1),u=null),i[0]?d?(d.p(i,w),w&1&&O(d,1)):(d=Ee(i),d.c(),O(d,1),d.m(l,f)):d&&(Ge(),j(d,1,1,()=>{d=null}),Ve());const M={};w&1&&(M.preview=(R=i[0])==null?void 0:R.preview),!p&&w&2&&(p=!0,M.ready=i[1],ze(()=>p=!1)),c.$set(M)},i(i){b||(O(e.$$.fragment,i),O(o.$$.fragment,i),O(d),O(c.$$.fragment,i),O(g.$$.fragment,i),b=!0)},o(i){j(e.$$.fragment,i),j(o.$$.fragment,i),j(d),j(c.$$.fragment,i),j(g.$$.fragment,i),b=!1},d(i){i&&(_(r),_(s),_(t),_(h)),L(e,i),L(o,i),u&&u.d(),d&&d.d(),n[17](null),L(c),L(g,i)}}}function Nt(n,e,r){let o,s,t,l;x(n,ie,y=>r(2,t=y)),x(n,Qe,y=>r(14,l=y)),We();let a,f,c,p,h;const g=["https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-regular.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-700.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-900.woff2"],{title:b,description:u,url:d,keywords:E}=me;Be("copy",me);function k(y){if(!y)return;const P=y.toLowerCase(),I=o,z=P.indexOf(I),H=z+I.length,oe=y.slice(0,z),v=y.slice(z,H),Me=v.split(":")[0],Se=v.split(":")[1],Ce=y.slice(H);return[{text:oe},{mark:!0,text:[Me,":",Se]},{text:Ce}]}function F(){r(0,f={name:o,artist:"No Track Found",href:""}),audioEl&&(audioEl.pause(),audioEl.currentTime=0)}function i(){const y=a.filter(P=>P.time===o);if(!y.length)F();else{const P=y.filter(H=>H.probably_time==="true").length>1,I=y.filter(H=>P?H.probably_time==="true":!0),z=Math.floor(Math.random()*I.length);f==null||f.id,r(0,f={...I[z]}),c.play()}}function w(){i()}async function M(){const y=await Je("../assets/tracks.csv");r(12,a=y.map(P=>({...P,popularity:+P.popularity})))}const R=()=>Le(ie,t=!1,t);function ne(y){p=y,r(1,p)}function se(y){ce[y?"unshift":"push"](()=>{c=y,r(3,c)})}const re=()=>i();return n.$$.update=()=>{n.$$.dirty&16384&&r(13,o=l.time),n.$$.dirty&16384&&l.period,n.$$.dirty&12290&&a&&p&&w(),n.$$.dirty&1&&r(5,s=k(f==null?void 0:f.name)),n.$$.dirty&4&&(t||r(4,h=!0))},M(),[f,p,t,c,h,s,g,b,u,d,E,i,a,o,l,R,ne,se,re]}class Pt extends X{constructor(e){super(),Y(this,e,Nt,Et,W,{})}}export{Pt as component};
