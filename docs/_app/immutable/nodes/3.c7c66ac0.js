import{F as x,s as A,e as V,i as y,y as S,d as p,G as ge,f as E,g as H,h as C,I as W,C as le,l as ae,m as re,k as X,x as w,n as ve,J as $e,a as M,c as N,j,z as ye,D as be,o as ke,H as we,A as Me}from"../chunks/scheduler.d2971820.js";import{S as oe,i as ie,a as g,g as fe,t as b,c as ue,f as Ne,b as D,d as I,m as O,e as q}from"../chunks/index.ca79f6f8.js";import{e as Z,c as T,M as Ee,v as He}from"../chunks/version.2545f05b.js";import{g as Ce,H as De,F as Ie,M as Oe,c as qe,a as Te}from"../chunks/clock.1eae6843.js";function z(l,t){return l==null||t==null?NaN:t<l?-1:t>l?1:t>=l?0:NaN}function Ve(l){return l<.5?4*l*l*l:.5*Math.pow(2*l-2,3)+1}function Se(l){const t=l-1;return t*t*t+1}function Ue(l,{delay:t=0,duration:a=400,easing:e=Se,x:s=0,y:n=0,opacity:r=0}={}){const f=getComputedStyle(l),i=+f.opacity,c=f.transform==="none"?"":f.transform,d=i*(1-r),[m,_]=x(s),[v,u]=x(n);return{delay:t,duration:a,easing:e,css:(o,h)=>`
			transform: ${c} translate(${(1-o)*m}${_}, ${(1-o)*v}${u});
			opacity: ${i-d*h}`}}function ee(l,t,a){const e=l.slice();e[5]=t[a].text,e[6]=t[a].mark,e[7]=t[a].align;const s=e[6]?"mark":"span";e[8]=s;const n=e[7]||"center";e[9]=n;const r=e[8]!=="mark";e[10]=r;const f=e[10]?1e3:0;e[11]=f;const i=e[10]?e[2]?0:500:0;e[12]=i;const c=e[10]?32:0;return e[13]=c,e}function B(l){let t,a=l[5]+"",e,s;return{c(){t=E(l[8]),e=ae(a),this.h()},l(n){t=H(n,(l[8]||"null").toUpperCase(),{class:!0});var r=C(t);e=re(r,a),r.forEach(p),this.h()},h(){W(l[8])(t,{class:"svelte-16gpbf5"}),X(t,"text-align",l[9])},m(n,r){y(n,t,r),w(t,e)},p(n,r){l=n,r&1&&a!==(a=l[5]+"")&&ve(e,a),r&1&&X(t,"text-align",l[9])},i(n){n&&(s||$e(()=>{s=Ne(t,Ue,{duration:l[11],delay:l[12],y:l[13],easing:Ve}),s.start()}))},o:S,d(n){n&&p(t)}}}function te(l){let t=l[8],a,e=!1,s=l[8]&&B(l);return{c(){s&&s.c(),a=V()},l(n){s&&s.l(n),a=V()},m(n,r){s&&s.m(n,r),y(n,a,r)},p(n,r){n[8]?t?A(t,n[8])?(s.d(1),s=B(n),t=n[8],s.c(),e&&(e=!1,g(s)),s.m(a.parentNode,a)):(e&&(e=!1,g(s)),s.p(n,r)):(s=B(n),t=n[8],s.c(),g(s),s.m(a.parentNode,a)):t&&(e=!0,fe(),b(s,1,1,()=>{s=null,t=n[8],e=!1}),ue())},i(n){g(s,n)},o:S,d(n){n&&p(a),s&&s.d(n)}}}function K(l){let t,a=Z(l[0]),e=[];for(let r=0;r<a.length;r+=1)e[r]=te(ee(l,a,r));let s=[{class:"time svelte-16gpbf5"},{href:l[1]},{target:"_blank"},{rel:"noreferrer"}],n={};for(let r=0;r<s.length;r+=1)n=ge(n,s[r]);return{c(){t=E(l[3]);for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=H(r,(l[3]||"null").toUpperCase(),{class:!0,href:!0,target:!0,rel:!0});var f=C(t);for(let i=0;i<e.length;i+=1)e[i].l(f);f.forEach(p),this.h()},h(){W(l[3])(t,n)},m(r,f){y(r,t,f);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(t,null)},p(r,f){if(f&1){a=Z(r[0]);let i;for(i=0;i<a.length;i+=1){const c=ee(r,a,i);e[i]?(e[i].p(c,f),g(e[i],1)):(e[i]=te(c),e[i].c(),g(e[i],1),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=a.length}W(r[3])(t,n=Ce(s,[{class:"time svelte-16gpbf5"},f&2&&{href:r[1]},{target:"_blank"},{rel:"noreferrer"}]))},d(r){r&&p(t),le(e,r)}}}function Fe(l){let t=l[3],a,e=l[3]&&K(l);return{c(){e&&e.c(),a=V()},l(s){e&&e.l(s),a=V()},m(s,n){e&&e.m(s,n),y(s,a,n)},p(s,[n]){s[3]?t?A(t,s[3])?(e.d(1),e=K(s),t=s[3],e.c(),e.m(a.parentNode,a)):e.p(s,n):(e=K(s),t=s[3],e.c(),e.m(a.parentNode,a)):t&&(e.d(1),e=null,t=s[3])},i:S,o:S,d(s){s&&p(a),e&&e.d(s)}}}function je(l,t,a){let e,{data:s}=t,{href:n}=t,{hour:r}=t;return l.$$set=f=>{"data"in f&&a(0,s=f.data),"href"in f&&a(1,n=f.href),"hour"in f&&a(2,r=f.hour)},l.$$.update=()=>{l.$$.dirty&2&&a(3,e=n?"a":"div")},[s,n,r,e]}class R extends oe{constructor(t){super(),ie(this,t,je,Fe,A,{data:0,href:1,hour:2})}}function Le(l,t,a){const e=l.slice();return e[14]=t[a].type,e[15]=t[a].value,e}function se(l){let t,a,e,s,n,r,f,i,c,d;return e=new R({props:{data:l[1],href:l[3],hour:!0}}),r=new R({props:{data:l[2],href:l[4]}}),c=new R({props:{data:[{text:""},{mark:!0,text:l[0].period},{text:""}]}}),{c(){t=E("div"),a=E("div"),D(e.$$.fragment),s=M(),n=E("div"),D(r.$$.fragment),f=M(),i=E("div"),D(c.$$.fragment),this.h()},l(m){t=H(m,"DIV",{class:!0});var _=C(t);a=H(_,"DIV",{class:!0});var v=C(a);I(e.$$.fragment,v),v.forEach(p),s=N(_),n=H(_,"DIV",{class:!0});var u=C(n);I(r.$$.fragment,u),u.forEach(p),f=N(_),i=H(_,"DIV",{class:!0,style:!0});var o=C(i);I(c.$$.fragment,o),o.forEach(p),_.forEach(p),this.h()},h(){j(a,"class","hours"),j(n,"class","minutes"),j(i,"class","period"),X(i,"--color-mark","var(--color-fg2)"),j(t,"class","clock svelte-1f7f32g")},m(m,_){y(m,t,_),w(t,a),O(e,a,null),w(t,s),w(t,n),O(r,n,null),w(t,f),w(t,i),O(c,i,null),d=!0},p(m,_){const v={};_&2&&(v.data=m[1]),_&8&&(v.href=m[3]),e.$set(v);const u={};_&4&&(u.data=m[2]),_&16&&(u.href=m[4]),r.$set(u);const o={};_&1&&(o.data=[{text:""},{mark:!0,text:m[0].period},{text:""}]),c.$set(o)},i(m){d||(g(e.$$.fragment,m),g(r.$$.fragment,m),g(c.$$.fragment,m),d=!0)},o(m){b(e.$$.fragment,m),b(r.$$.fragment,m),b(c.$$.fragment,m),d=!1},d(m){m&&p(t),q(e),q(r),q(c)}}}function Pe(l){let t,a,e;return{c(){t=E("p"),a=new we(!1),e=M(),this.h()},l(s){t=H(s,"P",{});var n=C(t);a=Me(n,!1),e=N(n),n.forEach(p),this.h()},h(){a.a=e},m(s,n){y(s,t,n),a.m(l[15],t),w(t,e)},p:S,d(s){s&&p(t)}}}function ze(l){let t,a=Z(T.newsMethod),e=[];for(let s=0;s<a.length;s+=1)e[s]=Pe(Le(l,a,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=V()},l(s){for(let n=0;n<e.length;n+=1)e[n].l(s);t=V()},m(s,n){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(s,n);y(s,t,n)},p:S,d(s){s&&p(t),le(e,s)}}}function Ae(l){let t,a,e,s,n,r=T.newsTitle+"",f,i,c,d,m,_,v;t=new Ee({props:{title:l[6],description:l[7],url:l[5],keywords:l[8],path:l[9]}}),e=new De({});let u=l[1]&&l[2]&&se(l);return d=new Ie({props:{text:T.newsTitle,warning:!1,tease:"check out the <a href='../songs'>song</a> or <a href='../videos'>YouTube</a> clock"}}),_=new Oe({props:{$$slots:{default:[ze]},$$scope:{ctx:l}}}),{c(){D(t.$$.fragment),a=M(),D(e.$$.fragment),s=M(),n=E("h1"),f=ae(r),i=M(),u&&u.c(),c=M(),D(d.$$.fragment),m=M(),D(_.$$.fragment),this.h()},l(o){I(t.$$.fragment,o),a=N(o),I(e.$$.fragment,o),s=N(o),n=H(o,"H1",{class:!0});var h=C(n);f=re(h,r),h.forEach(p),i=N(o),u&&u.l(o),c=N(o),I(d.$$.fragment,o),m=N(o),I(_.$$.fragment,o),this.h()},h(){j(n,"class","sr-only")},m(o,h){O(t,o,h),y(o,a,h),O(e,o,h),y(o,s,h),y(o,n,h),w(n,f),y(o,i,h),u&&u.m(o,h),y(o,c,h),O(d,o,h),y(o,m,h),O(_,o,h),v=!0},p(o,[h]){o[1]&&o[2]?u?(u.p(o,h),h&6&&g(u,1)):(u=se(o),u.c(),g(u,1),u.m(c.parentNode,c)):u&&(fe(),b(u,1,1,()=>{u=null}),ue());const k={};h&262144&&(k.$$scope={dirty:h,ctx:o}),_.$set(k)},i(o){v||(g(t.$$.fragment,o),g(e.$$.fragment,o),g(u),g(d.$$.fragment,o),g(_.$$.fragment,o),v=!0)},o(o){b(t.$$.fragment,o),b(e.$$.fragment,o),b(u),b(d.$$.fragment,o),b(_.$$.fragment,o),v=!1},d(o){o&&(p(a),p(s),p(n),p(i),p(c),p(m)),q(t,o),q(e,o),u&&u.d(o),q(d,o),q(_,o)}}}function ne({str:l,q:t,number:a}){const e=l.toLowerCase(),s=t.toLowerCase(),n=e.indexOf(s),r=n+t.length,f=l.slice(0,n),i=a,c=l.slice(r);return[{align:"right",text:f},{mark:!0,text:i},{align:"left",text:c}]}function Ge(l,t,a){let e,s,n;ye(l,Te,k=>a(0,n=k)),He();let r,f,i,c,d;const{url:m}=T,{title:_,description:v,keywords:u,path:o}=T.newsMeta;be("copy",T);function h(k,U){const L=+k,P=+U,G=r.filter($=>$.number===L),J=r.filter($=>$.number===P);G.sort(($,F)=>z($.isolated,F.isolated)||z($.published,F.published)),J.sort(($,F)=>z($.isolated,F.isolated)||z($.published,F.published));const me=G.filter($=>$.isolated).length,ce=J.filter($=>$.isolated).length,_e=Math.floor(Math.random()*me),he=Math.floor(Math.random()*ce),Q=G[_e]||{title:"",q:""},Y=J[he]||{title:"",q:""},pe=L<10?`0${L}`:L,de=P<10?`0${P}`:P;a(1,f=ne({str:Q.title,q:Q.q,number:pe})),a(2,i=ne({str:Y.title,q:Y.q,number:de})),a(3,c=Q.url),a(4,d=Y.url)}return ke(async()=>{const k=await qe(`https://pudding.cool/projects/clock-data/latest.csv?version=${Date.now()}`);a(10,r=k.map(U=>({...U,isolated:U.isolated==="true",number:+U.number})))}),l.$$.update=()=>{l.$$.dirty&1&&a(12,e=n==null?void 0:n.time.split(":")[0]),l.$$.dirty&1&&a(11,s=n==null?void 0:n.time.split(":")[1]),l.$$.dirty&7168&&r&&h(e,s)},[n,f,i,c,d,m,_,v,u,o,r,s,e]}class Ke extends oe{constructor(t){super(),ie(this,t,Ge,Ae,A,{})}}export{Ke as component};
