import{F as Y,s as j,e as V,i as $,y as T,d as p,G as _e,f as E,g as H,h as C,I as B,C as ne,l as se,m as ae,k as K,x as b,n as he,J as pe,a as k,c as M,j as S,z as de,D as ge,o as ve,H as $e,A as ye}from"../chunks/scheduler.d2971820.js";import{S as re,i as le,a as g,g as oe,t as y,c as ie,f as we,b as D,d as O,m as q,e as I}from"../chunks/index.ca79f6f8.js";import{e as R,c as N,M as be,v as ke}from"../chunks/version.2e3af60b.js";import{g as Me,H as Ee,F as He,M as Ce,c as De,a as Oe}from"../chunks/clock.edb10607.js";function qe(a){return a<.5?4*a*a*a:.5*Math.pow(2*a-2,3)+1}function Ie(a){const t=a-1;return t*t*t+1}function Ne(a,{delay:t=0,duration:r=400,easing:e=Ie,x:n=0,y:s=0,opacity:l=0}={}){const f=getComputedStyle(a),i=+f.opacity,c=f.transform==="none"?"":f.transform,d=i*(1-l),[u,_]=Y(n),[v,m]=Y(s);return{delay:t,duration:r,easing:e,css:(o,h)=>`
			transform: ${c} translate(${(1-o)*u}${_}, ${(1-o)*v}${m});
			opacity: ${i-d*h}`}}function Z(a,t,r){const e=a.slice();e[5]=t[r].text,e[6]=t[r].mark,e[7]=t[r].align;const n=e[6]?"mark":"span";e[8]=n;const s=e[7]||"center";e[9]=s;const l=e[8]!=="mark";e[10]=l;const f=e[10]?1e3:0;e[11]=f;const i=e[10]?e[2]?0:500:0;e[12]=i;const c=e[10]?32:0;return e[13]=c,e}function G(a){let t,r=a[5]+"",e,n;return{c(){t=E(a[8]),e=se(r),this.h()},l(s){t=H(s,(a[8]||"null").toUpperCase(),{class:!0});var l=C(t);e=ae(l,r),l.forEach(p),this.h()},h(){B(a[8])(t,{class:"svelte-1nm97wb"}),K(t,"text-align",a[9])},m(s,l){$(s,t,l),b(t,e)},p(s,l){a=s,l&1&&r!==(r=a[5]+"")&&he(e,r),l&1&&K(t,"text-align",a[9])},i(s){s&&(n||pe(()=>{n=we(t,Ne,{duration:a[11],delay:a[12],y:a[13],easing:qe}),n.start()}))},o:T,d(s){s&&p(t)}}}function x(a){let t=a[8],r,e=!1,n=a[8]&&G(a);return{c(){n&&n.c(),r=V()},l(s){n&&n.l(s),r=V()},m(s,l){n&&n.m(s,l),$(s,r,l)},p(s,l){s[8]?t?j(t,s[8])?(n.d(1),n=G(s),t=s[8],n.c(),e&&(e=!1,g(n)),n.m(r.parentNode,r)):(e&&(e=!1,g(n)),n.p(s,l)):(n=G(s),t=s[8],n.c(),g(n),n.m(r.parentNode,r)):t&&(e=!0,oe(),y(n,1,1,()=>{n=null,t=s[8],e=!1}),ie())},i(s){g(n,s)},o:T,d(s){s&&p(r),n&&n.d(s)}}}function J(a){let t,r=R(a[0]),e=[];for(let l=0;l<r.length;l+=1)e[l]=x(Z(a,r,l));let n=[{class:"time svelte-1nm97wb"},{href:a[1]},{target:"_blank"},{rel:"noreferrer"}],s={};for(let l=0;l<n.length;l+=1)s=_e(s,n[l]);return{c(){t=E(a[3]);for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=H(l,(a[3]||"null").toUpperCase(),{class:!0,href:!0,target:!0,rel:!0});var f=C(t);for(let i=0;i<e.length;i+=1)e[i].l(f);f.forEach(p),this.h()},h(){B(a[3])(t,s)},m(l,f){$(l,t,f);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(t,null)},p(l,f){if(f&1){r=R(l[0]);let i;for(i=0;i<r.length;i+=1){const c=Z(l,r,i);e[i]?(e[i].p(c,f),g(e[i],1)):(e[i]=x(c),e[i].c(),g(e[i],1),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=r.length}B(l[3])(t,s=Me(n,[{class:"time svelte-1nm97wb"},f&2&&{href:l[1]},{target:"_blank"},{rel:"noreferrer"}]))},d(l){l&&p(t),ne(e,l)}}}function Ve(a){let t=a[3],r,e=a[3]&&J(a);return{c(){e&&e.c(),r=V()},l(n){e&&e.l(n),r=V()},m(n,s){e&&e.m(n,s),$(n,r,s)},p(n,[s]){n[3]?t?j(t,n[3])?(e.d(1),e=J(n),t=n[3],e.c(),e.m(r.parentNode,r)):e.p(n,s):(e=J(n),t=n[3],e.c(),e.m(r.parentNode,r)):t&&(e.d(1),e=null,t=n[3])},i:T,o:T,d(n){n&&p(r),e&&e.d(n)}}}function Te(a,t,r){let e,{data:n}=t,{href:s}=t,{hour:l}=t;return a.$$set=f=>{"data"in f&&r(0,n=f.data),"href"in f&&r(1,s=f.href),"hour"in f&&r(2,l=f.hour)},a.$$.update=()=>{a.$$.dirty&2&&r(3,e=s?"a":"div")},[n,s,l,e]}class Q extends re{constructor(t){super(),le(this,t,Te,Ve,j,{data:0,href:1,hour:2})}}function Se(a,t,r){const e=a.slice();return e[14]=t[r].type,e[15]=t[r].value,e}function ee(a){let t,r,e,n,s,l,f,i,c,d;return e=new Q({props:{data:a[1],href:a[3],hour:!0}}),l=new Q({props:{data:a[2],href:a[4]}}),c=new Q({props:{data:[{text:""},{mark:!0,text:a[0].period},{text:""}]}}),{c(){t=E("div"),r=E("div"),D(e.$$.fragment),n=k(),s=E("div"),D(l.$$.fragment),f=k(),i=E("div"),D(c.$$.fragment),this.h()},l(u){t=H(u,"DIV",{class:!0});var _=C(t);r=H(_,"DIV",{class:!0});var v=C(r);O(e.$$.fragment,v),v.forEach(p),n=M(_),s=H(_,"DIV",{class:!0});var m=C(s);O(l.$$.fragment,m),m.forEach(p),f=M(_),i=H(_,"DIV",{class:!0,style:!0});var o=C(i);O(c.$$.fragment,o),o.forEach(p),_.forEach(p),this.h()},h(){S(r,"class","hours"),S(s,"class","minutes"),S(i,"class","period"),K(i,"--color-mark","var(--color-fg2)"),S(t,"class","clock svelte-1f7f32g")},m(u,_){$(u,t,_),b(t,r),q(e,r,null),b(t,n),b(t,s),q(l,s,null),b(t,f),b(t,i),q(c,i,null),d=!0},p(u,_){const v={};_&2&&(v.data=u[1]),_&8&&(v.href=u[3]),e.$set(v);const m={};_&4&&(m.data=u[2]),_&16&&(m.href=u[4]),l.$set(m);const o={};_&1&&(o.data=[{text:""},{mark:!0,text:u[0].period},{text:""}]),c.$set(o)},i(u){d||(g(e.$$.fragment,u),g(l.$$.fragment,u),g(c.$$.fragment,u),d=!0)},o(u){y(e.$$.fragment,u),y(l.$$.fragment,u),y(c.$$.fragment,u),d=!1},d(u){u&&p(t),I(e),I(l),I(c)}}}function Ue(a){let t,r,e;return{c(){t=E("p"),r=new $e(!1),e=k(),this.h()},l(n){t=H(n,"P",{});var s=C(t);r=ye(s,!1),e=M(s),s.forEach(p),this.h()},h(){r.a=e},m(n,s){$(n,t,s),r.m(a[15],t),b(t,e)},p:T,d(n){n&&p(t)}}}function Fe(a){let t,r=R(N.newsMethod),e=[];for(let n=0;n<r.length;n+=1)e[n]=Ue(Se(a,r,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=V()},l(n){for(let s=0;s<e.length;s+=1)e[s].l(n);t=V()},m(n,s){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,s);$(n,t,s)},p:T,d(n){n&&p(t),ne(e,n)}}}function Le(a){let t,r,e,n,s,l=N.newsTitle+"",f,i,c,d,u,_,v;t=new be({props:{title:a[6],description:a[7],url:a[5],keywords:a[8]}}),e=new Ee({});let m=a[1]&&a[2]&&ee(a);return d=new He({props:{text:N.newsTitle,warning:!1,tease:"check out the song clock",teaseLink:"../songs"}}),_=new Ce({props:{$$slots:{default:[Fe]},$$scope:{ctx:a}}}),{c(){D(t.$$.fragment),r=k(),D(e.$$.fragment),n=k(),s=E("h1"),f=se(l),i=k(),m&&m.c(),c=k(),D(d.$$.fragment),u=k(),D(_.$$.fragment),this.h()},l(o){O(t.$$.fragment,o),r=M(o),O(e.$$.fragment,o),n=M(o),s=H(o,"H1",{class:!0});var h=C(s);f=ae(h,l),h.forEach(p),i=M(o),m&&m.l(o),c=M(o),O(d.$$.fragment,o),u=M(o),O(_.$$.fragment,o),this.h()},h(){S(s,"class","sr-only")},m(o,h){q(t,o,h),$(o,r,h),q(e,o,h),$(o,n,h),$(o,s,h),b(s,f),$(o,i,h),m&&m.m(o,h),$(o,c,h),q(d,o,h),$(o,u,h),q(_,o,h),v=!0},p(o,[h]){o[1]&&o[2]?m?(m.p(o,h),h&6&&g(m,1)):(m=ee(o),m.c(),g(m,1),m.m(c.parentNode,c)):m&&(oe(),y(m,1,1,()=>{m=null}),ie());const w={};h&262144&&(w.$$scope={dirty:h,ctx:o}),_.$set(w)},i(o){v||(g(t.$$.fragment,o),g(e.$$.fragment,o),g(m),g(d.$$.fragment,o),g(_.$$.fragment,o),v=!0)},o(o){y(t.$$.fragment,o),y(e.$$.fragment,o),y(m),y(d.$$.fragment,o),y(_.$$.fragment,o),v=!1},d(o){o&&(p(r),p(n),p(s),p(i),p(c),p(u)),I(t,o),I(e,o),m&&m.d(o),I(d,o),I(_,o)}}}function te({str:a,q:t,number:r}){const e=a.toLowerCase(),n=t.toLowerCase(),s=e.indexOf(n),l=s+t.length,f=a.slice(0,s),i=r,c=a.slice(l);return[{align:"right",text:f},{mark:!0,text:i},{align:"left",text:c}]}function je(a,t,r){let e,n,s;de(a,Oe,w=>r(0,s=w)),ke();let l,f,i,c,d;const{url:u}=N,{title:_,description:v,keywords:m,path:o}=N.newsMeta;ge("copy",N);function h(w,U){const F=+w,L=+U,W=l.filter(A=>A.number===F),X=l.filter(A=>A.number===L),fe=Math.floor(Math.random()*W.length),me=Math.floor(Math.random()*X.length),P=W[fe]||{title:"",q:""},z=X[me]||{title:"",q:""},ue=F<10?`0${F}`:F,ce=L<10?`0${L}`:L;r(1,f=te({str:P.title,q:P.q,number:ue})),r(2,i=te({str:z.title,q:z.q,number:ce})),r(3,c=P.url),r(4,d=z.url)}return ve(async()=>{const w=await De(`https://pudding.cool/projects/clock-data/latest.csv?version=${Date.now()}`);r(9,l=w.map(U=>({...U,number:+U.number})))}),a.$$.update=()=>{a.$$.dirty&1&&r(11,e=s==null?void 0:s.time.split(":")[0]),a.$$.dirty&1&&r(10,n=s==null?void 0:s.time.split(":")[1]),a.$$.dirty&3584&&l&&h(e,n)},[s,f,i,c,d,u,_,v,m,l,n,e]}class Je extends re{constructor(t){super(),le(this,t,je,Le,j,{})}}export{Je as component};
