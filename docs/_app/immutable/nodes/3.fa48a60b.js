import{s as P,e as I,i as $,y as j,d as p,F as me,f as E,g as H,h as D,G as J,C as te,l as se,m as ne,k as K,x as w,n as ue,a as y,c as M,j as V,z as ce,D as _e,o as he,H as pe,A as de}from"../chunks/scheduler.75bf702b.js";import{S as le,i as ae,b as C,d as q,m as N,a as v,t as k,c as ge,e as O,g as $e}from"../chunks/index.de86b41b.js";import{e as R,c as T,M as ve,v as ke}from"../chunks/version.d441c659.js";import{g as be,H as we,F as ye,M as Me,c as Ee,a as He}from"../chunks/clock.b6ab7be9.js";function Y(a,s,n){const e=a.slice();e[4]=s[n].text,e[5]=s[n].mark,e[6]=s[n].align;const t=e[5]?"mark":"span";e[7]=t;const l=e[6]||"center";return e[8]=l,e}function G(a){let s,n=a[4]+"",e;return{c(){s=E(a[7]),e=se(n),this.h()},l(t){s=H(t,(a[7]||"null").toUpperCase(),{class:!0});var l=D(s);e=ne(l,n),l.forEach(p),this.h()},h(){J(a[7])(s,{class:"svelte-14bbxkh"}),K(s,"text-align",a[8])},m(t,l){$(t,s,l),w(s,e)},p(t,l){l&1&&n!==(n=t[4]+"")&&ue(e,n),l&1&&K(s,"text-align",t[8])},d(t){t&&p(s)}}}function Z(a){let s=a[7],n,e=a[7]&&G(a);return{c(){e&&e.c(),n=I()},l(t){e&&e.l(t),n=I()},m(t,l){e&&e.m(t,l),$(t,n,l)},p(t,l){t[7]?s?P(s,t[7])?(e.d(1),e=G(t),s=t[7],e.c(),e.m(n.parentNode,n)):e.p(t,l):(e=G(t),s=t[7],e.c(),e.m(n.parentNode,n)):s&&(e.d(1),e=null,s=t[7])},d(t){t&&p(n),e&&e.d(t)}}}function Q(a){let s,n=R(a[0]),e=[];for(let r=0;r<n.length;r+=1)e[r]=Z(Y(a,n,r));let t=[{class:"time svelte-14bbxkh"},{href:a[1]}],l={};for(let r=0;r<t.length;r+=1)l=me(l,t[r]);return{c(){s=E(a[2]);for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){s=H(r,(a[2]||"null").toUpperCase(),{class:!0,href:!0});var _=D(s);for(let i=0;i<e.length;i+=1)e[i].l(_);_.forEach(p),this.h()},h(){J(a[2])(s,l)},m(r,_){$(r,s,_);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(s,null)},p(r,_){if(_&1){n=R(r[0]);let i;for(i=0;i<n.length;i+=1){const c=Y(r,n,i);e[i]?e[i].p(c,_):(e[i]=Z(c),e[i].c(),e[i].m(s,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=n.length}J(r[2])(s,l=be(t,[{class:"time svelte-14bbxkh"},_&2&&{href:r[1]}]))},d(r){r&&p(s),te(e,r)}}}function De(a){let s=a[2],n,e=a[2]&&Q(a);return{c(){e&&e.c(),n=I()},l(t){e&&e.l(t),n=I()},m(t,l){e&&e.m(t,l),$(t,n,l)},p(t,[l]){t[2]?s?P(s,t[2])?(e.d(1),e=Q(t),s=t[2],e.c(),e.m(n.parentNode,n)):e.p(t,l):(e=Q(t),s=t[2],e.c(),e.m(n.parentNode,n)):s&&(e.d(1),e=null,s=t[2])},i:j,o:j,d(t){t&&p(n),e&&e.d(t)}}}function Ce(a,s,n){let e,{data:t}=s,{href:l}=s;return a.$$set=r=>{"data"in r&&n(0,t=r.data),"href"in r&&n(1,l=r.href)},a.$$.update=()=>{a.$$.dirty&2&&n(2,e=l?"a":"div")},[t,l,e]}class B extends le{constructor(s){super(),ae(this,s,Ce,De,P,{data:0,href:1})}}function qe(a,s,n){const e=a.slice();return e[14]=s[n].type,e[15]=s[n].value,e}function x(a){let s,n,e,t,l,r,_,i,c,d;return e=new B({props:{data:a[1],href:a[3]}}),r=new B({props:{data:a[2],href:a[4]}}),c=new B({props:{data:[{text:""},{mark:!0,text:a[0].period},{text:""}]}}),{c(){s=E("div"),n=E("div"),C(e.$$.fragment),t=y(),l=E("div"),C(r.$$.fragment),_=y(),i=E("div"),C(c.$$.fragment),this.h()},l(m){s=H(m,"DIV",{class:!0});var u=D(s);n=H(u,"DIV",{class:!0});var g=D(n);q(e.$$.fragment,g),g.forEach(p),t=M(u),l=H(u,"DIV",{class:!0});var f=D(l);q(r.$$.fragment,f),f.forEach(p),_=M(u),i=H(u,"DIV",{class:!0,style:!0});var o=D(i);q(c.$$.fragment,o),o.forEach(p),u.forEach(p),this.h()},h(){V(n,"class","hours"),V(l,"class","minutes"),V(i,"class","period"),K(i,"--color-mark","var(--color-fg2)"),V(s,"class","clock svelte-1f7f32g")},m(m,u){$(m,s,u),w(s,n),N(e,n,null),w(s,t),w(s,l),N(r,l,null),w(s,_),w(s,i),N(c,i,null),d=!0},p(m,u){const g={};u&2&&(g.data=m[1]),u&8&&(g.href=m[3]),e.$set(g);const f={};u&4&&(f.data=m[2]),u&16&&(f.href=m[4]),r.$set(f);const o={};u&1&&(o.data=[{text:""},{mark:!0,text:m[0].period},{text:""}]),c.$set(o)},i(m){d||(v(e.$$.fragment,m),v(r.$$.fragment,m),v(c.$$.fragment,m),d=!0)},o(m){k(e.$$.fragment,m),k(r.$$.fragment,m),k(c.$$.fragment,m),d=!1},d(m){m&&p(s),O(e),O(r),O(c)}}}function Ne(a){let s,n,e;return{c(){s=E("p"),n=new pe(!1),e=y(),this.h()},l(t){s=H(t,"P",{});var l=D(s);n=de(l,!1),e=M(l),l.forEach(p),this.h()},h(){n.a=e},m(t,l){$(t,s,l),n.m(a[15],s),w(s,e)},p:j,d(t){t&&p(s)}}}function Oe(a){let s,n=R(T.newsMethod),e=[];for(let t=0;t<n.length;t+=1)e[t]=Ne(qe(a,n,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();s=I()},l(t){for(let l=0;l<e.length;l+=1)e[l].l(t);s=I()},m(t,l){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,l);$(t,s,l)},p:j,d(t){t&&p(s),te(e,t)}}}function Te(a){let s,n,e,t,l,r=T.newsTitle+"",_,i,c,d,m,u,g;s=new ve({props:{title:a[6],description:a[7],url:a[5],keywords:a[8]}}),e=new we({});let f=a[1]&&a[2]&&x(a);return d=new ye({props:{text:T.newsTitle,warning:!1,tease:"check out the song clock",teaseLink:"../songs"}}),u=new Me({props:{$$slots:{default:[Oe]},$$scope:{ctx:a}}}),{c(){C(s.$$.fragment),n=y(),C(e.$$.fragment),t=y(),l=E("h1"),_=se(r),i=y(),f&&f.c(),c=y(),C(d.$$.fragment),m=y(),C(u.$$.fragment),this.h()},l(o){q(s.$$.fragment,o),n=M(o),q(e.$$.fragment,o),t=M(o),l=H(o,"H1",{class:!0});var h=D(l);_=ne(h,r),h.forEach(p),i=M(o),f&&f.l(o),c=M(o),q(d.$$.fragment,o),m=M(o),q(u.$$.fragment,o),this.h()},h(){V(l,"class","sr-only")},m(o,h){N(s,o,h),$(o,n,h),N(e,o,h),$(o,t,h),$(o,l,h),w(l,_),$(o,i,h),f&&f.m(o,h),$(o,c,h),N(d,o,h),$(o,m,h),N(u,o,h),g=!0},p(o,[h]){o[1]&&o[2]?f?(f.p(o,h),h&6&&v(f,1)):(f=x(o),f.c(),v(f,1),f.m(c.parentNode,c)):f&&($e(),k(f,1,1,()=>{f=null}),ge());const b={};h&262144&&(b.$$scope={dirty:h,ctx:o}),u.$set(b)},i(o){g||(v(s.$$.fragment,o),v(e.$$.fragment,o),v(f),v(d.$$.fragment,o),v(u.$$.fragment,o),g=!0)},o(o){k(s.$$.fragment,o),k(e.$$.fragment,o),k(f),k(d.$$.fragment,o),k(u.$$.fragment,o),g=!1},d(o){o&&(p(n),p(t),p(l),p(i),p(c),p(m)),O(s,o),O(e,o),f&&f.d(o),O(d,o),O(u,o)}}}function ee({str:a,q:s,number:n}){const e=a.toLowerCase(),t=s.toLowerCase(),l=e.indexOf(t),r=l+s.length,_=a.slice(0,l),i=n,c=a.slice(r);return[{align:"right",text:_},{mark:!0,text:i},{align:"left",text:c}]}function Ie(a,s,n){let e,t,l;ce(a,He,b=>n(0,l=b)),ke();let r,_,i,c,d;const{url:m}=T,{title:u,description:g,keywords:f,path:o}=T.newsMeta;_e("copy",T);function h(b,F){const L=+b,S=+F,W=r.filter(A=>A.number===L),X=r.filter(A=>A.number===S),re=Math.floor(Math.random()*W.length),oe=Math.floor(Math.random()*X.length),U=W[re]||{title:"",q:""},z=X[oe]||{title:"",q:""},ie=L<10?`0${L}`:L,fe=S<10?`0${S}`:S;n(1,_=ee({str:U.title,q:U.q,number:ie})),n(2,i=ee({str:z.title,q:z.q,number:fe})),n(3,c=U.url),n(4,d=z.url)}return he(async()=>{const b=await Ee(`https://pudding.cool/projects/clock-data/latest.csv?version=${Date.now()}`);n(9,r=b.map(F=>({...F,number:+F.number})))}),a.$$.update=()=>{a.$$.dirty&1&&n(11,e=l==null?void 0:l.time.split(":")[0]),a.$$.dirty&1&&n(10,t=l==null?void 0:l.time.split(":")[1]),a.$$.dirty&3584&&r&&h(e,t)},[l,_,i,c,d,m,u,g,f,r,t,e]}class je extends le{constructor(s){super(),ae(this,s,Ie,Te,P,{})}}export{je as component};
