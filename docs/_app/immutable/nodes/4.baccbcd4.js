import{E as de,s as G,F as Q,G as _e,r as ze,u as Pe,v as Fe,w as qe,f as N,l as Z,a as F,g as S,h as M,m as $,d as h,c as q,j as y,i as E,x as w,n as se,H as J,k as x,I as Be,y as K,C as Se,b as De,e as ee,J as pe,K as He,L as he,M as I,N as Ie,z as te,O as je,o as Ue,p as ue,P as Re,B as Ve,A as Ke,Q as Le,R as We,S as Ge}from"../chunks/scheduler.a586b52b.js";import{S as X,i as Y,b as j,d as U,m as R,a as O,t as z,e as V,n as Je,l as Qe,r as Ze,f as $e,c as Te,g as Me,h as Xe}from"../chunks/index.6c3f80a7.js";import{c as Ye,a as xe}from"../chunks/clock.4f7fffdd.js";import{e as ne,M as et,v as tt,c as me}from"../chunks/version.12f8848d.js";import{I as nt,g as st,a as rt,i as fe,H as ot}from"../chunks/Header.c3efcc84.js";import{w as lt}from"../chunks/index.1b5b8c3d.js";const at=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function it(n){const e=n-1;return e*e*e+1}function ft(n,{delay:e=0,duration:s=400,easing:o=it,x:r=0,y:t=0,opacity:a=0}={}){const l=getComputedStyle(n),i=+l.opacity,f=l.transform==="none"?"":l.transform,d=i*(1-a),[u,m]=de(r),[g,p]=de(t);return{delay:e,duration:s,easing:o,css:(_,C)=>`
			transform: ${f} translate(${(1-_)*u}${m}, ${(1-_)*g}${p});
			opacity: ${i-d*C}`}}function ct(n){let e;const s=n[2].default,o=ze(s,n,n[3],null);return{c(){o&&o.c()},l(r){o&&o.l(r)},m(r,t){o&&o.m(r,t),e=!0},p(r,t){o&&o.p&&(!e||t&8)&&Pe(o,s,r,r[3],e?qe(s,r[3],t,null):Fe(r[3]),null)},i(r){e||(O(o,r),e=!0)},o(r){z(o,r),e=!1},d(r){o&&o.d(r)}}}function ut(n){let e,s;const o=[{name:"help-circle"},n[1],{iconNode:n[0]}];let r={$$slots:{default:[ct]},$$scope:{ctx:n}};for(let t=0;t<o.length;t+=1)r=Q(r,o[t]);return e=new nt({props:r}),{c(){j(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,a){R(e,t,a),s=!0},p(t,[a]){const l=a&3?st(o,[o[0],a&2&&rt(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(l.$$scope={dirty:a,ctx:t}),e.$set(l)},i(t){s||(O(e.$$.fragment,t),s=!0)},o(t){z(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function dt(n,e,s){let{$$slots:o={},$$scope:r}=e;const t=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];return n.$$set=a=>{s(1,e=Q(Q({},e),_e(a))),"$$scope"in a&&s(3,r=a.$$scope)},e=_e(e),[t,e,o,r]}class _t extends X{constructor(e){super(),Y(this,e,dt,ut,G,{})}}const pt=_t;function ht(n){let e,s,o,r,t,a,l;return a=new pt({props:{size:"28"}}),{c(){e=N("footer"),s=N("h1"),o=Z(n[0]),r=F(),t=N("button"),j(a.$$.fragment),this.h()},l(i){e=S(i,"FOOTER",{class:!0});var f=M(e);s=S(f,"H1",{class:!0});var d=M(s);o=$(d,n[0]),d.forEach(h),r=q(f),t=S(f,"BUTTON",{class:!0,"aria-label":!0});var u=M(t);U(a.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){y(s,"class","svelte-2pd0x1"),y(t,"class","icon svelte-2pd0x1"),y(t,"aria-label","about"),y(e,"class","svelte-2pd0x1")},m(i,f){E(i,e,f),w(e,s),w(s,o),w(e,r),w(e,t),R(a,t,null),l=!0},p(i,[f]){(!l||f&1)&&se(o,i[0])},i(i){l||(O(a.$$.fragment,i),l=!0)},o(i){z(a.$$.fragment,i),l=!1},d(i){i&&h(e),V(a)}}}function mt(n,e,s){let{text:o}=e;return n.$$set=r=>{"text"in r&&s(0,o=r.text)},[o]}class gt extends X{constructor(e){super(),Y(this,e,mt,ht,G,{text:0})}}function ge(n,e,s){const o=n.slice();return o[8]=e[s].text,o[9]=e[s].mark,o}function ye(n,e,s){const o=n.slice();o[12]=e[s];const r=o[12]===":";return o[13]=r,o}function yt(n){let e,s=n[8]+"",o;return{c(){e=N("span"),o=Z(s),this.h()},l(r){e=S(r,"SPAN",{class:!0});var t=M(e);o=$(t,s),t.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg")},m(r,t){E(r,e,t),w(e,o)},p(r,t){t&1&&s!==(s=r[8]+"")&&se(o,s)},d(r){r&&h(e)}}}function kt(n){let e,s,o=ne(n[8]),r=[];for(let t=0;t<o.length;t+=1)r[t]=ke(ye(n,o,t));return{c(){e=N("mark");for(let t=0;t<r.length;t+=1)r[t].c();s=F(),this.h()},l(t){e=S(t,"MARK",{class:!0});var a=M(e);for(let l=0;l<r.length;l+=1)r[l].l(a);s=q(a),a.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg")},m(t,a){E(t,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);w(e,s)},p(t,a){if(a&1){o=ne(t[8]);let l;for(l=0;l<o.length;l+=1){const i=ye(t,o,l);r[l]?r[l].p(i,a):(r[l]=ke(i),r[l].c(),r[l].m(e,s))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},d(t){t&&h(e),Se(r,t)}}}function ke(n){let e,s=n[12]+"",o;return{c(){e=N("span"),o=Z(s),this.h()},l(r){e=S(r,"SPAN",{class:!0});var t=M(e);o=$(t,s),t.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg"),pe(e,"colon",n[13])},m(r,t){E(r,e,t),w(e,o)},p(r,t){t&1&&s!==(s=r[12]+"")&&se(o,s),t&1&&pe(e,"colon",r[13])},d(r){r&&h(e)}}}function be(n){let e;function s(t,a){return t[9]?kt:yt}let o=s(n),r=o(n);return{c(){r.c(),e=ee()},l(t){r.l(t),e=ee()},m(t,a){r.m(t,a),E(t,e,a)},p(t,a){o===(o=s(t))&&r?r.p(t,a):(r.d(1),r=o(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){t&&h(e),r.d(t)}}}function bt(n){let e,s,o=ne(n[0]),r=[];for(let t=0;t<o.length;t+=1)r[t]=be(ge(n,o,t));return{c(){e=N("p");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=S(t,"P",{class:!0});var a=M(e);for(let l=0;l<r.length;l+=1)r[l].l(a);a.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg"),J(()=>n[5].call(e)),x(e,"transform",n[2]),x(e,"font-size",n[3])},m(t,a){E(t,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);s=Be(e,n[5].bind(e))},p(t,[a]){if(a&1){o=ne(t[0]);let l;for(l=0;l<o.length;l+=1){const i=ge(t,o,l);r[l]?r[l].p(i,a):(r[l]=be(i),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}a&4&&x(e,"transform",t[2]),a&8&&x(e,"font-size",t[3])},i:K,o:K,d(t){t&&h(e),Se(r,t),s()}}}function vt(n,e,s){let o,{data:r}=e,{title:t}=e,a=1,l="",i=10;function f(){return t.length>20?1.5:t.length>15?2:t.length>10?2.5:3.5}De(()=>{const u=document.querySelector("mark");document.querySelector(".colon");const{left:m,width:g}=u.getBoundingClientRect(),p=m+g/2,_=Math.round(p-o)*-1;s(2,l=`translate(${_}px, 0)`),s(3,i=`${f()}vw`)});function d(){a=this.clientWidth,s(1,a)}return n.$$set=u=>{"data"in u&&s(0,r=u.data),"title"in u&&s(4,t=u.title)},n.$$.update=()=>{n.$$.dirty&2&&(o=a/2)},[r,a,l,i,t,d]}class wt extends X{constructor(e){super(),Y(this,e,vt,bt,G,{data:0,title:4})}}function ve(n){return Object.prototype.toString.call(n)==="[object Date]"}function ce(n,e){if(n===e||n!==n)return()=>n;const s=typeof n;if(s!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const o=e.map((r,t)=>ce(n[t],r));return r=>o.map(t=>t(r))}if(s==="object"){if(!n||!e)throw new Error("Object cannot be null");if(ve(n)&&ve(e)){n=n.getTime(),e=e.getTime();const t=e-n;return a=>new Date(n+a*t)}const o=Object.keys(e),r={};return o.forEach(t=>{r[t]=ce(n[t],e[t])}),t=>{const a={};return o.forEach(l=>{a[l]=r[l](t)}),a}}if(s==="number"){const o=e-n;return r=>n+r*o}throw new Error(`Cannot interpolate ${s} values`)}function Et(n,e={}){const s=lt(n);let o,r=n;function t(a,l){if(n==null)return s.set(n=a),Promise.resolve();r=a;let i=o,f=!1,{delay:d=0,duration:u=400,easing:m=He,interpolate:g=ce}=Q(Q({},e),l);if(u===0)return i&&(i.abort(),i=null),s.set(n=r),Promise.resolve();const p=Je()+d;let _;return o=Qe(C=>{if(C<p)return!0;f||(_=g(n,a),typeof u=="function"&&(u=u(n,a)),f=!0),i&&(i.abort(),i=null);const A=C-p;return A>u?(s.set(n=a),!1):(s.set(n=_(m(A/u))),!0)}),o.promise}return{set:t,update:(a,l)=>t(a(r,n),l),subscribe:s.subscribe}}const{isNaN:ie}=at;function Nt(n){let e,s,o=!1,r,t=!0,a,l;function i(){cancelAnimationFrame(r),e.paused||(r=Ze(i),o=!0),n[16].call(e)}return{c(){e=N("audio"),this.h()},l(f){e=S(f,"AUDIO",{src:!0,preload:!0}),M(e).forEach(h),this.h()},h(){he(e.src,s=n[2])||y(e,"src",s),y(e,"preload",""),e.autoplay=!0,(n[0]===void 0||n[1]===void 0)&&J(i),n[0]===void 0&&J(()=>n[17].call(e)),n[5]===void 0&&J(()=>n[20].call(e))},m(f,d){E(f,e,d),ie(n[4])||(e.volume=n[4]),e.muted=n[7],n[21](e),a||(l=[I(e,"timeupdate",i),I(e,"ended",n[17]),I(e,"volumechange",n[18]),I(e,"play",n[19]),I(e,"pause",n[19]),I(e,"durationchange",n[20])],a=!0)},p(f,[d]){d&4&&!he(e.src,s=f[2])&&y(e,"src",s),!o&&d&2&&!ie(f[1])&&(e.currentTime=f[1]),o=!1,d&16&&!ie(f[4])&&(e.volume=f[4]),d&128&&(e.muted=f[7]),d&64&&t!==(t=f[6])&&e[t?"pause":"play"]()},i:K,o:K,d(f){f&&h(e),n[21](null),a=!1,Ie(l)}}}function St(n,e,s){let o,r,t;te(n,fe,v=>s(15,t=v));let{preview:a}=e,{ready:l}=e,i=new Date,f,d,u,m,g,p,_,C,A=!0;const L=je(),c=Et(0);te(n,c,v=>s(14,r=v));const b=()=>{d&&!A&&(s(1,g=0),d.play(),s(4,m=0),console.log("fade in"),c.set(0),c.set(1,{duration:500}))};function T(v){C=!0,console.log("fade out",v),c.set(0,{duration:500}).then(()=>{C=!1,v&&d.pause()})}function W(){C||_===!1&&o===59&&T(!0)}function re(){if(C||isNaN(p))return;const v=p-g<1;_===!1&&v&&T()}function oe(){a&&s(2,f=`https://p.scdn.co/mp3-preview/${a}?cid=635a94c846854eb29813825c79d704a2`)}function le(){s(7,A=t),_!==!1&&b()}Ue(()=>{setInterval(()=>{s(12,i=new Date)},500),s(9,l=!0)});function k(){u=this.ended,g=this.currentTime,s(0,u),s(1,g)}function P(){u=this.ended,s(0,u)}function D(){m=this.volume,A=this.muted,s(4,m),s(14,r),s(7,A)}function H(){_=this.paused,s(6,_)}function B(){p=this.duration,s(5,p)}function ae(v){ue[v?"unshift":"push"](()=>{d=v,s(3,d)})}return n.$$set=v=>{"preview"in v&&s(10,a=v.preview),"ready"in v&&s(9,l=v.ready)},n.$$.update=()=>{n.$$.dirty&1024&&oe(),n.$$.dirty&32768&&le(),n.$$.dirty&1&&u&&L("ended"),n.$$.dirty&4096&&s(13,o=i.getSeconds()),n.$$.dirty&8192&&W(),n.$$.dirty&2&&re(),n.$$.dirty&16384&&s(4,m=r)},[u,g,f,d,m,p,_,A,c,l,a,b,i,o,r,t,k,P,D,H,B,ae]}class Tt extends X{constructor(e){super(),Y(this,e,St,Nt,G,{preview:10,ready:9,play:11})}get play(){return this.$$.ctx[11]}}const Mt=`
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
  <path fill="#000" d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"/>
  <path fill="#fff" d="M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"/>
</svg>`;function we(n){let e,s,o="Turn Sound On",r,t;return{c(){e=N("p"),s=N("button"),s.textContent=o,this.h()},l(a){e=S(a,"P",{class:!0});var l=M(e);s=S(l,"BUTTON",{"data-svelte-h":!0}),Ke(s)!=="svelte-1umiux3"&&(s.textContent=o),l.forEach(h),this.h()},h(){y(e,"class","enable svelte-18vsvk8")},m(a,l){E(a,e,l),w(e,s),r||(t=I(s,"click",n[15]),r=!0)},p:K,d(a){a&&h(e),r=!1,t()}}}function Ee(n){let e,s,o,r=n[0].id,t,a;s=new wt({props:{data:n[5],title:n[0].name}});let l=Ne(n);return{c(){e=N("div"),j(s.$$.fragment),o=F(),l.c(),t=ee(),this.h()},l(i){e=S(i,"DIV",{class:!0});var f=M(e);U(s.$$.fragment,f),f.forEach(h),o=q(i),l.l(i),t=ee(),this.h()},h(){y(e,"class","clock")},m(i,f){E(i,e,f),R(s,e,null),E(i,o,f),l.m(i,f),E(i,t,f),a=!0},p(i,f){const d={};f&32&&(d.data=i[5]),f&1&&(d.title=i[0].name),s.$set(d),f&1&&G(r,r=i[0].id)?(Me(),z(l,1,1,K),Te(),l=Ne(i),l.c(),O(l,1),l.m(t.parentNode,t)):l.p(i,f)},i(i){a||(O(s.$$.fragment,i),O(l),a=!0)},o(i){z(s.$$.fragment,i),z(l),a=!1},d(i){i&&(h(e),h(o),h(t)),V(s),l.d(i)}}}function Ne(n){let e,s,o,r=n[0].artist+"",t,a,l,i,f,d;return{c(){e=N("p"),s=N("a"),o=Z("By "),t=Z(r),a=F(),l=N("span"),i=new Le(!1),this.h()},l(u){e=S(u,"P",{class:!0});var m=M(e);s=S(m,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,class:!0});var g=M(s);o=$(g,"By "),t=$(g,r),a=q(g),l=S(g,"SPAN",{class:!0});var p=M(l);i=We(p,!1),p.forEach(h),g.forEach(h),m.forEach(h),this.h()},h(){i.a=null,y(l,"class","svelte-18vsvk8"),y(s,"href",f=`https://open.spotify.com/track/${n[0].id}`),y(s,"target","_blank"),y(s,"rel","noreferrer"),y(s,"aria-label","Spotify"),y(s,"class","svelte-18vsvk8"),y(e,"class","artist svelte-18vsvk8")},m(u,m){E(u,e,m),w(e,s),w(s,o),w(s,t),w(s,a),w(s,l),i.m(Mt,l)},p(u,m){m&1&&r!==(r=u[0].artist+"")&&se(t,r),m&1&&f!==(f=`https://open.spotify.com/track/${u[0].id}`)&&y(s,"href",f)},i(u){u&&(d||J(()=>{d=Xe(e,ft,{y:32,duration:500}),d.start()}))},o:K,d(u){u&&h(e)}}}function Ct(n){var L;let e,s,o,r,t,a,l,i,f,d,u,m,g;e=new et({props:{title:n[7],description:n[8],url:n[9],preloadFont:n[6],keywords:n[10]}}),o=new ot({});let p=n[1]&&!n[4]&&we(n),_=n[0]&&Ee(n);function C(c){n[16](c)}let A={preview:(L=n[0])==null?void 0:L.preview};return n[1]!==void 0&&(A.ready=n[1]),f=new Tt({props:A}),ue.push(()=>$e(f,"ready",C)),n[17](f),f.$on("ended",n[18]),m=new gt({props:{text:"a clock where the time appears in a song title"}}),{c(){j(e.$$.fragment),s=F(),j(o.$$.fragment),r=F(),t=N("div"),a=N("section"),p&&p.c(),l=F(),_&&_.c(),i=F(),j(f.$$.fragment),u=F(),j(m.$$.fragment),this.h()},l(c){U(e.$$.fragment,c),s=q(c),U(o.$$.fragment,c),r=q(c),t=S(c,"DIV",{class:!0});var b=M(t);a=S(b,"SECTION",{class:!0});var T=M(a);p&&p.l(T),l=q(T),_&&_.l(T),i=q(T),U(f.$$.fragment,T),T.forEach(h),b.forEach(h),u=q(c),U(m.$$.fragment,c),this.h()},h(){y(a,"class","svelte-18vsvk8"),y(t,"class","container svelte-18vsvk8")},m(c,b){R(e,c,b),E(c,s,b),R(o,c,b),E(c,r,b),E(c,t,b),w(t,a),p&&p.m(a,null),w(a,l),_&&_.m(a,null),w(a,i),R(f,a,null),E(c,u,b),R(m,c,b),g=!0},p(c,[b]){var W;c[1]&&!c[4]?p?p.p(c,b):(p=we(c),p.c(),p.m(a,l)):p&&(p.d(1),p=null),c[0]?_?(_.p(c,b),b&1&&O(_,1)):(_=Ee(c),_.c(),O(_,1),_.m(a,i)):_&&(Me(),z(_,1,1,()=>{_=null}),Te());const T={};b&1&&(T.preview=(W=c[0])==null?void 0:W.preview),!d&&b&2&&(d=!0,T.ready=c[1],Re(()=>d=!1)),f.$set(T)},i(c){g||(O(e.$$.fragment,c),O(o.$$.fragment,c),O(_),O(f.$$.fragment,c),O(m.$$.fragment,c),g=!0)},o(c){z(e.$$.fragment,c),z(o.$$.fragment,c),z(_),z(f.$$.fragment,c),z(m.$$.fragment,c),g=!1},d(c){c&&(h(s),h(r),h(t),h(u)),V(e,c),V(o,c),p&&p.d(),_&&_.d(),n[17](null),V(f),V(m,c)}}}function At(n,e,s){let o,r,t,a;te(n,fe,k=>s(2,t=k)),te(n,xe,k=>s(14,a=k)),tt();let l,i,f,d,u;const m=["https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-regular.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-700.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-900.woff2"],{title:g,description:p,url:_,keywords:C}=me;Ve("copy",me);function A(k){if(!k)return;const P=k.toLowerCase(),D=o,H=P.indexOf(D),B=H+D.length,ae=k.slice(0,H),v=k.slice(H,B),Ce=v.split(":")[0],Ae=v.split(":")[1],Oe=k.slice(B);return[{text:ae},{mark:!0,text:[Ce,":",Ae]},{text:Oe}]}function L(){s(0,i={name:o,artist:"No Track Found",href:""}),audioEl&&(audioEl.pause(),audioEl.currentTime=0)}function c(){const k=l.filter(P=>P.time===o);if(!k.length)L();else{const P=k.filter(B=>B.probably_time==="true").length>1,D=k.filter(B=>P?B.probably_time==="true":!0),H=Math.floor(Math.random()*D.length);i==null||i.id,s(0,i={...D[H]}),f.play()}}function b(){c()}async function T(){const k=await Ye("../assets/tracks.csv");s(12,l=k.map(P=>({...P,popularity:+P.popularity})))}const W=()=>Ge(fe,t=!1,t);function re(k){d=k,s(1,d)}function oe(k){ue[k?"unshift":"push"](()=>{f=k,s(3,f)})}const le=()=>c();return n.$$.update=()=>{n.$$.dirty&16384&&s(13,o=a.time),n.$$.dirty&16384&&a.period,n.$$.dirty&12290&&l&&d&&b(),n.$$.dirty&1&&s(5,r=A(i==null?void 0:i.name)),n.$$.dirty&4&&(t||s(4,u=!0))},T(),[i,d,t,f,u,r,m,g,p,_,C,c,l,o,a,W,re,oe,le]}class Dt extends X{constructor(e){super(),Y(this,e,At,Ct,G,{})}}export{Dt as component};
