import{s as L,f as $,a as w,e as z,g as T,A as F,c as g,j as H,H as K,i as y,I as U,y as N,d as p,o as G,h as B,x as k,M as J,p as Q,z as X,B as Z,l as P,m as R,n as Y}from"../chunks/scheduler.a586b52b.js";import{S as O,i as q,b as E,d as I,m as M,a as h,t as v,c as x,e as S,g as ee}from"../chunks/index.6c3f80a7.js";import{c as te,a as ie}from"../chunks/clock.2e90ed03.js";import{H as se}from"../chunks/Header.9c1853d0.js";import{M as ne,v as oe,c as A}from"../chunks/version.f6ecc6ad.js";import{W as ae}from"../chunks/WIP.2659cbe0.js";function W(s){let e,o,r="Enable Video",c,f;return{c(){e=$("p"),o=$("button"),o.textContent=r,this.h()},l(i){e=T(i,"P",{class:!0});var n=B(e);o=T(n,"BUTTON",{"data-svelte-h":!0}),F(o)!=="svelte-17ja6a2"&&(o.textContent=r),n.forEach(p),this.h()},h(){H(e,"class","svelte-173wwg8")},m(i,n){y(i,e,n),k(e,o),c||(f=J(o,"click",s[3]),c=!0)},p:N,d(i){i&&p(e),c=!1,f()}}}function le(s){let e,o='<div id="player-yt" class="svelte-173wwg8"></div>',r,c,f,i=s[0]&&W(s);return{c(){e=$("div"),e.innerHTML=o,c=w(),i&&i.c(),f=z(),this.h()},l(n){e=T(n,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-34vwxe"&&(e.innerHTML=o),c=g(n),i&&i.l(n),f=z(),this.h()},h(){H(e,"class","player-wrapper svelte-173wwg8"),K(()=>s[8].call(e))},m(n,m){y(n,e,m),s[7](e),r=U(e,s[8].bind(e)),y(n,c,m),i&&i.m(n,m),y(n,f,m)},p(n,[m]){n[0]?i?i.p(n,m):(i=W(n),i.c(),i.m(f.parentNode,f)):i&&(i.d(1),i=null)},i:N,o:N,d(n){n&&(p(e),p(c),p(f)),s[7](null),r(),i&&i.d(n)}}}function re(){const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(s,e):document.body.appendChild(s)}function fe(s){}function ce(s,e,o){let r=null,c=!1,f,i=0,{timestamp:n}=e,{id:m}=e;const l=16/9;function t(){console.log(i);const _=i,D=_/l;r.setSize(_,D)}function a({data:_}){}function u(){o(0,c=!0),console.log({ready:c})}function d(){if(console.log("load",c,m),m)r.loadVideoById({videoId:m,startSeconds:n}),r.playVideo();else return}function b(){r.playVideo()}G(()=>{re(),window.onYouTubeIframeAPIReady=function(){o(6,r=new YT.Player("player-yt",{playerVars:{controls:1,cc_load_policy:0,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1,color:"white"},events:{onReady:u,onStateChange:a,onError:fe}}))}});function C(_){Q[_?"unshift":"push"](()=>{f=_,o(2,f)})}function V(){i=this.clientWidth,o(1,i)}return s.$$set=_=>{"timestamp"in _&&o(4,n=_.timestamp),"id"in _&&o(5,m=_.id)},s.$$.update=()=>{s.$$.dirty&33&&c&&d(),s.$$.dirty&66&&r&&t(),s.$$.dirty&16&&console.log({timestamp:n})},[c,i,f,b,n,m,r,C,V]}class me extends O{constructor(e){super(),q(this,e,ce,le,L,{timestamp:4,id:5})}}function j(s){let e,o,r=s[0].time+"",c,f,i=s[0].period+"",n,m,l,t;return l=new me({props:{id:s[1].vid,timestamp:+s[1].start}}),{c(){e=$("time"),o=$("mark"),c=P(r),f=w(),n=P(i),m=w(),E(l.$$.fragment),this.h()},l(a){e=T(a,"TIME",{class:!0});var u=B(e);o=T(u,"MARK",{});var d=B(o);c=R(d,r),f=g(d),n=R(d,i),d.forEach(p),u.forEach(p),m=g(a),I(l.$$.fragment,a),this.h()},h(){H(e,"class","svelte-1bcbzx8")},m(a,u){y(a,e,u),k(e,o),k(o,c),k(o,f),k(o,n),y(a,m,u),M(l,a,u),t=!0},p(a,u){(!t||u&1)&&r!==(r=a[0].time+"")&&Y(c,r),(!t||u&1)&&i!==(i=a[0].period+"")&&Y(n,i);const d={};u&2&&(d.id=a[1].vid),u&2&&(d.timestamp=+a[1].start),l.$set(d)},i(a){t||(h(l.$$.fragment,a),t=!0)},o(a){v(l.$$.fragment,a),t=!1},d(a){a&&(p(e),p(m)),S(l,a)}}}function ue(s){let e,o,r,c,f,i,n,m;e=new ne({props:{title:s[3],description:s[4],url:s[5],preloadFont:s[2],keywords:s[6]}}),r=new ae({}),f=new se({props:{text:"a clock where the time is said in a YouTube video"}});let l=s[1]&&j(s);return{c(){E(e.$$.fragment),o=w(),E(r.$$.fragment),c=w(),E(f.$$.fragment),i=w(),l&&l.c(),n=z()},l(t){I(e.$$.fragment,t),o=g(t),I(r.$$.fragment,t),c=g(t),I(f.$$.fragment,t),i=g(t),l&&l.l(t),n=z()},m(t,a){M(e,t,a),y(t,o,a),M(r,t,a),y(t,c,a),M(f,t,a),y(t,i,a),l&&l.m(t,a),y(t,n,a),m=!0},p(t,[a]){t[1]?l?(l.p(t,a),a&2&&h(l,1)):(l=j(t),l.c(),h(l,1),l.m(n.parentNode,n)):l&&(ee(),v(l,1,1,()=>{l=null}),x())},i(t){m||(h(e.$$.fragment,t),h(r.$$.fragment,t),h(f.$$.fragment,t),h(l),m=!0)},o(t){v(e.$$.fragment,t),v(r.$$.fragment,t),v(f.$$.fragment,t),v(l),m=!1},d(t){t&&(p(o),p(c),p(i),p(n)),S(e,t),S(r,t),S(f,t),l&&l.d(t)}}}function pe(s,e,o){let r,c;X(s,ie,b=>o(0,c=b)),oe();let f,i;const n=["https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-regular.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-700.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-900.woff2"],{title:m,description:l,url:t,keywords:a}=A;Z("copy",A);function u(){const b=f.filter(V=>V.time===r);o(1,i={...b[0]})}async function d(){const b=await te("../assets/videos.csv");o(7,f=b.map(C=>({...C})))}return s.$$.update=()=>{s.$$.dirty&1&&o(8,r=`${c.time}${c.period}`.toLowerCase()),s.$$.dirty&384&&f&&u()},d(),[c,i,n,m,l,t,a,f,r]}class we extends O{constructor(e){super(),q(this,e,pe,ue,L,{})}}export{we as component};
