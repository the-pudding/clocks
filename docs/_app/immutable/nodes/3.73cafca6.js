import{F as x,s as A,e as T,i as y,y as S,d,G as ge,f as E,g as H,h as C,I as X,C as le,l as ae,m as re,k as Y,x as b,n as ve,J as $e,a as M,c as N,j as L,z as ye,D as we,o as ke,H as be,A as Me}from"../chunks/scheduler.d2971820.js";import{S as oe,i as ie,a as g,g as fe,t as w,c as me,f as Ne,b as D,d as I,m as O,e as q}from"../chunks/index.ca79f6f8.js";import{e as Z,c as V,M as Ee,v as He}from"../chunks/version.4b67e183.js";import{g as Ce,H as De,F as Ie,M as Oe,c as qe,a as Ve}from"../chunks/clock.1668bb09.js";function z(l,t){return l==null||t==null?NaN:t<l?-1:t>l?1:t>=l?0:NaN}function Te(l){return l<.5?4*l*l*l:.5*Math.pow(2*l-2,3)+1}function Se(l){const t=l-1;return t*t*t+1}function Ue(l,{delay:t=0,duration:a=400,easing:e=Se,x:n=0,y:s=0,opacity:r=0}={}){const f=getComputedStyle(l),i=+f.opacity,c=f.transform==="none"?"":f.transform,p=i*(1-r),[u,_]=x(n),[v,m]=x(s);return{delay:t,duration:a,easing:e,css:(o,h)=>`
			transform: ${c} translate(${(1-o)*u}${_}, ${(1-o)*v}${m});
			opacity: ${i-p*h}`}}function ee(l,t,a){const e=l.slice();e[5]=t[a].text,e[6]=t[a].mark,e[7]=t[a].align;const n=e[6]?"mark":"span";e[8]=n;const s=e[7]||"center";e[9]=s;const r=e[8]!=="mark";e[10]=r;const f=e[10]?1e3:0;e[11]=f;const i=e[10]?e[2]?0:500:0;e[12]=i;const c=e[10]?32:0;return e[13]=c,e}function K(l){let t,a=l[5]+"",e,n;return{c(){t=E(l[8]),e=ae(a),this.h()},l(s){t=H(s,(l[8]||"null").toUpperCase(),{class:!0});var r=C(t);e=re(r,a),r.forEach(d),this.h()},h(){X(l[8])(t,{class:"svelte-1nm97wb"}),Y(t,"text-align",l[9])},m(s,r){y(s,t,r),b(t,e)},p(s,r){l=s,r&1&&a!==(a=l[5]+"")&&ve(e,a),r&1&&Y(t,"text-align",l[9])},i(s){s&&(n||$e(()=>{n=Ne(t,Ue,{duration:l[11],delay:l[12],y:l[13],easing:Te}),n.start()}))},o:S,d(s){s&&d(t)}}}function te(l){let t=l[8],a,e=!1,n=l[8]&&K(l);return{c(){n&&n.c(),a=T()},l(s){n&&n.l(s),a=T()},m(s,r){n&&n.m(s,r),y(s,a,r)},p(s,r){s[8]?t?A(t,s[8])?(n.d(1),n=K(s),t=s[8],n.c(),e&&(e=!1,g(n)),n.m(a.parentNode,a)):(e&&(e=!1,g(n)),n.p(s,r)):(n=K(s),t=s[8],n.c(),g(n),n.m(a.parentNode,a)):t&&(e=!0,fe(),w(n,1,1,()=>{n=null,t=s[8],e=!1}),me())},i(s){g(n,s)},o:S,d(s){s&&d(a),n&&n.d(s)}}}function R(l){let t,a=Z(l[0]),e=[];for(let r=0;r<a.length;r+=1)e[r]=te(ee(l,a,r));let n=[{class:"time svelte-1nm97wb"},{href:l[1]},{target:"_blank"},{rel:"noreferrer"}],s={};for(let r=0;r<n.length;r+=1)s=ge(s,n[r]);return{c(){t=E(l[3]);for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=H(r,(l[3]||"null").toUpperCase(),{class:!0,href:!0,target:!0,rel:!0});var f=C(t);for(let i=0;i<e.length;i+=1)e[i].l(f);f.forEach(d),this.h()},h(){X(l[3])(t,s)},m(r,f){y(r,t,f);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(t,null)},p(r,f){if(f&1){a=Z(r[0]);let i;for(i=0;i<a.length;i+=1){const c=ee(r,a,i);e[i]?(e[i].p(c,f),g(e[i],1)):(e[i]=te(c),e[i].c(),g(e[i],1),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=a.length}X(r[3])(t,s=Ce(n,[{class:"time svelte-1nm97wb"},f&2&&{href:r[1]},{target:"_blank"},{rel:"noreferrer"}]))},d(r){r&&d(t),le(e,r)}}}function Fe(l){let t=l[3],a,e=l[3]&&R(l);return{c(){e&&e.c(),a=T()},l(n){e&&e.l(n),a=T()},m(n,s){e&&e.m(n,s),y(n,a,s)},p(n,[s]){n[3]?t?A(t,n[3])?(e.d(1),e=R(n),t=n[3],e.c(),e.m(a.parentNode,a)):e.p(n,s):(e=R(n),t=n[3],e.c(),e.m(a.parentNode,a)):t&&(e.d(1),e=null,t=n[3])},i:S,o:S,d(n){n&&d(a),e&&e.d(n)}}}function Le(l,t,a){let e,{data:n}=t,{href:s}=t,{hour:r}=t;return l.$$set=f=>{"data"in f&&a(0,n=f.data),"href"in f&&a(1,s=f.href),"hour"in f&&a(2,r=f.hour)},l.$$.update=()=>{l.$$.dirty&2&&a(3,e=s?"a":"div")},[n,s,r,e]}class W extends oe{constructor(t){super(),ie(this,t,Le,Fe,A,{data:0,href:1,hour:2})}}function je(l,t,a){const e=l.slice();return e[14]=t[a].type,e[15]=t[a].value,e}function ne(l){let t,a,e,n,s,r,f,i,c,p;return e=new W({props:{data:l[1],href:l[3],hour:!0}}),r=new W({props:{data:l[2],href:l[4]}}),c=new W({props:{data:[{text:""},{mark:!0,text:l[0].period},{text:""}]}}),{c(){t=E("div"),a=E("div"),D(e.$$.fragment),n=M(),s=E("div"),D(r.$$.fragment),f=M(),i=E("div"),D(c.$$.fragment),this.h()},l(u){t=H(u,"DIV",{class:!0});var _=C(t);a=H(_,"DIV",{class:!0});var v=C(a);I(e.$$.fragment,v),v.forEach(d),n=N(_),s=H(_,"DIV",{class:!0});var m=C(s);I(r.$$.fragment,m),m.forEach(d),f=N(_),i=H(_,"DIV",{class:!0,style:!0});var o=C(i);I(c.$$.fragment,o),o.forEach(d),_.forEach(d),this.h()},h(){L(a,"class","hours"),L(s,"class","minutes"),L(i,"class","period"),Y(i,"--color-mark","var(--color-fg2)"),L(t,"class","clock svelte-1f7f32g")},m(u,_){y(u,t,_),b(t,a),O(e,a,null),b(t,n),b(t,s),O(r,s,null),b(t,f),b(t,i),O(c,i,null),p=!0},p(u,_){const v={};_&2&&(v.data=u[1]),_&8&&(v.href=u[3]),e.$set(v);const m={};_&4&&(m.data=u[2]),_&16&&(m.href=u[4]),r.$set(m);const o={};_&1&&(o.data=[{text:""},{mark:!0,text:u[0].period},{text:""}]),c.$set(o)},i(u){p||(g(e.$$.fragment,u),g(r.$$.fragment,u),g(c.$$.fragment,u),p=!0)},o(u){w(e.$$.fragment,u),w(r.$$.fragment,u),w(c.$$.fragment,u),p=!1},d(u){u&&d(t),q(e),q(r),q(c)}}}function Pe(l){let t,a,e;return{c(){t=E("p"),a=new be(!1),e=M(),this.h()},l(n){t=H(n,"P",{});var s=C(t);a=Me(s,!1),e=N(s),s.forEach(d),this.h()},h(){a.a=e},m(n,s){y(n,t,s),a.m(l[15],t),b(t,e)},p:S,d(n){n&&d(t)}}}function ze(l){let t,a=Z(V.newsMethod),e=[];for(let n=0;n<a.length;n+=1)e[n]=Pe(je(l,a,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=T()},l(n){for(let s=0;s<e.length;s+=1)e[s].l(n);t=T()},m(n,s){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(n,s);y(n,t,s)},p:S,d(n){n&&d(t),le(e,n)}}}function Ae(l){let t,a,e,n,s,r=V.newsTitle+"",f,i,c,p,u,_,v;t=new Ee({props:{title:l[6],description:l[7],url:l[5],keywords:l[8]}}),e=new De({});let m=l[1]&&l[2]&&ne(l);return p=new Ie({props:{text:V.newsTitle,warning:!1,tease:"check out the song clock",teaseLink:"../songs"}}),_=new Oe({props:{$$slots:{default:[ze]},$$scope:{ctx:l}}}),{c(){D(t.$$.fragment),a=M(),D(e.$$.fragment),n=M(),s=E("h1"),f=ae(r),i=M(),m&&m.c(),c=M(),D(p.$$.fragment),u=M(),D(_.$$.fragment),this.h()},l(o){I(t.$$.fragment,o),a=N(o),I(e.$$.fragment,o),n=N(o),s=H(o,"H1",{class:!0});var h=C(s);f=re(h,r),h.forEach(d),i=N(o),m&&m.l(o),c=N(o),I(p.$$.fragment,o),u=N(o),I(_.$$.fragment,o),this.h()},h(){L(s,"class","sr-only")},m(o,h){O(t,o,h),y(o,a,h),O(e,o,h),y(o,n,h),y(o,s,h),b(s,f),y(o,i,h),m&&m.m(o,h),y(o,c,h),O(p,o,h),y(o,u,h),O(_,o,h),v=!0},p(o,[h]){o[1]&&o[2]?m?(m.p(o,h),h&6&&g(m,1)):(m=ne(o),m.c(),g(m,1),m.m(c.parentNode,c)):m&&(fe(),w(m,1,1,()=>{m=null}),me());const k={};h&262144&&(k.$$scope={dirty:h,ctx:o}),_.$set(k)},i(o){v||(g(t.$$.fragment,o),g(e.$$.fragment,o),g(m),g(p.$$.fragment,o),g(_.$$.fragment,o),v=!0)},o(o){w(t.$$.fragment,o),w(e.$$.fragment,o),w(m),w(p.$$.fragment,o),w(_.$$.fragment,o),v=!1},d(o){o&&(d(a),d(n),d(s),d(i),d(c),d(u)),q(t,o),q(e,o),m&&m.d(o),q(p,o),q(_,o)}}}function se({str:l,q:t,number:a}){const e=l.toLowerCase(),n=t.toLowerCase(),s=e.indexOf(n),r=s+t.length,f=l.slice(0,s),i=a,c=l.slice(r);return[{align:"right",text:f},{mark:!0,text:i},{align:"left",text:c}]}function Ge(l,t,a){let e,n,s;ye(l,Ve,k=>a(0,s=k)),He();let r,f,i,c,p;const{url:u}=V,{title:_,description:v,keywords:m,path:o}=V.newsMeta;we("copy",V);function h(k,U){const j=+k,P=+U,G=r.filter($=>$.number===j),J=r.filter($=>$.number===P);G.sort(($,F)=>z($.isolated,F.isolated)||z($.published,F.published)),J.sort(($,F)=>z($.isolated,F.isolated)||z($.published,F.published));const ue=G.filter($=>$.isolated).length,ce=J.filter($=>$.isolated).length,_e=Math.floor(Math.random()*ue),he=Math.floor(Math.random()*ce),Q=G[_e]||{title:"",q:""},B=J[he]||{title:"",q:""},de=j<10?`0${j}`:j,pe=P<10?`0${P}`:P;a(1,f=se({str:Q.title,q:Q.q,number:de})),a(2,i=se({str:B.title,q:B.q,number:pe})),a(3,c=Q.url),a(4,p=B.url)}return ke(async()=>{const k=await qe(`https://pudding.cool/projects/clock-data/latest.csv?version=${Date.now()}`);a(9,r=k.map(U=>({...U,isolated:U.isolated==="true",number:+U.number})))}),l.$$.update=()=>{l.$$.dirty&1&&a(11,e=s==null?void 0:s.time.split(":")[0]),l.$$.dirty&1&&a(10,n=s==null?void 0:s.time.split(":")[1]),l.$$.dirty&3584&&r&&h(e,n)},[s,f,i,c,p,u,_,v,m,r,n,e]}class Re extends oe{constructor(t){super(),ie(this,t,Ge,Ae,A,{})}}export{Re as component};
