import{E as de,s as W,F as J,G as _e,r as ze,u as Pe,v as Fe,w as qe,f as N,l as Q,a as q,g as S,h as M,m as Z,d as h,c as B,j as y,i as E,x as w,n as re,H as G,k as x,I as Be,y as R,C as Se,b as De,e as ee,J as pe,K as He,L as he,M as D,N as Ie,z as te,O as je,o as Ue,p as ue,P as Re,B as Ve,A as Ke,Q as Le,R as We,S as Ge}from"../chunks/scheduler.a586b52b.js";import{S as $,i as X,b as H,d as I,m as j,a as O,t as z,e as U,n as Je,l as Qe,r as Ze,f as $e,c as Te,g as Me,h as Xe}from"../chunks/index.6c3f80a7.js";import{c as Ye,a as xe}from"../chunks/clock.2e90ed03.js";import{e as ne,M as et,v as tt,c as me}from"../chunks/version.90539145.js";import{I as nt,g as rt,a as st,i as fe,H as ot}from"../chunks/Header.6aab4fc3.js";import{w as lt}from"../chunks/index.1b5b8c3d.js";const at=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function it(n){const e=n-1;return e*e*e+1}function ft(n,{delay:e=0,duration:r=400,easing:o=it,x:s=0,y:t=0,opacity:a=0}={}){const l=getComputedStyle(n),i=+l.opacity,f=l.transform==="none"?"":l.transform,d=i*(1-a),[u,m]=de(s),[g,p]=de(t);return{delay:e,duration:r,easing:o,css:(_,C)=>`
			transform: ${f} translate(${(1-_)*u}${m}, ${(1-_)*g}${p});
			opacity: ${i-d*C}`}}function ct(n){let e;const r=n[2].default,o=ze(r,n,n[3],null);return{c(){o&&o.c()},l(s){o&&o.l(s)},m(s,t){o&&o.m(s,t),e=!0},p(s,t){o&&o.p&&(!e||t&8)&&Pe(o,r,s,s[3],e?qe(r,s[3],t,null):Fe(s[3]),null)},i(s){e||(O(o,s),e=!0)},o(s){z(o,s),e=!1},d(s){o&&o.d(s)}}}function ut(n){let e,r;const o=[{name:"help-circle"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[ct]},$$scope:{ctx:n}};for(let t=0;t<o.length;t+=1)s=J(s,o[t]);return e=new nt({props:s}),{c(){H(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,a){j(e,t,a),r=!0},p(t,[a]){const l=a&3?rt(o,[o[0],a&2&&st(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(l.$$scope={dirty:a,ctx:t}),e.$set(l)},i(t){r||(O(e.$$.fragment,t),r=!0)},o(t){z(e.$$.fragment,t),r=!1},d(t){U(e,t)}}}function dt(n,e,r){let{$$slots:o={},$$scope:s}=e;const t=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];return n.$$set=a=>{r(1,e=J(J({},e),_e(a))),"$$scope"in a&&r(3,s=a.$$scope)},e=_e(e),[t,e,o,s]}class _t extends ${constructor(e){super(),X(this,e,dt,ut,W,{})}}const pt=_t;function ht(n){let e,r,o,s,t,a,l;return a=new pt({props:{size:"28"}}),{c(){e=N("footer"),r=N("h1"),o=Q(n[0]),s=q(),t=N("button"),H(a.$$.fragment),this.h()},l(i){e=S(i,"FOOTER",{class:!0});var f=M(e);r=S(f,"H1",{class:!0});var d=M(r);o=Z(d,n[0]),d.forEach(h),s=B(f),t=S(f,"BUTTON",{class:!0,"aria-label":!0});var u=M(t);I(a.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){y(r,"class","svelte-2pd0x1"),y(t,"class","icon svelte-2pd0x1"),y(t,"aria-label","about"),y(e,"class","svelte-2pd0x1")},m(i,f){E(i,e,f),w(e,r),w(r,o),w(e,s),w(e,t),j(a,t,null),l=!0},p(i,[f]){(!l||f&1)&&re(o,i[0])},i(i){l||(O(a.$$.fragment,i),l=!0)},o(i){z(a.$$.fragment,i),l=!1},d(i){i&&h(e),U(a)}}}function mt(n,e,r){let{text:o}=e;return n.$$set=s=>{"text"in s&&r(0,o=s.text)},[o]}class gt extends ${constructor(e){super(),X(this,e,mt,ht,W,{text:0})}}function ge(n,e,r){const o=n.slice();return o[8]=e[r].text,o[9]=e[r].mark,o}function ye(n,e,r){const o=n.slice();o[12]=e[r];const s=o[12]===":";return o[13]=s,o}function yt(n){let e,r=n[8]+"",o;return{c(){e=N("span"),o=Q(r),this.h()},l(s){e=S(s,"SPAN",{class:!0});var t=M(e);o=Z(t,r),t.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg")},m(s,t){E(s,e,t),w(e,o)},p(s,t){t&1&&r!==(r=s[8]+"")&&re(o,r)},d(s){s&&h(e)}}}function kt(n){let e,r,o=ne(n[8]),s=[];for(let t=0;t<o.length;t+=1)s[t]=ke(ye(n,o,t));return{c(){e=N("mark");for(let t=0;t<s.length;t+=1)s[t].c();r=q(),this.h()},l(t){e=S(t,"MARK",{class:!0});var a=M(e);for(let l=0;l<s.length;l+=1)s[l].l(a);r=B(a),a.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg")},m(t,a){E(t,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);w(e,r)},p(t,a){if(a&1){o=ne(t[8]);let l;for(l=0;l<o.length;l+=1){const i=ye(t,o,l);s[l]?s[l].p(i,a):(s[l]=ke(i),s[l].c(),s[l].m(e,r))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}},d(t){t&&h(e),Se(s,t)}}}function ke(n){let e,r=n[12]+"",o;return{c(){e=N("span"),o=Q(r),this.h()},l(s){e=S(s,"SPAN",{class:!0});var t=M(e);o=Z(t,r),t.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg"),pe(e,"colon",n[13])},m(s,t){E(s,e,t),w(e,o)},p(s,t){t&1&&r!==(r=s[12]+"")&&re(o,r),t&1&&pe(e,"colon",s[13])},d(s){s&&h(e)}}}function be(n){let e;function r(t,a){return t[9]?kt:yt}let o=r(n),s=o(n);return{c(){s.c(),e=ee()},l(t){s.l(t),e=ee()},m(t,a){s.m(t,a),E(t,e,a)},p(t,a){o===(o=r(t))&&s?s.p(t,a):(s.d(1),s=o(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){t&&h(e),s.d(t)}}}function bt(n){let e,r,o=ne(n[0]),s=[];for(let t=0;t<o.length;t+=1)s[t]=be(ge(n,o,t));return{c(){e=N("p");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=S(t,"P",{class:!0});var a=M(e);for(let l=0;l<s.length;l+=1)s[l].l(a);a.forEach(h),this.h()},h(){y(e,"class","svelte-1ff79qg"),G(()=>n[5].call(e)),x(e,"transform",n[2]),x(e,"font-size",n[3])},m(t,a){E(t,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);r=Be(e,n[5].bind(e))},p(t,[a]){if(a&1){o=ne(t[0]);let l;for(l=0;l<o.length;l+=1){const i=ge(t,o,l);s[l]?s[l].p(i,a):(s[l]=be(i),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}a&4&&x(e,"transform",t[2]),a&8&&x(e,"font-size",t[3])},i:R,o:R,d(t){t&&h(e),Se(s,t),r()}}}function vt(n,e,r){let o,{data:s}=e,{title:t}=e,a=1,l="",i=10;function f(){return t.length>20?1.5:t.length>15?2:t.length>10?2.5:3.5}De(()=>{const u=document.querySelector("mark");document.querySelector(".colon");const{left:m,width:g}=u.getBoundingClientRect(),p=m+g/2,_=Math.round(p-o)*-1;r(2,l=`translate(${_}px, 0)`),r(3,i=`${f()}vw`)});function d(){a=this.clientWidth,r(1,a)}return n.$$set=u=>{"data"in u&&r(0,s=u.data),"title"in u&&r(4,t=u.title)},n.$$.update=()=>{n.$$.dirty&2&&(o=a/2)},[s,a,l,i,t,d]}class wt extends ${constructor(e){super(),X(this,e,vt,bt,W,{data:0,title:4})}}function ve(n){return Object.prototype.toString.call(n)==="[object Date]"}function ce(n,e){if(n===e||n!==n)return()=>n;const r=typeof n;if(r!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const o=e.map((s,t)=>ce(n[t],s));return s=>o.map(t=>t(s))}if(r==="object"){if(!n||!e)throw new Error("Object cannot be null");if(ve(n)&&ve(e)){n=n.getTime(),e=e.getTime();const t=e-n;return a=>new Date(n+a*t)}const o=Object.keys(e),s={};return o.forEach(t=>{s[t]=ce(n[t],e[t])}),t=>{const a={};return o.forEach(l=>{a[l]=s[l](t)}),a}}if(r==="number"){const o=e-n;return s=>n+s*o}throw new Error(`Cannot interpolate ${r} values`)}function Et(n,e={}){const r=lt(n);let o,s=n;function t(a,l){if(n==null)return r.set(n=a),Promise.resolve();s=a;let i=o,f=!1,{delay:d=0,duration:u=400,easing:m=He,interpolate:g=ce}=J(J({},e),l);if(u===0)return i&&(i.abort(),i=null),r.set(n=s),Promise.resolve();const p=Je()+d;let _;return o=Qe(C=>{if(C<p)return!0;f||(_=g(n,a),typeof u=="function"&&(u=u(n,a)),f=!0),i&&(i.abort(),i=null);const A=C-p;return A>u?(r.set(n=a),!1):(r.set(n=_(m(A/u))),!0)}),o.promise}return{set:t,update:(a,l)=>t(a(s,n),l),subscribe:r.subscribe}}const{isNaN:ie}=at;function Nt(n){let e,r,o=!1,s,t=!0,a,l;function i(){cancelAnimationFrame(s),e.paused||(s=Ze(i),o=!0),n[16].call(e)}return{c(){e=N("audio"),this.h()},l(f){e=S(f,"AUDIO",{src:!0,preload:!0}),M(e).forEach(h),this.h()},h(){he(e.src,r=n[2])||y(e,"src",r),y(e,"preload",""),e.autoplay=!0,(n[0]===void 0||n[1]===void 0)&&G(i),n[0]===void 0&&G(()=>n[17].call(e)),n[5]===void 0&&G(()=>n[20].call(e))},m(f,d){E(f,e,d),ie(n[4])||(e.volume=n[4]),e.muted=n[7],n[21](e),a||(l=[D(e,"timeupdate",i),D(e,"ended",n[17]),D(e,"volumechange",n[18]),D(e,"play",n[19]),D(e,"pause",n[19]),D(e,"durationchange",n[20])],a=!0)},p(f,[d]){d&4&&!he(e.src,r=f[2])&&y(e,"src",r),!o&&d&2&&!ie(f[1])&&(e.currentTime=f[1]),o=!1,d&16&&!ie(f[4])&&(e.volume=f[4]),d&128&&(e.muted=f[7]),d&64&&t!==(t=f[6])&&e[t?"pause":"play"]()},i:R,o:R,d(f){f&&h(e),n[21](null),a=!1,Ie(l)}}}function St(n,e,r){let o,s,t;te(n,fe,v=>r(15,t=v));let{preview:a}=e,{ready:l}=e,i=new Date,f,d,u,m,g,p,_,C,A=!0;const V=je(),c=Et(0);te(n,c,v=>r(14,s=v));const b=()=>{d&&!A&&(r(1,g=0),d.play(),r(4,m=0),console.log("fade in"),c.set(0),c.set(1,{duration:500}))};function T(v){C=!0,console.log("fade out",v),c.set(0,{duration:500}).then(()=>{C=!1,v&&d.pause()})}function K(){C||_===!1&&o===59&&T(!0)}function se(){if(C||isNaN(p))return;const v=p-g<1;_===!1&&v&&T()}function oe(){a&&r(2,f=`https://p.scdn.co/mp3-preview/${a}?cid=635a94c846854eb29813825c79d704a2`)}function le(){r(7,A=t),_!==!1&&b()}Ue(()=>{setInterval(()=>{r(12,i=new Date)},500),r(9,l=!0)});function k(){u=this.ended,g=this.currentTime,r(0,u),r(1,g)}function P(){u=this.ended,r(0,u)}function L(){m=this.volume,A=this.muted,r(4,m),r(14,s),r(7,A)}function F(){_=this.paused,r(6,_)}function Y(){p=this.duration,r(5,p)}function ae(v){ue[v?"unshift":"push"](()=>{d=v,r(3,d)})}return n.$$set=v=>{"preview"in v&&r(10,a=v.preview),"ready"in v&&r(9,l=v.ready)},n.$$.update=()=>{n.$$.dirty&1024&&oe(),n.$$.dirty&32768&&le(),n.$$.dirty&1&&u&&V("ended"),n.$$.dirty&4096&&r(13,o=i.getSeconds()),n.$$.dirty&8192&&K(),n.$$.dirty&2&&se(),n.$$.dirty&16384&&r(4,m=s)},[u,g,f,d,m,p,_,A,c,l,a,b,i,o,s,t,k,P,L,F,Y,ae]}class Tt extends ${constructor(e){super(),X(this,e,St,Nt,W,{preview:10,ready:9,play:11})}get play(){return this.$$.ctx[11]}}const Mt=`
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
  <path fill="#000" d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"/>
  <path fill="#fff" d="M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"/>
</svg>`;function we(n){let e,r,o="Turn Sound On",s,t;return{c(){e=N("p"),r=N("button"),r.textContent=o,this.h()},l(a){e=S(a,"P",{class:!0});var l=M(e);r=S(l,"BUTTON",{"data-svelte-h":!0}),Ke(r)!=="svelte-1umiux3"&&(r.textContent=o),l.forEach(h),this.h()},h(){y(e,"class","enable svelte-18vsvk8")},m(a,l){E(a,e,l),w(e,r),s||(t=D(r,"click",n[15]),s=!0)},p:R,d(a){a&&h(e),s=!1,t()}}}function Ee(n){let e,r,o,s=n[0].id,t,a;r=new wt({props:{data:n[5],title:n[0].name}});let l=Ne(n);return{c(){e=N("div"),H(r.$$.fragment),o=q(),l.c(),t=ee(),this.h()},l(i){e=S(i,"DIV",{class:!0});var f=M(e);I(r.$$.fragment,f),f.forEach(h),o=B(i),l.l(i),t=ee(),this.h()},h(){y(e,"class","clock")},m(i,f){E(i,e,f),j(r,e,null),E(i,o,f),l.m(i,f),E(i,t,f),a=!0},p(i,f){const d={};f&32&&(d.data=i[5]),f&1&&(d.title=i[0].name),r.$set(d),f&1&&W(s,s=i[0].id)?(Me(),z(l,1,1,R),Te(),l=Ne(i),l.c(),O(l,1),l.m(t.parentNode,t)):l.p(i,f)},i(i){a||(O(r.$$.fragment,i),O(l),a=!0)},o(i){z(r.$$.fragment,i),z(l),a=!1},d(i){i&&(h(e),h(o),h(t)),U(r),l.d(i)}}}function Ne(n){let e,r,o,s=n[0].artist+"",t,a,l,i,f,d;return{c(){e=N("p"),r=N("a"),o=Q("By "),t=Q(s),a=q(),l=N("span"),i=new Le(!1),this.h()},l(u){e=S(u,"P",{class:!0});var m=M(e);r=S(m,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,class:!0});var g=M(r);o=Z(g,"By "),t=Z(g,s),a=B(g),l=S(g,"SPAN",{class:!0});var p=M(l);i=We(p,!1),p.forEach(h),g.forEach(h),m.forEach(h),this.h()},h(){i.a=null,y(l,"class","svelte-18vsvk8"),y(r,"href",f=`https://open.spotify.com/track/${n[0].id}`),y(r,"target","_blank"),y(r,"rel","noreferrer"),y(r,"aria-label","Spotify"),y(r,"class","svelte-18vsvk8"),y(e,"class","artist svelte-18vsvk8")},m(u,m){E(u,e,m),w(e,r),w(r,o),w(r,t),w(r,a),w(r,l),i.m(Mt,l)},p(u,m){m&1&&s!==(s=u[0].artist+"")&&re(t,s),m&1&&f!==(f=`https://open.spotify.com/track/${u[0].id}`)&&y(r,"href",f)},i(u){u&&(d||G(()=>{d=Xe(e,ft,{y:32,duration:500}),d.start()}))},o:R,d(u){u&&h(e)}}}function Ct(n){var V;let e,r,o,s,t,a,l,i,f,d,u,m,g;e=new et({props:{title:n[7],description:n[8],url:n[9],preloadFont:n[6],keywords:n[10]}}),o=new ot({});let p=n[1]&&!n[4]&&we(n),_=n[0]&&Ee(n);function C(c){n[16](c)}let A={preview:(V=n[0])==null?void 0:V.preview};return n[1]!==void 0&&(A.ready=n[1]),f=new Tt({props:A}),ue.push(()=>$e(f,"ready",C)),n[17](f),f.$on("ended",n[18]),m=new gt({props:{text:"a clock where the time appears in a song title"}}),{c(){H(e.$$.fragment),r=q(),H(o.$$.fragment),s=q(),t=N("div"),a=N("section"),p&&p.c(),l=q(),_&&_.c(),i=q(),H(f.$$.fragment),u=q(),H(m.$$.fragment),this.h()},l(c){I(e.$$.fragment,c),r=B(c),I(o.$$.fragment,c),s=B(c),t=S(c,"DIV",{class:!0});var b=M(t);a=S(b,"SECTION",{class:!0});var T=M(a);p&&p.l(T),l=B(T),_&&_.l(T),i=B(T),I(f.$$.fragment,T),T.forEach(h),b.forEach(h),u=B(c),I(m.$$.fragment,c),this.h()},h(){y(a,"class","svelte-18vsvk8"),y(t,"class","container svelte-18vsvk8")},m(c,b){j(e,c,b),E(c,r,b),j(o,c,b),E(c,s,b),E(c,t,b),w(t,a),p&&p.m(a,null),w(a,l),_&&_.m(a,null),w(a,i),j(f,a,null),E(c,u,b),j(m,c,b),g=!0},p(c,[b]){var K;c[1]&&!c[4]?p?p.p(c,b):(p=we(c),p.c(),p.m(a,l)):p&&(p.d(1),p=null),c[0]?_?(_.p(c,b),b&1&&O(_,1)):(_=Ee(c),_.c(),O(_,1),_.m(a,i)):_&&(Me(),z(_,1,1,()=>{_=null}),Te());const T={};b&1&&(T.preview=(K=c[0])==null?void 0:K.preview),!d&&b&2&&(d=!0,T.ready=c[1],Re(()=>d=!1)),f.$set(T)},i(c){g||(O(e.$$.fragment,c),O(o.$$.fragment,c),O(_),O(f.$$.fragment,c),O(m.$$.fragment,c),g=!0)},o(c){z(e.$$.fragment,c),z(o.$$.fragment,c),z(_),z(f.$$.fragment,c),z(m.$$.fragment,c),g=!1},d(c){c&&(h(r),h(s),h(t),h(u)),U(e,c),U(o,c),p&&p.d(),_&&_.d(),n[17](null),U(f),U(m,c)}}}function At(n,e,r){let o,s,t,a;te(n,fe,k=>r(2,t=k)),te(n,xe,k=>r(14,a=k)),tt();let l,i,f,d,u;const m=["https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-regular.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-700.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-900.woff2"],{title:g,description:p,url:_,keywords:C}=me;Ve("copy",me);function A(k){if(!k)return;const P=k.toLowerCase(),L=o,F=P.indexOf(L),Y=F+L.length,ae=k.slice(0,F),v=k.slice(F,Y),Ce=v.split(":")[0],Ae=v.split(":")[1],Oe=k.slice(Y);return[{text:ae},{mark:!0,text:[Ce,":",Ae]},{text:Oe}]}function V(){r(0,i={name:o,artist:"No Track Found",href:""}),audioEl&&(audioEl.pause(),audioEl.currentTime=0)}function c(){const k=l.filter(P=>P.time===o);if(!k.length)V();else{k.filter(F=>F.probably_time==="true").length>1;const P=k.filter(F=>hasProbable?F.probably_time==="true":!0),L=Math.floor(Math.random()*P.length);i==null||i.id,r(0,i={...P[L]}),f.play()}}function b(){c()}async function T(){const k=await Ye("../assets/tracks.csv");r(12,l=k.map(P=>({...P,popularity:+P.popularity})))}const K=()=>Ge(fe,t=!1,t);function se(k){d=k,r(1,d)}function oe(k){ue[k?"unshift":"push"](()=>{f=k,r(3,f)})}const le=()=>c();return n.$$.update=()=>{n.$$.dirty&16384&&r(13,o=a.time),n.$$.dirty&16384&&a.period,n.$$.dirty&12290&&l&&d&&b(),n.$$.dirty&1&&r(5,s=A(i==null?void 0:i.name)),n.$$.dirty&4&&(t||r(4,u=!0))},T(),[i,d,t,f,u,s,m,g,p,_,C,c,l,o,a,K,se,oe,le]}class Dt extends ${constructor(e){super(),X(this,e,At,Ct,W,{})}}export{Dt as component};
