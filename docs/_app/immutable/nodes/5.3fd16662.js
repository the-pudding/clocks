import{s as H,f as g,a as v,e as E,g as k,B,c as b,j as P,K,i as _,O as U,v as S,d as m,o as G,h as O,u as T,L as J,p as Q,A as X,C as Z,l as Y,m as L,n as R}from"../chunks/scheduler.4c2085d6.js";import{S as F,i as q,b as V,d as z,m as M,a as h,t as w,c as x,e as N,g as ee}from"../chunks/index.3764b306.js";import{c as te,a as ie}from"../chunks/clock.6996aad5.js";import{M as se,W as ne,v as oe,c as W}from"../chunks/version.0d014b85.js";function j(s){let e,a,r="Enable Video",f,l;return{c(){e=g("p"),a=g("button"),a.textContent=r,this.h()},l(n){e=k(n,"P",{class:!0});var o=O(e);a=k(o,"BUTTON",{"data-svelte-h":!0}),B(a)!=="svelte-17ja6a2"&&(a.textContent=r),o.forEach(m),this.h()},h(){P(e,"class","svelte-173wwg8")},m(n,o){_(n,e,o),T(e,a),f||(l=J(a,"click",s[3]),f=!0)},p:S,d(n){n&&m(e),f=!1,l()}}}function ae(s){let e,a='<div id="player-yt" class="svelte-173wwg8"></div>',r,f,l,n=s[0]&&j(s);return{c(){e=g("div"),e.innerHTML=a,f=v(),n&&n.c(),l=E(),this.h()},l(o){e=k(o,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-34vwxe"&&(e.innerHTML=a),f=b(o),n&&n.l(o),l=E(),this.h()},h(){P(e,"class","player-wrapper svelte-173wwg8"),K(()=>s[8].call(e))},m(o,c){_(o,e,c),s[7](e),r=U(e,s[8].bind(e)),_(o,f,c),n&&n.m(o,c),_(o,l,c)},p(o,[c]){o[0]?n?n.p(o,c):(n=j(o),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i:S,o:S,d(o){o&&(m(e),m(f),m(l)),s[7](null),r(),n&&n.d(o)}}}function le(){const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(s,e):document.body.appendChild(s)}function re(s){}function ce(s,e,a){let r=null,f=!1,l,n=0,{timestamp:o}=e,{id:c}=e;const d=16/9;function i(){console.log(n);const p=n,D=p/d;r.setSize(p,D)}function t({data:p}){}function u(){a(0,f=!0),console.log({ready:f})}function $(){if(console.log("load",f,c),c)r.loadVideoById({videoId:c,startSeconds:o}),r.playVideo();else return}function y(){r.playVideo()}G(()=>{le(),window.onYouTubeIframeAPIReady=function(){a(6,r=new YT.Player("player-yt",{playerVars:{controls:1,cc_load_policy:1,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1,color:"white"},events:{onReady:u,onStateChange:t,onError:re}}))}});function C(p){Q[p?"unshift":"push"](()=>{l=p,a(2,l)})}function I(){n=this.clientWidth,a(1,n)}return s.$$set=p=>{"timestamp"in p&&a(4,o=p.timestamp),"id"in p&&a(5,c=p.id)},s.$$.update=()=>{s.$$.dirty&33&&f&&$(),s.$$.dirty&66&&r&&i(),s.$$.dirty&16&&console.log({timestamp:o})},[f,n,l,y,o,c,r,C,I]}class fe extends F{constructor(e){super(),q(this,e,ce,ae,H,{timestamp:4,id:5})}}function A(s){let e,a=s[0].time+"",r,f,l=s[0].period+"",n,o,c,d;return c=new fe({props:{id:s[1].vid,timestamp:+s[1].start}}),{c(){e=g("time"),r=Y(a),f=v(),n=Y(l),o=v(),V(c.$$.fragment),this.h()},l(i){e=k(i,"TIME",{class:!0});var t=O(e);r=L(t,a),f=b(t),n=L(t,l),t.forEach(m),o=b(i),z(c.$$.fragment,i),this.h()},h(){P(e,"class","svelte-1bcbzx8")},m(i,t){_(i,e,t),T(e,r),T(e,f),T(e,n),_(i,o,t),M(c,i,t),d=!0},p(i,t){(!d||t&1)&&a!==(a=i[0].time+"")&&R(r,a),(!d||t&1)&&l!==(l=i[0].period+"")&&R(n,l);const u={};t&2&&(u.id=i[1].vid),t&2&&(u.timestamp=+i[1].start),c.$set(u)},i(i){d||(h(c.$$.fragment,i),d=!0)},o(i){w(c.$$.fragment,i),d=!1},d(i){i&&(m(e),m(o)),N(c,i)}}}function ue(s){let e,a,r,f,l,n="a clock where the time is said in a YouTube video",o,c,d;e=new se({props:{title:s[3],description:s[4],url:s[5],preloadFont:s[2],keywords:s[6]}}),r=new ne({});let i=s[1]&&A(s);return{c(){V(e.$$.fragment),a=v(),V(r.$$.fragment),f=v(),l=g("h1"),l.textContent=n,o=v(),i&&i.c(),c=E()},l(t){z(e.$$.fragment,t),a=b(t),z(r.$$.fragment,t),f=b(t),l=k(t,"H1",{"data-svelte-h":!0}),B(l)!=="svelte-1epm5en"&&(l.textContent=n),o=b(t),i&&i.l(t),c=E()},m(t,u){M(e,t,u),_(t,a,u),M(r,t,u),_(t,f,u),_(t,l,u),_(t,o,u),i&&i.m(t,u),_(t,c,u),d=!0},p(t,[u]){t[1]?i?(i.p(t,u),u&2&&h(i,1)):(i=A(t),i.c(),h(i,1),i.m(c.parentNode,c)):i&&(ee(),w(i,1,1,()=>{i=null}),x())},i(t){d||(h(e.$$.fragment,t),h(r.$$.fragment,t),h(i),d=!0)},o(t){w(e.$$.fragment,t),w(r.$$.fragment,t),w(i),d=!1},d(t){t&&(m(a),m(f),m(l),m(o),m(c)),N(e,t),N(r,t),i&&i.d(t)}}}function de(s,e,a){let r,f;X(s,ie,y=>a(0,f=y)),oe();let l,n;const o=[],{title:c,description:d,url:i,keywords:t}=W;Z("copy",W);function u(){const y=l.filter(I=>I.time===r);a(1,n={...y[0]})}async function $(){const y=await te("../assets/videos.csv");a(7,l=y.map(C=>({...C})))}return s.$$.update=()=>{s.$$.dirty&1&&a(8,r=`${f.time}${f.period}`.toLowerCase()),s.$$.dirty&384&&l&&u()},$(),[f,n,o,c,d,i,t,l,r]}class he extends F{constructor(e){super(),q(this,e,de,ue,H,{})}}export{he as component};
