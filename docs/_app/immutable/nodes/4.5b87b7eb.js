import{s as j,f as $,g as C,A as B,j as P,i as h,y as w,d as p,a as g,e as M,c as k,L as q,R as x,o as K,h as N,x as T,F as G,p as J,z as Q,B as X,l as A,m as H,n as W}from"../chunks/scheduler.5cc8ee54.js";import{S as L,i as Y,b as I,d as S,m as V,a as v,t as b,c as Z,e as z,g as ee}from"../chunks/index.6691fd06.js";import{H as te,c as se,b as ie}from"../chunks/clock.122c7467.js";import{M as ne,v as oe,c as F}from"../chunks/version.a79da8c8.js";function ae(i){let e,o="ðŸš§ This project is a work in progress. Please do not share the URL. ðŸš§";return{c(){e=$("div"),e.textContent=o,this.h()},l(a){e=C(a,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1huwx5x"&&(e.textContent=o),this.h()},h(){P(e,"class","svelte-svusjd")},m(a,f){h(a,e,f)},p:w,i:w,o:w,d(a){a&&p(e)}}}class le extends L{constructor(e){super(),Y(this,e,null,ae,j,{})}}function D(i){let e,o,a="Enable Video",f,c;return{c(){e=$("p"),o=$("button"),o.textContent=a,this.h()},l(s){e=C(s,"P",{class:!0});var n=N(e);o=C(n,"BUTTON",{"data-svelte-h":!0}),B(o)!=="svelte-17ja6a2"&&(o.textContent=a),n.forEach(p),this.h()},h(){P(e,"class","svelte-173wwg8")},m(s,n){h(s,e,n),T(e,o),f||(c=G(o,"click",i[3]),f=!0)},p:w,d(s){s&&p(e),f=!1,c()}}}function re(i){let e,o='<div id="player-yt" class="svelte-173wwg8"></div>',a,f,c,s=i[0]&&D(i);return{c(){e=$("div"),e.innerHTML=o,f=g(),s&&s.c(),c=M(),this.h()},l(n){e=C(n,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-34vwxe"&&(e.innerHTML=o),f=k(n),s&&s.l(n),c=M(),this.h()},h(){P(e,"class","player-wrapper svelte-173wwg8"),q(()=>i[8].call(e))},m(n,u){h(n,e,u),i[7](e),a=x(e,i[8].bind(e)),h(n,f,u),s&&s.m(n,u),h(n,c,u)},p(n,[u]){n[0]?s?s.p(n,u):(s=D(n),s.c(),s.m(c.parentNode,c)):s&&(s.d(1),s=null)},i:w,o:w,d(n){n&&(p(e),p(f),p(c)),i[7](null),a(),s&&s.d(n)}}}function fe(){const i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(i,e):document.body.appendChild(i)}function ce(i){}function ue(i,e,o){let a=null,f=!1,c,s=0,{timestamp:n}=e,{id:u}=e;const r=16/9;function t(){console.log(s);const _=s,U=_/r;a.setSize(_,U)}function l({data:_}){}function d(){o(0,f=!0),console.log({ready:f})}function m(){if(console.log("load",f,u),u)a.loadVideoById({videoId:u,startSeconds:n}),a.playVideo();else return}function y(){a.playVideo()}K(()=>{fe(),window.onYouTubeIframeAPIReady=function(){o(6,a=new YT.Player("player-yt",{playerVars:{controls:1,cc_load_policy:0,enablejsapi:1,fs:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,playsinline:1,color:"white"},events:{onReady:d,onStateChange:l,onError:ce}}))}});function E(_){J[_?"unshift":"push"](()=>{c=_,o(2,c)})}function R(){s=this.clientWidth,o(1,s)}return i.$$set=_=>{"timestamp"in _&&o(4,n=_.timestamp),"id"in _&&o(5,u=_.id)},i.$$.update=()=>{i.$$.dirty&33&&f&&m(),i.$$.dirty&66&&a&&t(),i.$$.dirty&16&&console.log({timestamp:n})},[f,s,c,y,n,u,a,E,R]}class de extends L{constructor(e){super(),Y(this,e,ue,re,j,{timestamp:4,id:5})}}function O(i){let e,o,a=i[0].time+"",f,c,s=i[0].period+"",n,u,r,t;return r=new de({props:{id:i[1].vid,timestamp:+i[1].start}}),{c(){e=$("time"),o=$("mark"),f=A(a),c=g(),n=A(s),u=g(),I(r.$$.fragment),this.h()},l(l){e=C(l,"TIME",{class:!0});var d=N(e);o=C(d,"MARK",{});var m=N(o);f=H(m,a),c=k(m),n=H(m,s),m.forEach(p),d.forEach(p),u=k(l),S(r.$$.fragment,l),this.h()},h(){P(e,"class","svelte-1bcbzx8")},m(l,d){h(l,e,d),T(e,o),T(o,f),T(o,c),T(o,n),h(l,u,d),V(r,l,d),t=!0},p(l,d){(!t||d&1)&&a!==(a=l[0].time+"")&&W(f,a),(!t||d&1)&&s!==(s=l[0].period+"")&&W(n,s);const m={};d&2&&(m.id=l[1].vid),d&2&&(m.timestamp=+l[1].start),r.$set(m)},i(l){t||(v(r.$$.fragment,l),t=!0)},o(l){b(r.$$.fragment,l),t=!1},d(l){l&&(p(e),p(u)),z(r,l)}}}function pe(i){let e,o,a,f,c,s,n,u;e=new ne({props:{title:i[3],description:i[4],url:i[5],preloadFont:i[2],keywords:i[6]}}),a=new le({}),c=new te({props:{text:"a clock where the time is said in a YouTube video"}});let r=i[1]&&O(i);return{c(){I(e.$$.fragment),o=g(),I(a.$$.fragment),f=g(),I(c.$$.fragment),s=g(),r&&r.c(),n=M()},l(t){S(e.$$.fragment,t),o=k(t),S(a.$$.fragment,t),f=k(t),S(c.$$.fragment,t),s=k(t),r&&r.l(t),n=M()},m(t,l){V(e,t,l),h(t,o,l),V(a,t,l),h(t,f,l),V(c,t,l),h(t,s,l),r&&r.m(t,l),h(t,n,l),u=!0},p(t,[l]){t[1]?r?(r.p(t,l),l&2&&v(r,1)):(r=O(t),r.c(),v(r,1),r.m(n.parentNode,n)):r&&(ee(),b(r,1,1,()=>{r=null}),Z())},i(t){u||(v(e.$$.fragment,t),v(a.$$.fragment,t),v(c.$$.fragment,t),v(r),u=!0)},o(t){b(e.$$.fragment,t),b(a.$$.fragment,t),b(c.$$.fragment,t),b(r),u=!1},d(t){t&&(p(o),p(f),p(s),p(n)),z(e,t),z(a,t),z(c,t),r&&r.d(t)}}}function me(i,e,o){let a,f;Q(i,ie,y=>o(0,f=y)),oe();let c,s;const n=["https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-regular.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-700.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-900.woff2"],{title:u,description:r,url:t,keywords:l}=F;X("copy",F);function d(){const y=c.filter(R=>R.time===a);o(1,s={...y[0]})}async function m(){const y=await se("../assets/videos.csv");o(7,c=y.map(E=>({...E})))}return i.$$.update=()=>{i.$$.dirty&1&&o(8,a=`${f.time}${f.period}`.toLowerCase()),i.$$.dirty&384&&c&&d()},m(),[f,s,n,u,r,t,l,c,a]}class be extends L{constructor(e){super(),Y(this,e,me,pe,j,{})}}export{be as component};
