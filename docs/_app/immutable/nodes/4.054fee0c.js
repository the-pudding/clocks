import{E as fe,s as W,F as J,G as de,r as Pe,u as $e,v as Fe,w as ze,f as N,l as Q,a as F,g as T,h as M,m as Z,d as h,c as z,j as g,i as E,x as w,n as ne,H as G,k as _e,I as Be,y as V,C as Te,b as De,e as x,J as pe,K as He,L as he,M as I,N as Ie,z as ee,O as je,o as Ue,p as ue,P as qe,B as Re,A as Ve,Q as Ke,R as Le,S as We}from"../chunks/scheduler.a586b52b.js";import{S as X,i as Y,b as j,d as U,m as q,a as O,t as P,e as R,n as Ge,l as Je,r as Qe,f as Ze,c as Se,g as Me,h as Xe}from"../chunks/index.6c3f80a7.js";import{c as Ye,a as xe}from"../chunks/clock.4f7fffdd.js";import{e as te,M as et,v as tt,c as me}from"../chunks/version.87990598.js";import{I as nt,g as st,a as rt,i as ie,H as ot}from"../chunks/Header.d715c776.js";import{w as at}from"../chunks/index.1b5b8c3d.js";const lt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function it(n){const e=n-1;return e*e*e+1}function ct(n,{delay:e=0,duration:r=400,easing:o=it,x:s=0,y:t=0,opacity:l=0}={}){const a=getComputedStyle(n),i=+a.opacity,c=a.transform==="none"?"":a.transform,f=i*(1-l),[d,m]=fe(s),[y,p]=fe(t);return{delay:e,duration:r,easing:o,css:(_,C)=>`
			transform: ${c} translate(${(1-_)*d}${m}, ${(1-_)*y}${p});
			opacity: ${i-f*C}`}}function ut(n){let e;const r=n[2].default,o=Pe(r,n,n[3],null);return{c(){o&&o.c()},l(s){o&&o.l(s)},m(s,t){o&&o.m(s,t),e=!0},p(s,t){o&&o.p&&(!e||t&8)&&$e(o,r,s,s[3],e?ze(r,s[3],t,null):Fe(s[3]),null)},i(s){e||(O(o,s),e=!0)},o(s){P(o,s),e=!1},d(s){o&&o.d(s)}}}function ft(n){let e,r;const o=[{name:"help-circle"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[ut]},$$scope:{ctx:n}};for(let t=0;t<o.length;t+=1)s=J(s,o[t]);return e=new nt({props:s}),{c(){j(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,l){q(e,t,l),r=!0},p(t,[l]){const a=l&3?st(o,[o[0],l&2&&rt(t[1]),l&1&&{iconNode:t[0]}]):{};l&8&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(O(e.$$.fragment,t),r=!0)},o(t){P(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function dt(n,e,r){let{$$slots:o={},$$scope:s}=e;const t=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];return n.$$set=l=>{r(1,e=J(J({},e),de(l))),"$$scope"in l&&r(3,s=l.$$scope)},e=de(e),[t,e,o,s]}class _t extends X{constructor(e){super(),Y(this,e,dt,ft,W,{})}}const pt=_t;function ht(n){let e,r,o,s,t,l,a;return l=new pt({props:{size:"28"}}),{c(){e=N("footer"),r=N("h1"),o=Q(n[0]),s=F(),t=N("button"),j(l.$$.fragment),this.h()},l(i){e=T(i,"FOOTER",{class:!0});var c=M(e);r=T(c,"H1",{class:!0});var f=M(r);o=Z(f,n[0]),f.forEach(h),s=z(c),t=T(c,"BUTTON",{class:!0,"aria-label":!0});var d=M(t);U(l.$$.fragment,d),d.forEach(h),c.forEach(h),this.h()},h(){g(r,"class","svelte-2pd0x1"),g(t,"class","icon svelte-2pd0x1"),g(t,"aria-label","about"),g(e,"class","svelte-2pd0x1")},m(i,c){E(i,e,c),w(e,r),w(r,o),w(e,s),w(e,t),q(l,t,null),a=!0},p(i,[c]){(!a||c&1)&&ne(o,i[0])},i(i){a||(O(l.$$.fragment,i),a=!0)},o(i){P(l.$$.fragment,i),a=!1},d(i){i&&h(e),R(l)}}}function mt(n,e,r){let{text:o}=e;return n.$$set=s=>{"text"in s&&r(0,o=s.text)},[o]}class gt extends X{constructor(e){super(),Y(this,e,mt,ht,W,{text:0})}}function ge(n,e,r){const o=n.slice();return o[5]=e[r].text,o[6]=e[r].mark,o}function ye(n,e,r){const o=n.slice();o[9]=e[r];const s=o[9]===":";return o[10]=s,o}function yt(n){let e,r=n[5]+"",o;return{c(){e=N("span"),o=Q(r),this.h()},l(s){e=T(s,"SPAN",{class:!0});var t=M(e);o=Z(t,r),t.forEach(h),this.h()},h(){g(e,"class","svelte-bv40d8")},m(s,t){E(s,e,t),w(e,o)},p(s,t){t&1&&r!==(r=s[5]+"")&&ne(o,r)},d(s){s&&h(e)}}}function bt(n){let e,r,o=te(n[5]),s=[];for(let t=0;t<o.length;t+=1)s[t]=be(ye(n,o,t));return{c(){e=N("mark");for(let t=0;t<s.length;t+=1)s[t].c();r=F(),this.h()},l(t){e=T(t,"MARK",{class:!0});var l=M(e);for(let a=0;a<s.length;a+=1)s[a].l(l);r=z(l),l.forEach(h),this.h()},h(){g(e,"class","svelte-bv40d8")},m(t,l){E(t,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);w(e,r)},p(t,l){if(l&1){o=te(t[5]);let a;for(a=0;a<o.length;a+=1){const i=ye(t,o,a);s[a]?s[a].p(i,l):(s[a]=be(i),s[a].c(),s[a].m(e,r))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}},d(t){t&&h(e),Te(s,t)}}}function be(n){let e,r=n[9]+"",o;return{c(){e=N("span"),o=Q(r),this.h()},l(s){e=T(s,"SPAN",{class:!0});var t=M(e);o=Z(t,r),t.forEach(h),this.h()},h(){g(e,"class","svelte-bv40d8"),pe(e,"colon",n[10])},m(s,t){E(s,e,t),w(e,o)},p(s,t){t&1&&r!==(r=s[9]+"")&&ne(o,r),t&1&&pe(e,"colon",s[10])},d(s){s&&h(e)}}}function ke(n){let e;function r(t,l){return t[6]?bt:yt}let o=r(n),s=o(n);return{c(){s.c(),e=x()},l(t){s.l(t),e=x()},m(t,l){s.m(t,l),E(t,e,l)},p(t,l){o===(o=r(t))&&s?s.p(t,l):(s.d(1),s=o(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){t&&h(e),s.d(t)}}}function kt(n){let e,r,o=te(n[0]),s=[];for(let t=0;t<o.length;t+=1)s[t]=ke(ge(n,o,t));return{c(){e=N("p");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=T(t,"P",{class:!0});var l=M(e);for(let a=0;a<s.length;a+=1)s[a].l(l);l.forEach(h),this.h()},h(){g(e,"class","svelte-bv40d8"),G(()=>n[3].call(e)),_e(e,"transform",n[2])},m(t,l){E(t,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);r=Be(e,n[3].bind(e))},p(t,[l]){if(l&1){o=te(t[0]);let a;for(a=0;a<o.length;a+=1){const i=ge(t,o,a);s[a]?s[a].p(i,l):(s[a]=ke(i),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}l&4&&_e(e,"transform",t[2])},i:V,o:V,d(t){t&&h(e),Te(s,t),r()}}}function vt(n,e,r){let o,{data:s}=e,t=1,l="";De(()=>{const i=document.querySelector("mark");document.querySelector(".colon");const{left:c,width:f}=i.getBoundingClientRect(),d=c+f/2,m=Math.round(d-o);r(2,l=`translate(${m}px, 0)`)});function a(){t=this.clientWidth,r(1,t)}return n.$$set=i=>{"data"in i&&r(0,s=i.data)},n.$$.update=()=>{n.$$.dirty&2&&(o=t/2)},[s,t,l,a]}class wt extends X{constructor(e){super(),Y(this,e,vt,kt,W,{data:0})}}function ve(n){return Object.prototype.toString.call(n)==="[object Date]"}function ce(n,e){if(n===e||n!==n)return()=>n;const r=typeof n;if(r!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const o=e.map((s,t)=>ce(n[t],s));return s=>o.map(t=>t(s))}if(r==="object"){if(!n||!e)throw new Error("Object cannot be null");if(ve(n)&&ve(e)){n=n.getTime(),e=e.getTime();const t=e-n;return l=>new Date(n+l*t)}const o=Object.keys(e),s={};return o.forEach(t=>{s[t]=ce(n[t],e[t])}),t=>{const l={};return o.forEach(a=>{l[a]=s[a](t)}),l}}if(r==="number"){const o=e-n;return s=>n+s*o}throw new Error(`Cannot interpolate ${r} values`)}function Et(n,e={}){const r=at(n);let o,s=n;function t(l,a){if(n==null)return r.set(n=l),Promise.resolve();s=l;let i=o,c=!1,{delay:f=0,duration:d=400,easing:m=He,interpolate:y=ce}=J(J({},e),a);if(d===0)return i&&(i.abort(),i=null),r.set(n=s),Promise.resolve();const p=Ge()+f;let _;return o=Je(C=>{if(C<p)return!0;c||(_=y(n,l),typeof d=="function"&&(d=d(n,l)),c=!0),i&&(i.abort(),i=null);const A=C-p;return A>d?(r.set(n=l),!1):(r.set(n=_(m(A/d))),!0)}),o.promise}return{set:t,update:(l,a)=>t(l(s,n),a),subscribe:r.subscribe}}const{isNaN:le}=lt;function Nt(n){let e,r,o=!1,s,t=!0,l,a;function i(){cancelAnimationFrame(s),e.paused||(s=Qe(i),o=!0),n[16].call(e)}return{c(){e=N("audio"),this.h()},l(c){e=T(c,"AUDIO",{src:!0,preload:!0}),M(e).forEach(h),this.h()},h(){he(e.src,r=n[2])||g(e,"src",r),g(e,"preload",""),e.autoplay=!0,(n[0]===void 0||n[1]===void 0)&&G(i),n[0]===void 0&&G(()=>n[17].call(e)),n[5]===void 0&&G(()=>n[20].call(e))},m(c,f){E(c,e,f),le(n[4])||(e.volume=n[4]),e.muted=n[7],n[21](e),l||(a=[I(e,"timeupdate",i),I(e,"ended",n[17]),I(e,"volumechange",n[18]),I(e,"play",n[19]),I(e,"pause",n[19]),I(e,"durationchange",n[20])],l=!0)},p(c,[f]){f&4&&!he(e.src,r=c[2])&&g(e,"src",r),!o&&f&2&&!le(c[1])&&(e.currentTime=c[1]),o=!1,f&16&&!le(c[4])&&(e.volume=c[4]),f&128&&(e.muted=c[7]),f&64&&t!==(t=c[6])&&e[t?"pause":"play"]()},i:V,o:V,d(c){c&&h(e),n[21](null),l=!1,Ie(a)}}}function Tt(n,e,r){let o,s,t;ee(n,ie,v=>r(15,t=v));let{preview:l}=e,{ready:a}=e,i=new Date,c,f,d,m,y,p,_,C,A=!0;const K=je(),u=Et(0);ee(n,u,v=>r(14,s=v));const k=()=>{f&&!A&&(r(1,y=0),f.play(),r(4,m=0),console.log("fade in"),u.set(0),u.set(1,{duration:500}))};function S(v){C=!0,console.log("fade out",v),u.set(0,{duration:500}).then(()=>{C=!1,v&&f.pause()})}function L(){C||_===!1&&o===59&&S(!0)}function se(){if(C||isNaN(p))return;const v=p-y<1;_===!1&&v&&S()}function re(){l&&r(2,c=`https://p.scdn.co/mp3-preview/${l}?cid=635a94c846854eb29813825c79d704a2`)}function oe(){r(7,A=t),_!==!1&&k()}Ue(()=>{setInterval(()=>{r(12,i=new Date)},500),r(9,a=!0)});function b(){d=this.ended,y=this.currentTime,r(0,d),r(1,y)}function $(){d=this.ended,r(0,d)}function D(){m=this.volume,A=this.muted,r(4,m),r(14,s),r(7,A)}function H(){_=this.paused,r(6,_)}function B(){p=this.duration,r(5,p)}function ae(v){ue[v?"unshift":"push"](()=>{f=v,r(3,f)})}return n.$$set=v=>{"preview"in v&&r(10,l=v.preview),"ready"in v&&r(9,a=v.ready)},n.$$.update=()=>{n.$$.dirty&1024&&re(),n.$$.dirty&32768&&oe(),n.$$.dirty&1&&d&&K("ended"),n.$$.dirty&4096&&r(13,o=i.getSeconds()),n.$$.dirty&8192&&L(),n.$$.dirty&2&&se(),n.$$.dirty&16384&&r(4,m=s)},[d,y,c,f,m,p,_,A,u,a,l,k,i,o,s,t,b,$,D,H,B,ae]}class St extends X{constructor(e){super(),Y(this,e,Tt,Nt,W,{preview:10,ready:9,play:11})}get play(){return this.$$.ctx[11]}}const Mt=`
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
  <path fill="#000" d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"/>
  <path fill="#fff" d="M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"/>
</svg>`;function we(n){let e,r,o="Turn Sound On",s,t;return{c(){e=N("p"),r=N("button"),r.textContent=o,this.h()},l(l){e=T(l,"P",{class:!0});var a=M(e);r=T(a,"BUTTON",{"data-svelte-h":!0}),Ve(r)!=="svelte-1umiux3"&&(r.textContent=o),a.forEach(h),this.h()},h(){g(e,"class","enable svelte-18vsvk8")},m(l,a){E(l,e,a),w(e,r),s||(t=I(r,"click",n[15]),s=!0)},p:V,d(l){l&&h(e),s=!1,t()}}}function Ee(n){let e,r,o,s=n[0].id,t,l;r=new wt({props:{data:n[5]}});let a=Ne(n);return{c(){e=N("div"),j(r.$$.fragment),o=F(),a.c(),t=x(),this.h()},l(i){e=T(i,"DIV",{class:!0});var c=M(e);U(r.$$.fragment,c),c.forEach(h),o=z(i),a.l(i),t=x(),this.h()},h(){g(e,"class","clock")},m(i,c){E(i,e,c),q(r,e,null),E(i,o,c),a.m(i,c),E(i,t,c),l=!0},p(i,c){const f={};c&32&&(f.data=i[5]),r.$set(f),c&1&&W(s,s=i[0].id)?(Me(),P(a,1,1,V),Se(),a=Ne(i),a.c(),O(a,1),a.m(t.parentNode,t)):a.p(i,c)},i(i){l||(O(r.$$.fragment,i),O(a),l=!0)},o(i){P(r.$$.fragment,i),P(a),l=!1},d(i){i&&(h(e),h(o),h(t)),R(r),a.d(i)}}}function Ne(n){let e,r,o,s=n[0].artist+"",t,l,a,i,c,f;return{c(){e=N("p"),r=N("a"),o=Q("By "),t=Q(s),l=F(),a=N("span"),i=new Ke(!1),this.h()},l(d){e=T(d,"P",{class:!0});var m=M(e);r=T(m,"A",{href:!0,target:!0,rel:!0,"aria-label":!0,class:!0});var y=M(r);o=Z(y,"By "),t=Z(y,s),l=z(y),a=T(y,"SPAN",{class:!0});var p=M(a);i=Le(p,!1),p.forEach(h),y.forEach(h),m.forEach(h),this.h()},h(){i.a=null,g(a,"class","svelte-18vsvk8"),g(r,"href",c=`https://open.spotify.com/tracks/${n[0].id}`),g(r,"target","_blank"),g(r,"rel","noreferrer"),g(r,"aria-label","Spotify"),g(r,"class","svelte-18vsvk8"),g(e,"class","artist svelte-18vsvk8")},m(d,m){E(d,e,m),w(e,r),w(r,o),w(r,t),w(r,l),w(r,a),i.m(Mt,a)},p(d,m){m&1&&s!==(s=d[0].artist+"")&&ne(t,s),m&1&&c!==(c=`https://open.spotify.com/tracks/${d[0].id}`)&&g(r,"href",c)},i(d){d&&(f||G(()=>{f=Xe(e,ct,{y:32,duration:500}),f.start()}))},o:V,d(d){d&&h(e)}}}function Ct(n){var K;let e,r,o,s,t,l,a,i,c,f,d,m,y;e=new et({props:{title:n[7],description:n[8],url:n[9],preloadFont:n[6],keywords:n[10]}}),o=new ot({});let p=n[1]&&!n[4]&&we(n),_=n[0]&&Ee(n);function C(u){n[16](u)}let A={preview:(K=n[0])==null?void 0:K.preview};return n[1]!==void 0&&(A.ready=n[1]),c=new St({props:A}),ue.push(()=>Ze(c,"ready",C)),n[17](c),c.$on("ended",n[18]),m=new gt({props:{text:"a clock where the time appears in a song title"}}),{c(){j(e.$$.fragment),r=F(),j(o.$$.fragment),s=F(),t=N("div"),l=N("section"),p&&p.c(),a=F(),_&&_.c(),i=F(),j(c.$$.fragment),d=F(),j(m.$$.fragment),this.h()},l(u){U(e.$$.fragment,u),r=z(u),U(o.$$.fragment,u),s=z(u),t=T(u,"DIV",{class:!0});var k=M(t);l=T(k,"SECTION",{class:!0});var S=M(l);p&&p.l(S),a=z(S),_&&_.l(S),i=z(S),U(c.$$.fragment,S),S.forEach(h),k.forEach(h),d=z(u),U(m.$$.fragment,u),this.h()},h(){g(l,"class","svelte-18vsvk8"),g(t,"class","container svelte-18vsvk8")},m(u,k){q(e,u,k),E(u,r,k),q(o,u,k),E(u,s,k),E(u,t,k),w(t,l),p&&p.m(l,null),w(l,a),_&&_.m(l,null),w(l,i),q(c,l,null),E(u,d,k),q(m,u,k),y=!0},p(u,[k]){var L;u[1]&&!u[4]?p?p.p(u,k):(p=we(u),p.c(),p.m(l,a)):p&&(p.d(1),p=null),u[0]?_?(_.p(u,k),k&1&&O(_,1)):(_=Ee(u),_.c(),O(_,1),_.m(l,i)):_&&(Me(),P(_,1,1,()=>{_=null}),Se());const S={};k&1&&(S.preview=(L=u[0])==null?void 0:L.preview),!f&&k&2&&(f=!0,S.ready=u[1],qe(()=>f=!1)),c.$set(S)},i(u){y||(O(e.$$.fragment,u),O(o.$$.fragment,u),O(_),O(c.$$.fragment,u),O(m.$$.fragment,u),y=!0)},o(u){P(e.$$.fragment,u),P(o.$$.fragment,u),P(_),P(c.$$.fragment,u),P(m.$$.fragment,u),y=!1},d(u){u&&(h(r),h(s),h(t),h(d)),R(e,u),R(o,u),p&&p.d(),_&&_.d(),n[17](null),R(c),R(m,u)}}}function At(n,e,r){let o,s,t,l;ee(n,ie,b=>r(2,t=b)),ee(n,xe,b=>r(14,l=b)),tt();let a,i,c,f,d;const m=["https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-regular.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-700.woff2","https://pudding.cool/assets/fonts/rubik/rubik-v14-latin-900.woff2"],{title:y,description:p,url:_,keywords:C}=me;Re("copy",me);function A(b){if(!b)return;const $=b.toLowerCase(),D=o,H=$.indexOf(D),B=H+D.length,ae=b.slice(0,H),v=b.slice(H,B),Ce=v.split(":")[0],Ae=v.split(":")[1],Oe=b.slice(B);return[{text:ae},{mark:!0,text:[Ce,":",Ae]},{text:Oe}]}function K(){r(0,i={name:o,artist:"No Track Found",href:""}),audioEl&&(audioEl.pause(),audioEl.currentTime=0)}function u(){const b=a.filter($=>$.time===o);if(!b.length)K();else{const $=b.filter(B=>B.probably_time==="true").length>1,D=b.filter(B=>$?B.probably_time==="true":!0),H=Math.floor(Math.random()*D.length);i==null||i.id,r(0,i={...D[H]}),c.play()}}function k(){u()}async function S(){const b=await Ye("../assets/tracks.csv");r(12,a=b.map($=>({...$,popularity:+$.popularity})))}const L=()=>We(ie,t=!1,t);function se(b){f=b,r(1,f)}function re(b){ue[b?"unshift":"push"](()=>{c=b,r(3,c)})}const oe=()=>u();return n.$$.update=()=>{n.$$.dirty&16384&&r(13,o=l.time),n.$$.dirty&16384&&l.period,n.$$.dirty&12290&&a&&f&&k(),n.$$.dirty&1&&r(5,s=A(i==null?void 0:i.name)),n.$$.dirty&4&&(t||r(4,d=!0))},S(),[i,f,t,c,d,s,m,y,p,_,C,u,a,o,l,L,se,re,oe]}class Dt extends X{constructor(e){super(),Y(this,e,At,Ct,W,{})}}export{Dt as component};
